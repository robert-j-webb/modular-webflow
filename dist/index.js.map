{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../node_modules/@amplitude/ua-parser-js/src/ua-parser.js", "../src/index.js", "../node_modules/@amplitude/experiment-js-client/dist/experiment.esm.js", "../node_modules/@amplitude/analytics-connector/dist/analytics-connector.esm.js", "../node_modules/@amplitude/experiment-core/dist/experiment-core.esm.js", "../src/utils/globalFunctions.js", "../src/utils/sniffEmail.js", "../src/utils/tabCarousel.js", "../src/utils/wait.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v0.7.33\n   Copyright \u00A9 2012-2021 Faisal Salman <f@faisalman.com>\n   MIT License */ /*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment.\n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n  \"use strict\";\n\n  //////////////\n  // Constants\n  /////////////\n\n  var LIBVERSION = \"0.7.33\",\n    EMPTY = \"\",\n    UNKNOWN = \"?\",\n    FUNC_TYPE = \"function\",\n    UNDEF_TYPE = \"undefined\",\n    OBJ_TYPE = \"object\",\n    STR_TYPE = \"string\",\n    MAJOR = \"major\",\n    MODEL = \"model\",\n    NAME = \"name\",\n    TYPE = \"type\",\n    VENDOR = \"vendor\",\n    VERSION = \"version\",\n    ARCHITECTURE = \"architecture\",\n    CONSOLE = \"console\",\n    MOBILE = \"mobile\",\n    TABLET = \"tablet\",\n    SMARTTV = \"smarttv\",\n    WEARABLE = \"wearable\",\n    EMBEDDED = \"embedded\",\n    UA_MAX_LENGTH = 350;\n\n  var AMAZON = \"Amazon\",\n    APPLE = \"Apple\",\n    ASUS = \"ASUS\",\n    BLACKBERRY = \"BlackBerry\",\n    BROWSER = \"Browser\",\n    CHROME = \"Chrome\",\n    EDGE = \"Edge\",\n    FIREFOX = \"Firefox\",\n    GOOGLE = \"Google\",\n    HUAWEI = \"Huawei\",\n    LG = \"LG\",\n    MICROSOFT = \"Microsoft\",\n    MOTOROLA = \"Motorola\",\n    OPERA = \"Opera\",\n    SAMSUNG = \"Samsung\",\n    SHARP = \"Sharp\",\n    SONY = \"Sony\",\n    XIAOMI = \"Xiaomi\",\n    ZEBRA = \"Zebra\",\n    FACEBOOK = \"Facebook\";\n\n  ///////////\n  // Helper\n  //////////\n\n  var extend = function (regexes, extensions) {\n      var mergedRegexes = {};\n      for (var i in regexes) {\n        if (extensions[i] && extensions[i].length % 2 === 0) {\n          mergedRegexes[i] = extensions[i].concat(regexes[i]);\n        } else {\n          mergedRegexes[i] = regexes[i];\n        }\n      }\n      return mergedRegexes;\n    },\n    enumerize = function (arr) {\n      var enums = {};\n      for (var i = 0; i < arr.length; i++) {\n        enums[arr[i].toUpperCase()] = arr[i];\n      }\n      return enums;\n    },\n    has = function (str1, str2) {\n      return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n    },\n    lowerize = function (str) {\n      return str.toLowerCase();\n    },\n    majorize = function (version) {\n      return typeof version === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split(\".\")[0] : undefined;\n    },\n    trim = function (str, len) {\n      if (typeof str === STR_TYPE) {\n        str = str.replace(/^\\s\\s*/, EMPTY);\n        return typeof len === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n      }\n    };\n\n  ///////////////\n  // Map helper\n  //////////////\n\n  var rgxMapper = function (ua, arrays) {\n      var i = 0,\n        j,\n        k,\n        p,\n        q,\n        matches,\n        match;\n\n      // loop through all regexes maps\n      while (i < arrays.length && !matches) {\n        var regex = arrays[i], // even sequence (0,2,4,..)\n          props = arrays[i + 1]; // odd sequence (1,3,5,..)\n        j = k = 0;\n\n        // try matching uastring with regexes\n        while (j < regex.length && !matches) {\n          matches = regex[j++].exec(ua);\n\n          if (!!matches) {\n            for (p = 0; p < props.length; p++) {\n              match = matches[++k];\n              q = props[p];\n              // check if given property is actually array\n              if (typeof q === OBJ_TYPE && q.length > 0) {\n                if (q.length === 2) {\n                  if (typeof q[1] == FUNC_TYPE) {\n                    // assign modified match\n                    this[q[0]] = q[1].call(this, match);\n                  } else {\n                    // assign given value, ignore regex match\n                    this[q[0]] = q[1];\n                  }\n                } else if (q.length === 3) {\n                  // check whether function or regex\n                  if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                    // call function (usually string mapper)\n                    this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                  } else {\n                    // sanitize match using given regex\n                    this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                  }\n                } else if (q.length === 4) {\n                  this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                }\n              } else {\n                this[q] = match ? match : undefined;\n              }\n            }\n          }\n        }\n        i += 2;\n      }\n    },\n    strMapper = function (str, map) {\n      for (var i in map) {\n        // check if current value is array\n        if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n          for (var j = 0; j < map[i].length; j++) {\n            if (has(map[i][j], str)) {\n              return i === UNKNOWN ? undefined : i;\n            }\n          }\n        } else if (has(map[i], str)) {\n          return i === UNKNOWN ? undefined : i;\n        }\n      }\n      return str;\n    };\n\n  ///////////////\n  // String map\n  //////////////\n\n  // Safari < 3.0\n  var oldSafariMap = {\n      \"1.0\": \"/8\",\n      1.2: \"/1\",\n      1.3: \"/3\",\n      \"2.0\": \"/412\",\n      \"2.0.2\": \"/416\",\n      \"2.0.3\": \"/417\",\n      \"2.0.4\": \"/419\",\n      \"?\": \"/\"\n    },\n    windowsVersionMap = {\n      ME: \"4.90\",\n      \"NT 3.11\": \"NT3.51\",\n      \"NT 4.0\": \"NT4.0\",\n      2000: \"NT 5.0\",\n      XP: [\"NT 5.1\", \"NT 5.2\"],\n      Vista: \"NT 6.0\",\n      7: \"NT 6.1\",\n      8: \"NT 6.2\",\n      8.1: \"NT 6.3\",\n      10: [\"NT 6.4\", \"NT 10.0\"],\n      RT: \"ARM\"\n    };\n\n  //////////////\n  // Regex map\n  /////////////\n\n  var regexes = {\n    browser: [\n      [\n        /\\b(?:crmo|crios)\\/([\\w\\.]+)/i // Chrome for Android/iOS\n      ],\n      [VERSION, [NAME, \"Chrome\"]],\n      [\n        /edg(?:e|ios|a)?\\/([\\w\\.]+)/i // Microsoft Edge\n      ],\n      [VERSION, [NAME, \"Edge\"]],\n      [\n        // Presto based\n        /(opera mini)\\/([-\\w\\.]+)/i, // Opera Mini\n        /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i, // Opera Mobi/Tablet\n        /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i // Opera\n      ],\n      [NAME, VERSION],\n      [\n        /opios[\\/ ]+([\\w\\.]+)/i // Opera mini on iphone >= 8.0\n      ],\n      [VERSION, [NAME, OPERA + \" Mini\"]],\n      [\n        /\\bopr\\/([\\w\\.]+)/i // Opera Webkit\n      ],\n      [VERSION, [NAME, OPERA]],\n      [\n        // Mixed\n        /(kindle)\\/([\\w\\.]+)/i, // Kindle\n        /(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i, // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n        // Trident based\n        /(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i, // Avant/IEMobile/SlimBrowser\n        /(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i, // Baidu Browser\n        /(?:ms|\\()(ie) ([\\w\\.]+)/i, // Internet Explorer\n\n        // Webkit/KHTML based                                               // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n        /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,\n        // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ, aka ShouQ\n        /(weibo)__([\\d\\.]+)/i // Weibo\n      ],\n      [NAME, VERSION],\n      [\n        /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i // UCBrowser\n      ],\n      [VERSION, [NAME, \"UC\" + BROWSER]],\n      [\n        /microm.+\\bqbcore\\/([\\w\\.]+)/i, // WeChat Desktop for Windows Built-in Browser\n        /\\bqbcore\\/([\\w\\.]+).+microm/i\n      ],\n      [VERSION, [NAME, \"WeChat(Win) Desktop\"]],\n      [\n        /micromessenger\\/([\\w\\.]+)/i // WeChat\n      ],\n      [VERSION, [NAME, \"WeChat\"]],\n      [\n        /konqueror\\/([\\w\\.]+)/i // Konqueror\n      ],\n      [VERSION, [NAME, \"Konqueror\"]],\n      [\n        /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i // IE11\n      ],\n      [VERSION, [NAME, \"IE\"]],\n      [\n        /yabrowser\\/([\\w\\.]+)/i // Yandex\n      ],\n      [VERSION, [NAME, \"Yandex\"]],\n      [\n        /(avast|avg)\\/([\\w\\.]+)/i // Avast/AVG Secure Browser\n      ],\n      [[NAME, /(.+)/, \"$1 Secure \" + BROWSER], VERSION],\n      [\n        /\\bfocus\\/([\\w\\.]+)/i // Firefox Focus\n      ],\n      [VERSION, [NAME, FIREFOX + \" Focus\"]],\n      [\n        /\\bopt\\/([\\w\\.]+)/i // Opera Touch\n      ],\n      [VERSION, [NAME, OPERA + \" Touch\"]],\n      [\n        /coc_coc\\w+\\/([\\w\\.]+)/i // Coc Coc Browser\n      ],\n      [VERSION, [NAME, \"Coc Coc\"]],\n      [\n        /dolfin\\/([\\w\\.]+)/i // Dolphin\n      ],\n      [VERSION, [NAME, \"Dolphin\"]],\n      [\n        /coast\\/([\\w\\.]+)/i // Opera Coast\n      ],\n      [VERSION, [NAME, OPERA + \" Coast\"]],\n      [\n        /miuibrowser\\/([\\w\\.]+)/i // MIUI Browser\n      ],\n      [VERSION, [NAME, \"MIUI \" + BROWSER]],\n      [\n        /fxios\\/([-\\w\\.]+)/i // Firefox for iOS\n      ],\n      [VERSION, [NAME, FIREFOX]],\n      [\n        /\\bqihu|(qi?ho?o?|360)browser/i // 360\n      ],\n      [[NAME, \"360 \" + BROWSER]],\n      [/(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i],\n      [[NAME, /(.+)/, \"$1 \" + BROWSER], VERSION],\n      [\n        // Oculus/Samsung/Sailfish/Huawei Browser\n        /(comodo_dragon)\\/([\\w\\.]+)/i // Comodo Dragon\n      ],\n      [[NAME, /_/g, \" \"], VERSION],\n      [\n        /(electron)\\/([\\w\\.]+) safari/i, // Electron-based App\n        /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i, // Tesla\n        /m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i // QQBrowser/Baidu App/2345 Browser\n      ],\n      [NAME, VERSION],\n      [\n        /(metasr)[\\/ ]?([\\w\\.]+)/i, // SouGouBrowser\n        /(lbbrowser)/i, // LieBao Browser\n        /\\[(linkedin)app\\]/i // LinkedIn App for iOS & Android\n      ],\n      [NAME],\n      [\n        // WebView\n        /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i // Facebook App for iOS & Android\n      ],\n      [[NAME, FACEBOOK], VERSION],\n      [\n        /safari (line)\\/([\\w\\.]+)/i, // Line App for iOS\n        /\\b(line)\\/([\\w\\.]+)\\/iab/i, // Line App for Android\n        /(chromium|instagram)[\\/ ]([-\\w\\.]+)/i // Chromium/Instagram\n      ],\n      [NAME, VERSION],\n      [\n        /\\bgsa\\/([\\w\\.]+) .*safari\\//i // Google Search Appliance on iOS\n      ],\n      [VERSION, [NAME, \"GSA\"]],\n      [\n        /headlesschrome(?:\\/([\\w\\.]+)| )/i // Chrome Headless\n      ],\n      [VERSION, [NAME, CHROME + \" Headless\"]],\n      [\n        / wv\\).+(chrome)\\/([\\w\\.]+)/i // Chrome WebView\n      ],\n      [[NAME, CHROME + \" WebView\"], VERSION],\n      [\n        /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i // Android Browser\n      ],\n      [VERSION, [NAME, \"Android \" + BROWSER]],\n      [\n        /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i // Chrome/OmniWeb/Arora/Tizen/Nokia\n      ],\n      [NAME, VERSION],\n      [\n        /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i // Mobile Safari\n      ],\n      [VERSION, [NAME, \"Mobile Safari\"]],\n      [\n        /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i // Safari & Safari Mobile\n      ],\n      [VERSION, NAME],\n      [\n        /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i // Safari < 3.0\n      ],\n      [NAME, [VERSION, strMapper, oldSafariMap]],\n      [/(webkit|khtml)\\/([\\w\\.]+)/i],\n      [NAME, VERSION],\n      [\n        // Gecko based\n        /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i // Netscape\n      ],\n      [[NAME, \"Netscape\"], VERSION],\n      [\n        /mobile vr; rv:([\\w\\.]+)\\).+firefox/i // Firefox Reality\n      ],\n      [VERSION, [NAME, FIREFOX + \" Reality\"]],\n      [\n        /ekiohf.+(flow)\\/([\\w\\.]+)/i, // Flow\n        /(swiftfox)/i, // Swiftfox\n        /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,\n        // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror/Klar\n        /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n        // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n        /(firefox)\\/([\\w\\.]+)/i, // Other Firefox-based\n        /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i, // Mozilla\n\n        // Other\n        /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n        // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir/Obigo/Mosaic/Go/ICE/UP.Browser\n        /(links) \\(([\\w\\.]+)/i // Links\n      ],\n      [NAME, VERSION],\n      [\n        /(cobalt)\\/([\\w\\.]+)/i // Cobalt\n      ],\n      [NAME, [VERSION, /master.|lts./, \"\"]]\n    ],\n\n    cpu: [\n      [\n        /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i // AMD64 (x64)\n      ],\n      [[ARCHITECTURE, \"amd64\"]],\n      [\n        /(ia32(?=;))/i // IA32 (quicktime)\n      ],\n      [[ARCHITECTURE, lowerize]],\n      [\n        /((?:i[346]|x)86)[;\\)]/i // IA32 (x86)\n      ],\n      [[ARCHITECTURE, \"ia32\"]],\n      [\n        /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i // ARM64\n      ],\n      [[ARCHITECTURE, \"arm64\"]],\n      [\n        /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i // ARMHF\n      ],\n      [[ARCHITECTURE, \"armhf\"]],\n      [\n        // PocketPC mistakenly identified as PowerPC\n        /windows (ce|mobile); ppc;/i\n      ],\n      [[ARCHITECTURE, \"arm\"]],\n      [\n        /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i // PowerPC\n      ],\n      [[ARCHITECTURE, /ower/, EMPTY, lowerize]],\n      [\n        /(sun4\\w)[;\\)]/i // SPARC\n      ],\n      [[ARCHITECTURE, \"sparc\"]],\n      [\n        /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n        // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n      ],\n      [[ARCHITECTURE, lowerize]]\n    ],\n\n    device: [\n      [\n        //////////////////////////\n        // MOBILES & TABLETS\n        // Ordered by popularity\n        /////////////////////////\n\n        // Samsung\n        /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n      ],\n      [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]],\n      [\n        /\\b((?:s[cgp]h|gt|sm)-\\w+|galaxy nexus)/i,\n        /samsung[- ]([-\\w]+)/i,\n        /sec-(sgh\\w+)/i\n      ],\n      [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]],\n      [\n        // Apple\n        /((ipod|iphone)\\d+,\\d+)/i // iPod/iPhone model\n      ],\n      [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]],\n      [\n        /(ipad\\d+,\\d+)/i // iPad model\n      ],\n      [MODEL, [VENDOR, APPLE], [TYPE, TABLET]],\n      [\n        /\\((ip(?:hone|od)[\\w ]*);/i // iPod/iPhone\n      ],\n      [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]],\n      [\n        /\\((ipad);[-\\w\\),; ]+apple/i, // iPad\n        /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n        /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n      ],\n      [MODEL, [VENDOR, APPLE], [TYPE, TABLET]],\n      [/(macintosh);/i],\n      [MODEL, [VENDOR, APPLE]],\n      [\n        // Huawei\n        /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n      ],\n      [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]],\n      [\n        /(?:huawei|honor)([-\\w ]+)[;\\)]/i,\n        /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n      ],\n      [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]],\n      [\n        // Xiaomi\n        /\\b(poco[\\w ]+)(?: bui|\\))/i, // Xiaomi POCO\n        /\\b; (\\w+) build\\/hm\\1/i, // Xiaomi Hongmi 'numeric' models\n        /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i, // Xiaomi Hongmi\n        /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i, // Xiaomi Redmi\n        /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i // Xiaomi Mi\n      ],\n      [\n        [MODEL, /_/g, \" \"],\n        [VENDOR, XIAOMI],\n        [TYPE, MOBILE]\n      ],\n      [\n        /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i // Mi Pad tablets\n      ],\n      [\n        [MODEL, /_/g, \" \"],\n        [VENDOR, XIAOMI],\n        [TYPE, TABLET]\n      ],\n      [\n        // OPPO\n        /; (\\w+) bui.+ oppo/i,\n        /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n      ],\n      [MODEL, [VENDOR, \"OPPO\"], [TYPE, MOBILE]],\n      [\n        // Vivo\n        /vivo (\\w+)(?: bui|\\))/i,\n        /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n      ],\n      [MODEL, [VENDOR, \"Vivo\"], [TYPE, MOBILE]],\n      [\n        // Realme\n        /\\b(rmx[12]\\d{3})(?: bui|;|\\))/i\n      ],\n      [MODEL, [VENDOR, \"Realme\"], [TYPE, MOBILE]],\n      [\n        // Motorola\n        /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n        /\\bmot(?:orola)?[- ](\\w*)/i,\n        /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n      ],\n      [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]],\n      [/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],\n      [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]],\n      [\n        // LG\n        /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n      ],\n      [MODEL, [VENDOR, LG], [TYPE, TABLET]],\n      [\n        /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n        /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n        /\\blg-?([\\d\\w]+) bui/i\n      ],\n      [MODEL, [VENDOR, LG], [TYPE, MOBILE]],\n      [\n        // Lenovo\n        /(ideatab[-\\w ]+)/i,\n        /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n      ],\n      [MODEL, [VENDOR, \"Lenovo\"], [TYPE, TABLET]],\n      [\n        // Nokia\n        /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n        /nokia[-_ ]?([-\\w\\.]*)/i\n      ],\n      [\n        [MODEL, /_/g, \" \"],\n        [VENDOR, \"Nokia\"],\n        [TYPE, MOBILE]\n      ],\n      [\n        // Google\n        /(pixel c)\\b/i // Google Pixel C\n      ],\n      [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]],\n      [\n        /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i // Google Pixel\n      ],\n      [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]],\n      [\n        // Sony\n        /droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n      ],\n      [MODEL, [VENDOR, SONY], [TYPE, MOBILE]],\n      [/sony tablet [ps]/i, /\\b(?:sony)?sgp\\w+(?: bui|\\))/i],\n      [\n        [MODEL, \"Xperia Tablet\"],\n        [VENDOR, SONY],\n        [TYPE, TABLET]\n      ],\n      [\n        // OnePlus\n        / (kb2005|in20[12]5|be20[12][59])\\b/i,\n        /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n      ],\n      [MODEL, [VENDOR, \"OnePlus\"], [TYPE, MOBILE]],\n      [\n        // Amazon\n        /(alexa)webm/i,\n        /(kf[a-z]{2}wi)( bui|\\))/i, // Kindle Fire without Silk\n        /(kf[a-z]+)( bui|\\)).+silk\\//i // Kindle Fire HD\n      ],\n      [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]],\n      [\n        /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i // Fire Phone\n      ],\n      [\n        [MODEL, /(.+)/g, \"Fire Phone $1\"],\n        [VENDOR, AMAZON],\n        [TYPE, MOBILE]\n      ],\n      [\n        // BlackBerry\n        /(playbook);[-\\w\\),; ]+(rim)/i // BlackBerry PlayBook\n      ],\n      [MODEL, VENDOR, [TYPE, TABLET]],\n      [\n        /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n        /\\(bb10; (\\w+)/i // BlackBerry 10\n      ],\n      [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]],\n      [\n        // Asus\n        /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n      ],\n      [MODEL, [VENDOR, ASUS], [TYPE, TABLET]],\n      [/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],\n      [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]],\n      [\n        // HTC\n        /(nexus 9)/i // HTC Nexus 9\n      ],\n      [MODEL, [VENDOR, \"HTC\"], [TYPE, TABLET]],\n      [\n        /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i, // HTC\n\n        // ZTE\n        /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n        /(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\\w]*)/i // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n      ],\n      [VENDOR, [MODEL, /_/g, \" \"], [TYPE, MOBILE]],\n      [\n        // Acer\n        /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n      ],\n      [MODEL, [VENDOR, \"Acer\"], [TYPE, TABLET]],\n      [\n        // Meizu\n        /droid.+; (m[1-5] note) bui/i,\n        /\\bmz-([-\\w]{2,})/i\n      ],\n      [MODEL, [VENDOR, \"Meizu\"], [TYPE, MOBILE]],\n      [\n        // Sharp\n        /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n      ],\n      [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]],\n      [\n        // MIXED\n        /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,\n        // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n        /(hp) ([\\w ]+\\w)/i, // HP iPAQ\n        /(asus)-?(\\w+)/i, // Asus\n        /(microsoft); (lumia[\\w ]+)/i, // Microsoft Lumia\n        /(lenovo)[-_ ]?([-\\w]+)/i, // Lenovo\n        /(jolla)/i, // Jolla\n        /(oppo) ?([\\w ]+) bui/i // OPPO\n      ],\n      [VENDOR, MODEL, [TYPE, MOBILE]],\n      [\n        /(archos) (gamepad2?)/i, // Archos\n        /(hp).+(touchpad(?!.+tablet)|tablet)/i, // HP TouchPad\n        /(kindle)\\/([\\w\\.]+)/i, // Kindle\n        /(nook)[\\w ]+build\\/(\\w+)/i, // Nook\n        /(dell) (strea[kpr\\d ]*[\\dko])/i, // Dell Streak\n        /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i, // Le Pan Tablets\n        /(trinity)[- ]*(t\\d{3}) bui/i, // Trinity Tablets\n        /(gigaset)[- ]+(q\\w{1,9}) bui/i, // Gigaset Tablets\n        /(vodafone) ([\\w ]+)(?:\\)| bui)/i // Vodafone\n      ],\n      [VENDOR, MODEL, [TYPE, TABLET]],\n      [\n        /(surface duo)/i // Surface Duo\n      ],\n      [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]],\n      [\n        /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i // Fairphone\n      ],\n      [MODEL, [VENDOR, \"Fairphone\"], [TYPE, MOBILE]],\n      [\n        /(u304aa)/i // AT&T\n      ],\n      [MODEL, [VENDOR, \"AT&T\"], [TYPE, MOBILE]],\n      [\n        /\\bsie-(\\w*)/i // Siemens\n      ],\n      [MODEL, [VENDOR, \"Siemens\"], [TYPE, MOBILE]],\n      [\n        /\\b(rct\\w+) b/i // RCA Tablets\n      ],\n      [MODEL, [VENDOR, \"RCA\"], [TYPE, TABLET]],\n      [\n        /\\b(venue[\\d ]{2,7}) b/i // Dell Venue Tablets\n      ],\n      [MODEL, [VENDOR, \"Dell\"], [TYPE, TABLET]],\n      [\n        /\\b(q(?:mv|ta)\\w+) b/i // Verizon Tablet\n      ],\n      [MODEL, [VENDOR, \"Verizon\"], [TYPE, TABLET]],\n      [\n        /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i // Barnes & Noble Tablet\n      ],\n      [MODEL, [VENDOR, \"Barnes & Noble\"], [TYPE, TABLET]],\n      [/\\b(tm\\d{3}\\w+) b/i],\n      [MODEL, [VENDOR, \"NuVision\"], [TYPE, TABLET]],\n      [\n        /\\b(k88) b/i // ZTE K Series Tablet\n      ],\n      [MODEL, [VENDOR, \"ZTE\"], [TYPE, TABLET]],\n      [\n        /\\b(nx\\d{3}j) b/i // ZTE Nubia\n      ],\n      [MODEL, [VENDOR, \"ZTE\"], [TYPE, MOBILE]],\n      [\n        /\\b(gen\\d{3}) b.+49h/i // Swiss GEN Mobile\n      ],\n      [MODEL, [VENDOR, \"Swiss\"], [TYPE, MOBILE]],\n      [\n        /\\b(zur\\d{3}) b/i // Swiss ZUR Tablet\n      ],\n      [MODEL, [VENDOR, \"Swiss\"], [TYPE, TABLET]],\n      [\n        /\\b((zeki)?tb.*\\b) b/i // Zeki Tablets\n      ],\n      [MODEL, [VENDOR, \"Zeki\"], [TYPE, TABLET]],\n      [\n        /\\b([yr]\\d{2}) b/i,\n        /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i // Dragon Touch Tablet\n      ],\n      [[VENDOR, \"Dragon Touch\"], MODEL, [TYPE, TABLET]],\n      [\n        /\\b(ns-?\\w{0,9}) b/i // Insignia Tablets\n      ],\n      [MODEL, [VENDOR, \"Insignia\"], [TYPE, TABLET]],\n      [\n        /\\b((nxa|next)-?\\w{0,9}) b/i // NextBook Tablets\n      ],\n      [MODEL, [VENDOR, \"NextBook\"], [TYPE, TABLET]],\n      [\n        /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i // Voice Xtreme Phones\n      ],\n      [[VENDOR, \"Voice\"], MODEL, [TYPE, MOBILE]],\n      [\n        /\\b(lvtel\\-)?(v1[12]) b/i // LvTel Phones\n      ],\n      [[VENDOR, \"LvTel\"], MODEL, [TYPE, MOBILE]],\n      [\n        /\\b(ph-1) /i // Essential PH-1\n      ],\n      [MODEL, [VENDOR, \"Essential\"], [TYPE, MOBILE]],\n      [\n        /\\b(v(100md|700na|7011|917g).*\\b) b/i // Envizen Tablets\n      ],\n      [MODEL, [VENDOR, \"Envizen\"], [TYPE, TABLET]],\n      [\n        /\\b(trio[-\\w\\. ]+) b/i // MachSpeed Tablets\n      ],\n      [MODEL, [VENDOR, \"MachSpeed\"], [TYPE, TABLET]],\n      [\n        /\\btu_(1491) b/i // Rotor Tablets\n      ],\n      [MODEL, [VENDOR, \"Rotor\"], [TYPE, TABLET]],\n      [\n        /(shield[\\w ]+) b/i // Nvidia Shield Tablets\n      ],\n      [MODEL, [VENDOR, \"Nvidia\"], [TYPE, TABLET]],\n      [\n        /(sprint) (\\w+)/i // Sprint Phones\n      ],\n      [VENDOR, MODEL, [TYPE, MOBILE]],\n      [\n        /(kin\\.[onetw]{3})/i // Microsoft Kin\n      ],\n      [\n        [MODEL, /\\./g, \" \"],\n        [VENDOR, MICROSOFT],\n        [TYPE, MOBILE]\n      ],\n      [\n        /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i // Zebra\n      ],\n      [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]],\n      [/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],\n      [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]],\n      [\n        ///////////////////\n        // CONSOLES\n        ///////////////////\n\n        /(ouya)/i, // Ouya\n        /(nintendo) ([wids3utch]+)/i // Nintendo\n      ],\n      [VENDOR, MODEL, [TYPE, CONSOLE]],\n      [\n        /droid.+; (shield) bui/i // Nvidia\n      ],\n      [MODEL, [VENDOR, \"Nvidia\"], [TYPE, CONSOLE]],\n      [\n        /(playstation [345portablevi]+)/i // Playstation\n      ],\n      [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]],\n      [\n        /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i // Microsoft Xbox\n      ],\n      [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]],\n      [\n        ///////////////////\n        // SMARTTVS\n        ///////////////////\n\n        /smart-tv.+(samsung)/i // Samsung\n      ],\n      [VENDOR, [TYPE, SMARTTV]],\n      [/hbbtv.+maple;(\\d+)/i],\n      [\n        [MODEL, /^/, \"SmartTV\"],\n        [VENDOR, SAMSUNG],\n        [TYPE, SMARTTV]\n      ],\n      [\n        /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i // LG SmartTV\n      ],\n      [\n        [VENDOR, LG],\n        [TYPE, SMARTTV]\n      ],\n      [\n        /(apple) ?tv/i // Apple TV\n      ],\n      [VENDOR, [MODEL, APPLE + \" TV\"], [TYPE, SMARTTV]],\n      [\n        /crkey/i // Google Chromecast\n      ],\n      [\n        [MODEL, CHROME + \"cast\"],\n        [VENDOR, GOOGLE],\n        [TYPE, SMARTTV]\n      ],\n      [\n        /droid.+aft(\\w)( bui|\\))/i // Fire TV\n      ],\n      [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]],\n      [\n        /\\(dtv[\\);].+(aquos)/i,\n        /(aquos-tv[\\w ]+)\\)/i // Sharp\n      ],\n      [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],\n      [\n        /(bravia[\\w ]+)( bui|\\))/i // Sony\n      ],\n      [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]],\n      [\n        /(mitv-\\w{5}) bui/i // Xiaomi\n      ],\n      [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]],\n      [\n        /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i, // Roku\n        /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w ]*; *(\\w[^;]*);([^;]*)/i // HbbTV devices\n      ],\n      [\n        [VENDOR, trim],\n        [MODEL, trim],\n        [TYPE, SMARTTV]\n      ],\n      [\n        /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i // SmartTV from Unidentified Vendors\n      ],\n      [[TYPE, SMARTTV]],\n      [\n        ///////////////////\n        // WEARABLES\n        ///////////////////\n\n        /((pebble))app/i // Pebble\n      ],\n      [VENDOR, MODEL, [TYPE, WEARABLE]],\n      [\n        /droid.+; (glass) \\d/i // Google Glass\n      ],\n      [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]],\n      [/droid.+; (wt63?0{2,3})\\)/i],\n      [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]],\n      [\n        /(quest( 2)?)/i // Oculus Quest\n      ],\n      [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]],\n      [\n        ///////////////////\n        // EMBEDDED\n        ///////////////////\n\n        /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i // Tesla\n      ],\n      [VENDOR, [TYPE, EMBEDDED]],\n      [\n        ////////////////////\n        // MIXED (GENERIC)\n        ///////////////////\n\n        /droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i // Android Phones from Unidentified Vendors\n      ],\n      [MODEL, [TYPE, MOBILE]],\n      [\n        /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i // Android Tablets from Unidentified Vendors\n      ],\n      [MODEL, [TYPE, TABLET]],\n      [\n        /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i // Unidentifiable Tablet\n      ],\n      [[TYPE, TABLET]],\n      [\n        /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i // Unidentifiable Mobile\n      ],\n      [[TYPE, MOBILE]],\n      [\n        /(android[-\\w\\. ]{0,9});.+buil/i // Generic Android Device\n      ],\n      [MODEL, [VENDOR, \"Generic\"]]\n    ],\n\n    engine: [\n      [\n        /windows.+ edge\\/([\\w\\.]+)/i // EdgeHTML\n      ],\n      [VERSION, [NAME, EDGE + \"HTML\"]],\n      [\n        /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i // Blink\n      ],\n      [VERSION, [NAME, \"Blink\"]],\n      [\n        /(presto)\\/([\\w\\.]+)/i, // Presto\n        /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n        /ekioh(flow)\\/([\\w\\.]+)/i, // Flow\n        /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i, // KHTML/Tasman/Links\n        /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i // iCab\n      ],\n      [NAME, VERSION],\n      [\n        /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i // Gecko\n      ],\n      [VERSION, NAME]\n    ],\n\n    os: [\n      [\n        // Windows\n        /microsoft (windows) (vista|xp)/i // Windows (iTunes)\n      ],\n      [NAME, VERSION],\n      [\n        /(windows) nt 6\\.2; (arm)/i, // Windows RT\n        /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i, // Windows Phone\n        /(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i\n      ],\n      [NAME, [VERSION, strMapper, windowsVersionMap]],\n      [/(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],\n      [\n        [NAME, \"Windows\"],\n        [VERSION, strMapper, windowsVersionMap]\n      ],\n      [\n        // iOS/macOS\n        /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i, // iOS\n        /cfnetwork\\/.+darwin/i\n      ],\n      [\n        [VERSION, /_/g, \".\"],\n        [NAME, \"iOS\"]\n      ],\n      [\n        /(mac os x) ?([\\w\\. ]*)/i,\n        /(macintosh|mac_powerpc\\b)(?!.+haiku)/i // Mac OS\n      ],\n      [\n        [NAME, \"Mac OS\"],\n        [VERSION, /_/g, \".\"]\n      ],\n      [\n        // Mobile OSes\n        /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i // Android-x86/HarmonyOS\n      ],\n      [VERSION, NAME],\n      [\n        // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS\n        /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,\n        /(blackberry)\\w*\\/([\\w\\.]*)/i, // Blackberry\n        /(tizen|kaios)[\\/ ]([\\w\\.]+)/i, // Tizen/KaiOS\n        /\\((series40);/i // Series 40\n      ],\n      [NAME, VERSION],\n      [\n        /\\(bb(10);/i // BlackBerry 10\n      ],\n      [VERSION, [NAME, BLACKBERRY]],\n      [\n        /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i // Symbian\n      ],\n      [VERSION, [NAME, \"Symbian\"]],\n      [\n        /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n      ],\n      [VERSION, [NAME, FIREFOX + \" OS\"]],\n      [\n        /web0s;.+rt(tv)/i,\n        /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i // WebOS\n      ],\n      [VERSION, [NAME, \"webOS\"]],\n      [\n        // Google Chromecast\n        /crkey\\/([\\d\\.]+)/i // Google Chromecast\n      ],\n      [VERSION, [NAME, CHROME + \"cast\"]],\n      [\n        /(cros) [\\w]+ ([\\w\\.]+\\w)/i // Chromium OS\n      ],\n      [[NAME, \"Chromium OS\"], VERSION],\n      [\n        // Console\n        /(nintendo|playstation) ([wids345portablevuch]+)/i, // Nintendo/Playstation\n        /(xbox); +xbox ([^\\);]+)/i, // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n        // Other\n        /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i, // Joli/Palm\n        /(mint)[\\/\\(\\) ]?(\\w*)/i, // Mint\n        /(mageia|vectorlinux)[; ]/i, // Mageia/VectorLinux\n        /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n        // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n        /(hurd|linux) ?([\\w\\.]*)/i, // Hurd/Linux\n        /(gnu) ?([\\w\\.]*)/i, // GNU\n        /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n        /(haiku) (\\w+)/i // Haiku\n      ],\n      [NAME, VERSION],\n      [\n        /(sunos) ?([\\w\\.\\d]*)/i // Solaris\n      ],\n      [[NAME, \"Solaris\"], VERSION],\n      [\n        /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i, // Solaris\n        /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i, // AIX\n        /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i, // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX\n        /(unix) ?([\\w\\.]*)/i // UNIX\n      ],\n      [NAME, VERSION]\n    ]\n  };\n\n  /////////////////\n  // Constructor\n  ////////////////\n\n  var UAParser = function (ua, extensions) {\n    if (typeof ua === OBJ_TYPE) {\n      extensions = ua;\n      ua = undefined;\n    }\n\n    if (!(this instanceof UAParser)) {\n      return new UAParser(ua, extensions).getResult();\n    }\n\n    var _ua =\n      ua ||\n      (typeof window !== UNDEF_TYPE &&\n      window.navigator &&\n      window.navigator.userAgent ? window.navigator.userAgent : EMPTY);\n    var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n\n    this.getBrowser = function () {\n      var _browser = {};\n      _browser[NAME] = undefined;\n      _browser[VERSION] = undefined;\n      rgxMapper.call(_browser, _ua, _rgxmap.browser);\n      _browser.major = majorize(_browser.version);\n      return _browser;\n    };\n    this.getCPU = function () {\n      var _cpu = {};\n      _cpu[ARCHITECTURE] = undefined;\n      rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n      return _cpu;\n    };\n    this.getDevice = function () {\n      var _device = {};\n      _device[VENDOR] = undefined;\n      _device[MODEL] = undefined;\n      _device[TYPE] = undefined;\n      rgxMapper.call(_device, _ua, _rgxmap.device);\n      return _device;\n    };\n    this.getEngine = function () {\n      var _engine = {};\n      _engine[NAME] = undefined;\n      _engine[VERSION] = undefined;\n      rgxMapper.call(_engine, _ua, _rgxmap.engine);\n      return _engine;\n    };\n    this.getOS = function () {\n      var _os = {};\n      _os[NAME] = undefined;\n      _os[VERSION] = undefined;\n      rgxMapper.call(_os, _ua, _rgxmap.os);\n      return _os;\n    };\n    this.getResult = function () {\n      return {\n        ua: this.getUA(),\n        browser: this.getBrowser(),\n        engine: this.getEngine(),\n        os: this.getOS(),\n        device: this.getDevice(),\n        cpu: this.getCPU()\n      };\n    };\n    this.getUA = function () {\n      return _ua;\n    };\n    this.setUA = function (ua) {\n      _ua =\n        typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH ? trim(ua, UA_MAX_LENGTH) : ua;\n      return this;\n    };\n    this.setUA(_ua);\n    return this;\n  };\n\n  UAParser.VERSION = LIBVERSION;\n  UAParser.BROWSER = enumerize([NAME, VERSION, MAJOR]);\n  UAParser.CPU = enumerize([ARCHITECTURE]);\n  UAParser.DEVICE = enumerize([\n    MODEL,\n    VENDOR,\n    TYPE,\n    CONSOLE,\n    MOBILE,\n    SMARTTV,\n    TABLET,\n    WEARABLE,\n    EMBEDDED\n  ]);\n  UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n  ///////////\n  // Export\n  //////////\n\n  // check js environment\n  if (typeof exports !== UNDEF_TYPE) {\n    // nodejs env\n    if (typeof module !== UNDEF_TYPE && module.exports) {\n      exports = module.exports = UAParser;\n    }\n    exports.UAParser = UAParser;\n  } else {\n    // requirejs env (optional)\n    if (typeof define === FUNC_TYPE && define.amd) {\n      define(function () {\n        return UAParser;\n      });\n    } else if (typeof window !== UNDEF_TYPE) {\n      // browser env\n      window.UAParser = UAParser;\n    }\n  }\n\n  // jQuery/Zepto specific (optional)\n  // Note:\n  //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n  //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n  //   and we should catch that.\n  var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n  if ($ && !$.ua) {\n    var parser = new UAParser();\n    $.ua = parser.getResult();\n    $.ua.get = function () {\n      return parser.getUA();\n    };\n    $.ua.set = function (ua) {\n      parser.setUA(ua);\n      var result = parser.getResult();\n      for (var prop in result) {\n        $.ua[prop] = result[prop];\n      }\n    };\n  }\n})(typeof window === \"object\" ? window : this);\n", "import { Experiment } from '@amplitude/experiment-js-client';\n\nimport { codeAnimation, letterAnimation, typeText } from '$utils/globalFunctions';\nimport { SniffEmailForAmplitude } from '$utils/sniffEmail';\nimport { swiperCarousel, tabCarousel } from '$utils/tabCarousel';\n\nimport { waitUntil } from './utils/wait';\n\ndocument.documentElement.classList.add('js-enabled');\n\ndocument.querySelectorAll('h1,h2,h3').forEach((el) => {\n  const id = el.innerText\n    .toLowerCase()\n    .split(' ')\n    .map((a) => a.replace(/\\W/g, ''))\n    .join('-');\n  el.style.position = 'relative';\n  const anchorEl = document.createElement('div');\n\n  anchorEl.style.position = 'absolute';\n  anchorEl.style.top = '-90px';\n  anchorEl.style.left = '0';\n\n  anchorEl.id = id;\n  el.appendChild(anchorEl);\n});\n\n$(document).ready(function () {\n  // Register GSAP\n  gsap.registerPlugin(ScrollTrigger);\n\n  if (window.location.hash) {\n    const hashEl = document.getElementById(window.location.hash.replace('#', ''));\n    setTimeout(() => {\n      window.scrollTo({\n        top: hashEl.getBoundingClientRect().top + window.scrollY,\n      });\n    }, 100);\n  }\n\n  // #region Utilities\n\n  // Hero - Copy to Clipboard\n  let curlCopy = $('.curl_copy');\n  let copyTimeout;\n\n  if (curlCopy) {\n    curlCopy.on('click', function (e) {\n      e.preventDefault();\n\n      let data = $(this).find('[data-copy]').text();\n      copyTextToClipboard(data);\n\n      amplitude.track('copyMojoDownload');\n    });\n\n    function copyTextToClipboard(text) {\n      var textArea = document.createElement('textarea');\n      textArea.value = text;\n      textArea.style.position = 'fixed';\n      textArea.style.left = '-999999px';\n      textArea.style.top = '-999999px';\n      document.body.appendChild(textArea);\n      textArea.focus();\n      textArea.select();\n\n      try {\n        var successful = document.execCommand('copy');\n\n        clearTimeout(copyTimeout);\n\n        $('#copy-icon').hide();\n        $('#copy-success').show();\n        $('.curl_copy-tip-text').text('Copied!');\n\n        copyTimeout = setTimeout(() => {\n          $('#copy-icon').show();\n          $('#copy-success').hide();\n          $('.curl_copy-tip-text').text('Copy');\n        }, 4000);\n      } catch (err) {}\n      document.body.removeChild(textArea);\n    }\n  }\n\n  // Team has many images and does not appear to have problems when this is removed.\n  if (window.location.pathname !== '/team') {\n    // GSAP IMG SET\n    $('img').each(function () {\n      if ($(this).parent().hasClass('latest-blog_visual')) {\n        return;\n      }\n      $(this).removeAttr('loading');\n    });\n    ScrollTrigger.refresh();\n  }\n\n  // RemoveScrollBar for all overflow elements\n  function addNoScrollbarClass() {\n    const allElements = document.querySelectorAll('*');\n\n    for (const element of allElements) {\n      // Exclude body and html elements\n      if (element.tagName.toLowerCase() === 'body' || element.tagName.toLowerCase() === 'html') {\n        continue;\n      }\n\n      const style = window.getComputedStyle(element);\n      if (\n        style.overflow === 'auto' ||\n        style.overflow === 'scroll' ||\n        style.overflowX === 'auto' ||\n        style.overflowX === 'scroll' ||\n        style.overflowY === 'auto' ||\n        style.overflowY === 'scroll'\n      ) {\n        // Disable Scrollbar\n        element.classList.add('no-scrollbar');\n        // Fix for inner scroll inside swipers\n        element.classList.add('swiper-no-swiping');\n      }\n    }\n  }\n  addNoScrollbarClass();\n\n  // #endregion\n\n  // #region Codes Animation\n  // -- Code Blocks Animations to view\n  $('.dashboard_inner[code-animation]').each(function () {\n    const codeBlock = $(this).find('.dashboard_code-block');\n    codeBlock.hide();\n\n    ScrollTrigger.create({\n      trigger: $(this),\n      once: true,\n      start: '50% bottom',\n      invalidateOnRefresh: true,\n      toggleActions: 'play null null null',\n      onEnter: () => {\n        codeBlock.show();\n        codeAnimation($(this));\n      },\n    });\n  });\n\n  // #endregion\n\n  // #region Menu\n\n  // Base\n  var menuOpenAnim = false;\n  var dropdownOpen = false;\n  const menuLinks = '.navbar_part.links';\n  const menuLinksItems = '.navbar_link';\n  const menuButton = '.navbar_menu-btn';\n  const navLines = $('.navbar_ham-line');\n\n  // Menu Animation\n  let menuText = 'Close';\n  function createNavReveal() {\n    let navReveal = gsap\n      .timeline({\n        paused: true,\n        onComplete: () => {\n          disableScroll();\n        },\n      })\n      .fromTo(navLines.eq(0), { y: '0px', rotate: '0deg' }, { y: '7px', rotate: '45deg' }, '<')\n      .fromTo(navLines.eq(1), { opacity: 1 }, { opacity: 0 }, '<')\n      .fromTo(navLines.eq(2), { y: '0px', rotate: '0deg' }, { y: '-7px', rotate: '-45deg' }, '<')\n      .fromTo('.navbar_menu-close', { x: '0.4rem', opacity: 0 }, { x: '0', opacity: 1 }, '<')\n      .fromTo(menuLinks, { display: 'none' }, { display: 'flex' }, '<')\n      .fromTo(menuLinks, { yPercent: -100 }, { yPercent: 0 }, '<')\n      .fromTo(\n        [menuLinksItems, '.navbar_link-icon'],\n        {\n          y: '100%',\n          opacity: 0,\n        },\n        {\n          y: '0%',\n          opacity: 1,\n          stagger: {\n            each: 0.05,\n          },\n        },\n        '-=0.2'\n      )\n      .fromTo(menuLinksItems, { pointerEvents: 'none' }, { pointerEvents: 'auto' }, '<');\n    return navReveal;\n  }\n\n  // Scroll Disabler\n  let scrollPosition;\n  const disableScroll = () => {\n    if (!menuOpenAnim) {\n      scrollPosition = $(window).scrollTop();\n      $('html, body').scrollTop(0).addClass('overflow-hidden');\n    } else {\n      $('html, body').scrollTop(scrollPosition).removeClass('overflow-hidden');\n    }\n    menuOpenAnim = !menuOpenAnim;\n  };\n\n  let navReveal;\n\n  // GSAP's matchMedia\n  ScrollTrigger.matchMedia({\n    '(max-width: 991px)': function () {\n      // Apply the animation only on screens with a max-width of 991px\n      navReveal = createNavReveal();\n    },\n  });\n\n  // Actions\n  // Open on Click\n  $('.navbar_menu-btn').on('click', openMenu);\n\n  // Functions\n  function openMenu() {\n    if (navReveal) {\n      playMenuAnimation();\n    }\n  }\n\n  function playMenuAnimation() {\n    updateMenuText();\n\n    if (!menuOpenAnim) {\n      $('.navbar_menu-btn').addClass('open');\n      navReveal.timeScale(1).play();\n    } else {\n      $('.navbar_menu-btn').removeClass('open');\n      navReveal.timeScale(1.5).reverse();\n      disableScroll();\n    }\n  }\n\n  function updateMenuText() {\n    menuText = menuOpenAnim ? 'Menu' : 'Close';\n  }\n\n  // Menu Dropdown Animation\n  $('.navbar_dropdown').on('click', function () {\n    if ($(window).width() < 992) {\n      $('.navbar_dropdown').removeClass('is-active');\n      $(this).addClass('is-active');\n    }\n  });\n\n  // #endregion\n\n  // #region Tabs\n  if ($('.tabs.max-tab').length) {\n    const activeClass = 'tab-active';\n    const progressLine = '.tabs_block-progress-line';\n    const duration = 4000;\n\n    // Animates a card, by typing the text and filename.\n    function cardAnimation(card) {\n      return new Promise((resolve) => {\n        card.addClass('active');\n        resolve();\n      });\n    }\n    // TABS 2\n    tabCarousel({\n      tabs: $('.tabs.max-tab .tabs_block-link-menu .tabs_block-link'),\n      cards: $('.tabs.max-tab .max-products .max-products_grid-cell'),\n      onCardLeave: (card) => {\n        card.removeClass('active');\n      },\n      onTabLeave: (tab) => {\n        tab.removeClass(activeClass);\n        // If this is called mid animation (by a click) this will stop it.\n        tab.find(progressLine).stop();\n        tab.find(progressLine).css('width', '0');\n      },\n      onCardShow: cardAnimation,\n      onTabShow: (tab) => {\n        return new Promise((resolve) => {\n          tab.addClass(activeClass);\n          tab.find(progressLine).animate({ width: '100%' }, duration, resolve);\n        });\n      },\n    });\n\n    swiperCarousel({\n      sliderSelector: '.tabs_slider.max-tab',\n      // On init and when the swiper slides, we animate the progressbar and code\n      // block, but only animate the code the first time it's shown.\n      animateOnSlide(activeSlide) {\n        // Set progressLine to 0 and then start an animation for it.\n\n        activeSlide\n          .find(progressLine)\n          .stop(true, true)\n          .css('width', '0')\n          .animate({ width: '100%' }, duration);\n\n        let cards = $('.tabs_slider.max-tab .max-products .max-products_grid-cell');\n\n        cards.removeClass('active');\n        cards.eq(activeSlide.index()).addClass('active');\n      },\n      onInit() {},\n      duration,\n    });\n  }\n\n  // #endregion\n\n  // #region AmplitudeTrack\n  SniffEmailForAmplitude();\n  function amplitudeTrack(anchorTag, trackTitle) {\n    return () => {\n      amplitude.track(trackTitle, {\n        href: window.location.href,\n        location: anchorTag.dataset.analyticsLocation,\n      });\n    };\n  }\n\n  // Delay these calls to avoid blocking main thread\n  setTimeout(() => {\n    [...document.querySelectorAll('a')]\n      .filter((a) => a.href === 'https://docs.modular.com/')\n      .forEach((a) => {\n        a.onclick = amplitudeTrack(a, 'DownloadMaxClicked');\n      });\n  }, 100);\n\n  setTimeout(() => {\n    [...document.querySelectorAll('a')]\n      .filter((a) => a.href === 'https://modular.com/enterprise#form')\n      .forEach((a) => {\n        a.onclick = amplitudeTrack(a, 'ContactSalesClicked');\n      });\n  }, 200);\n  setTimeout(() => {\n    [...document.querySelectorAll('[data-analytics-onclick]')].forEach((a) => {\n      a.onclick = amplitudeTrack(a, a.dataset.analyticsOnclick);\n    });\n  }, 300);\n  let timeStartedOnPage = new Date();\n\n  function trackTimeOnPage(pathname) {\n    if (!timeStartedOnPage) {\n      return;\n    }\n    const durationInSeconds = Math.round(new Date().getTime() - timeStartedOnPage.getTime()) / 1000;\n    amplitude.track('TimeOnPage', {\n      duration: `${Math.round(durationInSeconds)}`,\n      minutes: `${Math.round(durationInSeconds / 60)}`,\n      pathname,\n    });\n  }\n\n  function scrollPercentage() {\n    const { documentElement } = document,\n      { body } = document;\n\n    return Math.round(\n      ((documentElement.scrollTop || body.scrollTop) /\n        ((documentElement.scrollHeight || body.scrollHeight) - documentElement.clientHeight)) *\n        100\n    );\n  }\n\n  let maxScroll = 0;\n\n  setInterval(() => {\n    const curScroll = scrollPercentage();\n    if (curScroll > maxScroll) {\n      maxScroll = curScroll;\n    }\n  }, 500);\n\n  window.addEventListener('beforeunload', () => {\n    const { pathname } = window.location;\n    trackTimeOnPage(pathname);\n    amplitude.track('MaxScrollPercentage', { maxScroll, pathname });\n    return undefined;\n  });\n\n  // #endregion\n\n  async function experimentCode() {\n    try {\n      const isProd = new URL(window.location.href).host === 'modular-prod-dev.webflow.io';\n      const apiKey = isProd\n        ? 'client-ejPfaOrUEtTflNBKKrNtLWx5IB1QbAmy'\n        : 'client-fhQfFdzMgOCoCAWmoV0W8KvnbhFe2dUu';\n      const experiment = Experiment.initializeWithAmplitudeAnalytics(apiKey);\n      await experiment.fetch();\n      Object.entries(experiment.variants.getAll()).forEach(([key, val]) => {\n        if (val.payload) {\n          experiment.exposure(key);\n          const hideStr = val.payload.hide\n            ? `.${val.payload.hide} { display: none !important; }\\n`\n            : '';\n          const showStr = val.payload.hide\n            ? `.${val.payload.show} { display: flex !important; }`\n            : '';\n          const style = document.createElement('style');\n          style.type = 'text/css';\n          style.innerHTML = hideStr + showStr;\n          document.getElementsByTagName('head')[0].appendChild(style);\n        }\n      });\n    } catch (e) {}\n    if (document.querySelector('.section_hp-hero')) {\n      document.querySelector('.section_hp-hero').style.opacity = 1;\n    }\n  }\n\n  waitUntil(() => window.amplitude).then(() => {\n    const isProd = location.href.indexOf('www.modular.com') !== 0;\n    const sessionReplayTracking = window.sessionReplay.plugin({ sampleRate: isProd ? 0.1 : 0 });\n    window.amplitude.add(sessionReplayTracking);\n    window.amplitude.init(\n      isProd ? '3878a0571d1575870a7d0a5f7e644d23' : 'd8bf208ebdc1b1000d38da8b826a74c4'\n    );\n    experimentCode();\n  });\n\n  // Finds elements with `.inject-install` and then puts install instructions\n  // inside of them. Sets some style properties too since I was a bit too lazy\n  // for a class here. Additionally, the way it finds the inner text is a bit odd.\n  // It's additionally lazy by being in an interval that just runs 4 times a\n  // second instead of being more correct, but this crude logic is not causing\n  // any issues.\n  function installCommand(deviceId = '') {\n    return `curl -ssL https://magic.modular.com/${deviceId} | bash`;\n  }\n  const cookieName = 'mod-id';\n  const prevModId = getCookie(cookieName);\n  let adblockId = null;\n  if (prevModId && !prevModId.startsWith('www-')) {\n    adblockId = prevModId;\n  } else {\n    const cookieValue = crypto.randomUUID().replace(/^..../, 'fed1');\n    adblockId = cookieValue;\n    document.cookie = `${cookieName}=${cookieValue}; expires=Fri, 31 Dec 9999 23:59:59 GMT; SameSite=Lax; Secure;Path=/;`;\n  }\n  const amplitudeIdInterval = setInterval(() => {\n    let amplitudeId = amplitude.getDeviceId();\n    const codeEl = document.querySelector('.inject-install > pre');\n    const command = installCommand(amplitudeId ? amplitudeId : adblockId);\n    if (codeEl) {\n      for (let installBlock of document.querySelectorAll('.inject-install')) {\n        installBlock.querySelector('code').style.textOverflow = 'ellipsis';\n        installBlock.querySelector('code').style.overflow = 'hidden';\n        installBlock.querySelector('code').innerHTML = installBlock.querySelector(\n          'code'\n        ).innerText = `<span class=\"line\"><br/>${command}</span>`;\n      }\n      if (amplitudeId) {\n        clearInterval(amplitudeIdInterval);\n      }\n    }\n    const copyCurlEls = document.querySelectorAll('[fs-copyclip-element=\"copy-this\"]');\n    for (let copyCurlEl of copyCurlEls) {\n      if (\n        copyCurlEl &&\n        copyCurlEl.innerText &&\n        copyCurlEl.innerText.includes('curl -ssL https://magic.modular.com | bash')\n      ) {\n        copyCurlEl.innerText = command;\n      }\n    }\n  }, 250);\n\n  setupHookForFormSubmission();\n});\n\n// From https://www.w3schools.com/js/js_cookies.asp\nfunction getCookie(cname) {\n  let name = cname + '=';\n  let decodedCookie = decodeURIComponent(document.cookie);\n  let ca = decodedCookie.split(';');\n  for (let i = 0; i < ca.length; i++) {\n    let c = ca[i];\n    while (c.charAt(0) === ' ') {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) === 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return '';\n}\n\nfunction setupHookForFormSubmission() {\n  const form = document.getElementById('contactForm');\n\n  if (!form) return;\n  form.addEventListener('submit', async function (e) {\n    e.preventDefault();\n\n    const formData = new FormData(form);\n\n    formData.append('oid', '00Da500001MRD5G');\n    formData.append('retURL', 'https://www.modular.com/company/talk-to-us');\n\n    try {\n      await fetch(\n        'https://webto.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8&orgId=00Da500001MRD5G',\n        {\n          method: 'POST',\n          body: formData,\n          mode: 'no-cors',\n        }\n      );\n      $('.contact-form').parent().css('display', 'none');\n      $('.contact-form_success').css('display', 'flex');\n    } catch (error) {\n      console.error('Error submitting form:', error);\n      alert('There was an error submitting your request. Please try again.');\n    }\n  });\n}\n", "import { AnalyticsConnector } from '@amplitude/analytics-connector';\nimport { safeGlobal, topologicalSort, FetchError, EvaluationEngine, Poller, SdkFlagApi, SdkEvaluationApi } from '@amplitude/experiment-core';\nimport { UAParser } from '@amplitude/ua-parser-js';\n\n/**\n * @deprecated Update your version of the amplitude analytics-js SDK to 8.17.0+ and for seamless\n * integration with the amplitude analytics SDK.\n */\nvar AmplitudeUserProvider = /** @class */ (function () {\n    function AmplitudeUserProvider(amplitudeInstance) {\n        this.amplitudeInstance = amplitudeInstance;\n    }\n    AmplitudeUserProvider.prototype.getUser = function () {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n        return {\n            device_id: (_b = (_a = this.amplitudeInstance) === null || _a === void 0 ? void 0 : _a.options) === null || _b === void 0 ? void 0 : _b.deviceId,\n            user_id: (_d = (_c = this.amplitudeInstance) === null || _c === void 0 ? void 0 : _c.options) === null || _d === void 0 ? void 0 : _d.userId,\n            version: (_f = (_e = this.amplitudeInstance) === null || _e === void 0 ? void 0 : _e.options) === null || _f === void 0 ? void 0 : _f.versionName,\n            language: (_h = (_g = this.amplitudeInstance) === null || _g === void 0 ? void 0 : _g.options) === null || _h === void 0 ? void 0 : _h.language,\n            platform: (_k = (_j = this.amplitudeInstance) === null || _j === void 0 ? void 0 : _j.options) === null || _k === void 0 ? void 0 : _k.platform,\n            os: this.getOs(),\n            device_model: this.getDeviceModel(),\n        };\n    };\n    AmplitudeUserProvider.prototype.getOs = function () {\n        var _a, _b, _c, _d, _e, _f;\n        return [\n            (_c = (_b = (_a = this.amplitudeInstance) === null || _a === void 0 ? void 0 : _a._ua) === null || _b === void 0 ? void 0 : _b.browser) === null || _c === void 0 ? void 0 : _c.name,\n            (_f = (_e = (_d = this.amplitudeInstance) === null || _d === void 0 ? void 0 : _d._ua) === null || _e === void 0 ? void 0 : _e.browser) === null || _f === void 0 ? void 0 : _f.major,\n        ]\n            .filter(function (e) { return e !== null && e !== undefined; })\n            .join(' ');\n    };\n    AmplitudeUserProvider.prototype.getDeviceModel = function () {\n        var _a, _b, _c;\n        return (_c = (_b = (_a = this.amplitudeInstance) === null || _a === void 0 ? void 0 : _a._ua) === null || _b === void 0 ? void 0 : _b.os) === null || _c === void 0 ? void 0 : _c.name;\n    };\n    return AmplitudeUserProvider;\n}());\n/**\n * @deprecated Update your version of the amplitude analytics-js SDK to 8.17.0+ and for seamless\n * integration with the amplitude analytics SDK.\n */\nvar AmplitudeAnalyticsProvider = /** @class */ (function () {\n    function AmplitudeAnalyticsProvider(amplitudeInstance) {\n        this.amplitudeInstance = amplitudeInstance;\n    }\n    AmplitudeAnalyticsProvider.prototype.track = function (event) {\n        this.amplitudeInstance.logEvent(event.name, event.properties);\n    };\n    AmplitudeAnalyticsProvider.prototype.setUserProperty = function (event) {\n        var _a;\n        var _b;\n        // if the variant has a value, set the user property and log an event\n        this.amplitudeInstance.setUserProperties((_a = {},\n            _a[event.userProperty] = (_b = event.variant) === null || _b === void 0 ? void 0 : _b.value,\n            _a));\n    };\n    AmplitudeAnalyticsProvider.prototype.unsetUserProperty = function (event) {\n        var _a;\n        // if the variant does not have a value, unset the user property\n        this.amplitudeInstance['_logEvent']('$identify', null, null, {\n            $unset: (_a = {}, _a[event.userProperty] = '-', _a),\n        });\n    };\n    return AmplitudeAnalyticsProvider;\n}());\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nfunction __generator(thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nfunction __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n}\nfunction __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nfunction unfetch (e, n) {\n  return n = n || {}, new Promise(function (t, r) {\n    var s = new XMLHttpRequest(),\n      o = [],\n      u = [],\n      i = {},\n      a = function () {\n        return {\n          ok: 2 == (s.status / 100 | 0),\n          statusText: s.statusText,\n          status: s.status,\n          url: s.responseURL,\n          text: function () {\n            return Promise.resolve(s.responseText);\n          },\n          json: function () {\n            return Promise.resolve(JSON.parse(s.responseText));\n          },\n          blob: function () {\n            return Promise.resolve(new Blob([s.response]));\n          },\n          clone: a,\n          headers: {\n            keys: function () {\n              return o;\n            },\n            entries: function () {\n              return u;\n            },\n            get: function (e) {\n              return i[e.toLowerCase()];\n            },\n            has: function (e) {\n              return e.toLowerCase() in i;\n            }\n          }\n        };\n      };\n    for (var l in s.open(n.method || \"get\", e, !0), s.onload = function () {\n      s.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm, function (e, n, t) {\n        o.push(n = n.toLowerCase()), u.push([n, t]), i[n] = i[n] ? i[n] + \",\" + t : t;\n      }), t(a());\n    }, s.onerror = r, s.withCredentials = \"include\" == n.credentials, n.headers) s.setRequestHeader(l, n.headers[l]);\n    s.send(n.body || null);\n  });\n}\n\n/**\n * @packageDocumentation\n * @internal\n */\nvar fetch = safeGlobal.fetch || unfetch;\n/*\n * Copied from:\n * https://github.com/github/fetch/issues/175#issuecomment-284787564\n */\nvar timeout = function (promise, timeoutMillis) {\n    // Don't timeout if timeout is null or invalid\n    if (timeoutMillis == null || timeoutMillis <= 0) {\n        return promise;\n    }\n    return new Promise(function (resolve, reject) {\n        safeGlobal.setTimeout(function () {\n            reject(Error('Request timeout after ' + timeoutMillis + ' milliseconds'));\n        }, timeoutMillis);\n        promise.then(resolve, reject);\n    });\n};\nvar _request = function (requestUrl, method, headers, data, timeoutMillis) {\n    var call = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var response, simpleResponse;\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0: return [4 /*yield*/, fetch(requestUrl, {\n                        method: method,\n                        headers: headers,\n                        body: data,\n                    })];\n                case 1:\n                    response = _b.sent();\n                    _a = {\n                        status: response.status\n                    };\n                    return [4 /*yield*/, response.text()];\n                case 2:\n                    simpleResponse = (_a.body = _b.sent(),\n                        _a);\n                    return [2 /*return*/, simpleResponse];\n            }\n        });\n    }); };\n    return timeout(call(), timeoutMillis);\n};\n/**\n * Wrap the exposed HttpClient in a CoreClient implementation to work with\n * FlagsApi and EvaluationApi.\n */\nvar WrapperClient = /** @class */ (function () {\n    function WrapperClient(client) {\n        this.client = client;\n    }\n    WrapperClient.prototype.request = function (request) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.client.request(request.requestUrl, request.method, request.headers, null, request.timeoutMillis)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    return WrapperClient;\n}());\nvar FetchHttpClient = { request: _request };\n\n/**\n * Determines the primary source of variants before falling back.\n *\n * @category Source\n */\nvar Source;\n(function (Source) {\n    /**\n     * The default way to source variants within your application. Before the\n     * assignments are fetched, `getVariant(s)` will fallback to local storage\n     * first, then `initialVariants` if local storage is empty. This option\n     * effectively falls back to an assignment fetched previously.\n     */\n    Source[\"LocalStorage\"] = \"localStorage\";\n    /**\n     * This bootstrap option is used primarily for servers-side rendering using an\n     * Experiment server SDK. This bootstrap option always prefers the config\n     * `initialVariants` over data in local storage, even if variants are fetched\n     * successfully and stored locally.\n     */\n    Source[\"InitialVariants\"] = \"initialVariants\";\n})(Source || (Source = {}));\n/**\n * Indicates from which source the variant() function determines the variant\n *\n * @category Source\n */\nvar VariantSource;\n(function (VariantSource) {\n    VariantSource[\"LocalStorage\"] = \"storage\";\n    VariantSource[\"InitialVariants\"] = \"initial\";\n    VariantSource[\"SecondaryLocalStorage\"] = \"secondary-storage\";\n    VariantSource[\"SecondaryInitialVariants\"] = \"secondary-initial\";\n    VariantSource[\"FallbackInline\"] = \"fallback-inline\";\n    VariantSource[\"FallbackConfig\"] = \"fallback-config\";\n    VariantSource[\"LocalEvaluation\"] = \"local-evaluation\";\n})(VariantSource || (VariantSource = {}));\n/**\n * Returns true if the VariantSource is one of the fallbacks (inline or config)\n *\n * @param source a {@link VariantSource}\n * @returns true if source is {@link VariantSource.FallbackInline} or {@link VariantSource.FallbackConfig}\n */\nvar isFallback = function (source) {\n    return (!source ||\n        source === VariantSource.FallbackInline ||\n        source === VariantSource.FallbackConfig ||\n        source === VariantSource.SecondaryInitialVariants);\n};\n\n/**\n Defaults for Experiment Config options\n\n | **Option**       | **Default**                       |\n |------------------|-----------------------------------|\n | **debug**        | `false`                           |\n | **instanceName** | `$default_instance` |\n | **fallbackVariant**         | `null`                 |\n | **initialVariants**         | `null`                 |\n | **initialFlags**         | `undefined`                 |\n | **source** | `Source.LocalStorage` |\n | **serverUrl**    | `\"https://api.lab.amplitude.com\"` |\n | **flagsServerUrl**    | `\"https://flag.lab.amplitude.com\"` |\n | **serverZone**    | `\"US\"` |\n | **assignmentTimeoutMillis**    | `10000` |\n | **retryFailedAssignment**    | `true` |\n | **automaticExposureTracking** | `true` |\n | **pollOnStart** | `true` |\n | **fetchOnStart** | `true` |\n | **automaticFetchOnAmplitudeIdentityChange** | `false` |\n | **userProvider**    | `null` |\n | **analyticsProvider**    | `null` |\n | **exposureTrackingProvider**    | `null` |\n\n *\n * @category Configuration\n */\nvar Defaults = {\n    debug: false,\n    instanceName: '$default_instance',\n    fallbackVariant: {},\n    initialVariants: {},\n    initialFlags: undefined,\n    source: Source.LocalStorage,\n    serverUrl: 'https://api.lab.amplitude.com',\n    flagsServerUrl: 'https://flag.lab.amplitude.com',\n    serverZone: 'US',\n    fetchTimeoutMillis: 10000,\n    retryFetchOnFailure: true,\n    automaticExposureTracking: true,\n    pollOnStart: true,\n    fetchOnStart: true,\n    automaticFetchOnAmplitudeIdentityChange: false,\n    userProvider: null,\n    analyticsProvider: null,\n    exposureTrackingProvider: null,\n    httpClient: FetchHttpClient,\n};\n\nvar version = \"1.11.0\";\n\nvar ConnectorUserProvider = /** @class */ (function () {\n    function ConnectorUserProvider(identityStore) {\n        this.identityStore = identityStore;\n    }\n    ConnectorUserProvider.prototype.identityReady = function (ms) {\n        return __awaiter(this, void 0, void 0, function () {\n            var identity;\n            var _this = this;\n            return __generator(this, function (_a) {\n                identity = this.identityStore.getIdentity();\n                if (!identity.userId && !identity.deviceId) {\n                    return [2 /*return*/, Promise.race([\n                            new Promise(function (resolve) {\n                                var listener = function () {\n                                    resolve(undefined);\n                                    _this.identityStore.removeIdentityListener(listener);\n                                };\n                                _this.identityStore.addIdentityListener(listener);\n                            }),\n                            new Promise(function (resolve, reject) {\n                                safeGlobal.setTimeout(reject, ms, 'Timed out waiting for Amplitude Analytics SDK to initialize. ' +\n                                    'You must ensure that the analytics SDK is initialized prior to calling fetch().');\n                            }),\n                        ])];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    ConnectorUserProvider.prototype.getUser = function () {\n        var identity = this.identityStore.getIdentity();\n        var userProperties = undefined;\n        try {\n            userProperties = identity.userProperties;\n        }\n        catch (_a) {\n            console.warn('[Experiment] failed to cast user properties');\n        }\n        return {\n            user_id: identity.userId,\n            device_id: identity.deviceId,\n            user_properties: userProperties,\n        };\n    };\n    return ConnectorUserProvider;\n}());\nvar ConnectorExposureTrackingProvider = /** @class */ (function () {\n    function ConnectorExposureTrackingProvider(eventBridge) {\n        this.eventBridge = eventBridge;\n    }\n    ConnectorExposureTrackingProvider.prototype.track = function (exposure) {\n        this.eventBridge.logEvent({\n            eventType: '$exposure',\n            eventProperties: exposure,\n        });\n    };\n    return ConnectorExposureTrackingProvider;\n}());\n\nvar DefaultUserProvider = /** @class */ (function () {\n    function DefaultUserProvider(applicationContextProvider, userProvider) {\n        this.ua = new UAParser(typeof navigator !== 'undefined' ? navigator.userAgent : null).getResult();\n        this.contextProvider = applicationContextProvider;\n        this.userProvider = userProvider;\n    }\n    DefaultUserProvider.prototype.getUser = function () {\n        var _a;\n        var user = ((_a = this.userProvider) === null || _a === void 0 ? void 0 : _a.getUser()) || {};\n        var context = this.contextProvider.getApplicationContext();\n        return __assign({ version: context.versionName, language: context.language, platform: context.platform, os: context.os || this.getOs(this.ua), device_model: context.deviceModel || this.getDeviceModel(this.ua) }, user);\n    };\n    DefaultUserProvider.prototype.getOs = function (ua) {\n        var _a, _b;\n        return [(_a = ua.browser) === null || _a === void 0 ? void 0 : _a.name, (_b = ua.browser) === null || _b === void 0 ? void 0 : _b.major]\n            .filter(function (e) { return e !== null && e !== undefined; })\n            .join(' ');\n    };\n    DefaultUserProvider.prototype.getDeviceModel = function (ua) {\n        var _a;\n        return (_a = ua.os) === null || _a === void 0 ? void 0 : _a.name;\n    };\n    return DefaultUserProvider;\n}());\n\nvar LocalStorage = /** @class */ (function () {\n    function LocalStorage() {\n    }\n    LocalStorage.prototype.get = function (key) {\n        return localStorage.getItem(key);\n    };\n    LocalStorage.prototype.put = function (key, value) {\n        localStorage.setItem(key, value);\n    };\n    LocalStorage.prototype.delete = function (key) {\n        localStorage.removeItem(key);\n    };\n    return LocalStorage;\n}());\n\nvar getVariantStorage = function (deploymentKey, instanceName, storage) {\n    var truncatedDeployment = deploymentKey.substring(deploymentKey.length - 6);\n    var namespace = \"amp-exp-\".concat(instanceName, \"-\").concat(truncatedDeployment);\n    return new LoadStoreCache(namespace, storage, transformVariantFromStorage);\n};\nvar getFlagStorage = function (deploymentKey, instanceName, storage) {\n    if (storage === void 0) { storage = new LocalStorage(); }\n    var truncatedDeployment = deploymentKey.substring(deploymentKey.length - 6);\n    var namespace = \"amp-exp-\".concat(instanceName, \"-\").concat(truncatedDeployment, \"-flags\");\n    return new LoadStoreCache(namespace, storage);\n};\nvar LoadStoreCache = /** @class */ (function () {\n    function LoadStoreCache(namespace, storage, transformer) {\n        this.cache = {};\n        this.namespace = namespace;\n        this.storage = storage;\n        this.transformer = transformer;\n    }\n    LoadStoreCache.prototype.get = function (key) {\n        return this.cache[key];\n    };\n    LoadStoreCache.prototype.getAll = function () {\n        return __assign({}, this.cache);\n    };\n    LoadStoreCache.prototype.put = function (key, value) {\n        this.cache[key] = value;\n    };\n    LoadStoreCache.prototype.putAll = function (values) {\n        var e_1, _a;\n        try {\n            for (var _b = __values(Object.keys(values)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var key = _c.value;\n                this.cache[key] = values[key];\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    LoadStoreCache.prototype.remove = function (key) {\n        delete this.cache[key];\n    };\n    LoadStoreCache.prototype.clear = function () {\n        this.cache = {};\n    };\n    LoadStoreCache.prototype.load = function () {\n        var e_2, _a;\n        var rawValues = this.storage.get(this.namespace);\n        var jsonValues;\n        try {\n            jsonValues = JSON.parse(rawValues) || {};\n        }\n        catch (_b) {\n            // Do nothing\n            return;\n        }\n        var values = {};\n        try {\n            for (var _c = __values(Object.keys(jsonValues)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var key = _d.value;\n                try {\n                    var value = void 0;\n                    if (this.transformer) {\n                        value = this.transformer(jsonValues[key]);\n                    }\n                    else {\n                        value = jsonValues[key];\n                    }\n                    if (value) {\n                        values[key] = value;\n                    }\n                }\n                catch (_e) {\n                    // Do nothing\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        this.clear();\n        this.putAll(values);\n    };\n    LoadStoreCache.prototype.store = function (values) {\n        if (values === void 0) { values = this.cache; }\n        this.storage.put(this.namespace, JSON.stringify(values));\n    };\n    return LoadStoreCache;\n}());\nvar transformVariantFromStorage = function (storageValue) {\n    if (typeof storageValue === 'string') {\n        // From v0 string format\n        return {\n            key: storageValue,\n            value: storageValue,\n        };\n    }\n    else if (typeof storageValue === 'object') {\n        // From v1 or v2 object format\n        var key = storageValue['key'];\n        var value = storageValue['value'];\n        var payload = storageValue['payload'];\n        var metadata = storageValue['metadata'];\n        var experimentKey = storageValue['expKey'];\n        if (metadata && metadata.experimentKey) {\n            experimentKey = metadata.experimentKey;\n        }\n        else if (experimentKey) {\n            metadata = metadata || {};\n            metadata['experimentKey'] = experimentKey;\n        }\n        var variant = {};\n        if (key) {\n            variant.key = key;\n        }\n        else if (value) {\n            variant.key = value;\n        }\n        if (value)\n            variant.value = value;\n        if (metadata)\n            variant.metadata = metadata;\n        if (payload)\n            variant.payload = payload;\n        if (experimentKey)\n            variant.expKey = experimentKey;\n        return variant;\n    }\n};\n\n/**\n * Event for tracking a user's exposure to a variant. This event will not count\n * towards your analytics event volume.\n *\n * @deprecated use ExposureTrackingProvider instead\n */\nvar exposureEvent = function (user, key, variant, source) {\n    var _a;\n    var name = '[Experiment] Exposure';\n    var value = variant === null || variant === void 0 ? void 0 : variant.value;\n    var userProperty = \"[Experiment] \".concat(key);\n    return {\n        name: name,\n        user: user,\n        key: key,\n        variant: variant,\n        userProperty: userProperty,\n        properties: {\n            key: key,\n            variant: value,\n            source: source,\n        },\n        userProperties: (_a = {},\n            _a[userProperty] = value,\n            _a),\n    };\n};\n\nvar isNullOrUndefined = function (value) {\n    return value === null || value === undefined;\n};\nvar isNullUndefinedOrEmpty = function (value) {\n    if (isNullOrUndefined(value))\n        return true;\n    return value && Object.keys(value).length === 0;\n};\nvar isLocalEvaluationMode = function (flag) {\n    var _a;\n    return ((_a = flag === null || flag === void 0 ? void 0 : flag.metadata) === null || _a === void 0 ? void 0 : _a.evaluationMode) === 'local';\n};\n\nvar Backoff = /** @class */ (function () {\n    function Backoff(attempts, min, max, scalar) {\n        this.started = false;\n        this.done = false;\n        this.attempts = attempts;\n        this.min = min;\n        this.max = max;\n        this.scalar = scalar;\n    }\n    Backoff.prototype.start = function (fn) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.started) {\n                            this.started = true;\n                        }\n                        else {\n                            throw Error('Backoff already started');\n                        }\n                        return [4 /*yield*/, this.backoff(fn, 0, this.min)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Backoff.prototype.cancel = function () {\n        this.done = true;\n        clearTimeout(this.timeoutHandle);\n    };\n    Backoff.prototype.backoff = function (fn, attempt, delay) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                if (this.done) {\n                    return [2 /*return*/];\n                }\n                this.timeoutHandle = safeGlobal.setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {\n                    var nextAttempt, nextDelay;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                _a.trys.push([0, 2, , 3]);\n                                return [4 /*yield*/, fn()];\n                            case 1:\n                                _a.sent();\n                                return [3 /*break*/, 3];\n                            case 2:\n                                _a.sent();\n                                nextAttempt = attempt + 1;\n                                if (nextAttempt < this.attempts) {\n                                    nextDelay = Math.min(delay * this.scalar, this.max);\n                                    this.backoff(fn, nextAttempt, nextDelay);\n                                }\n                                return [3 /*break*/, 3];\n                            case 3: return [2 /*return*/];\n                        }\n                    });\n                }); }, delay);\n                return [2 /*return*/];\n            });\n        });\n    };\n    return Backoff;\n}());\n\nvar convertUserToContext = function (user) {\n    var e_1, _a;\n    var _b, _c;\n    if (!user) {\n        return {};\n    }\n    var context = { user: user };\n    var groups = {};\n    if (!user.groups) {\n        return context;\n    }\n    try {\n        for (var _d = __values(Object.keys(user.groups)), _e = _d.next(); !_e.done; _e = _d.next()) {\n            var groupType = _e.value;\n            var groupNames = user.groups[groupType];\n            if (groupNames.length > 0 && groupNames[0]) {\n                var groupName = groupNames[0];\n                var groupNameMap = {\n                    group_name: groupName,\n                };\n                // Check for group properties\n                var groupProperties = (_c = (_b = user.group_properties) === null || _b === void 0 ? void 0 : _b[groupType]) === null || _c === void 0 ? void 0 : _c[groupName];\n                if (groupProperties && Object.keys(groupProperties).length > 0) {\n                    groupNameMap['group_properties'] = groupProperties;\n                }\n                groups[groupType] = groupNameMap;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    if (Object.keys(groups).length > 0) {\n        context['groups'] = groups;\n    }\n    delete context.user['groups'];\n    delete context.user['group_properties'];\n    return context;\n};\nvar convertVariant = function (value) {\n    if (value === null || value === undefined) {\n        return {};\n    }\n    if (typeof value == 'string') {\n        return {\n            key: value,\n            value: value,\n        };\n    }\n    else {\n        return value;\n    }\n};\nvar convertEvaluationVariantToVariant = function (evaluationVariant) {\n    if (!evaluationVariant) {\n        return {};\n    }\n    var experimentKey = undefined;\n    if (evaluationVariant.metadata) {\n        experimentKey = evaluationVariant.metadata['experimentKey'];\n    }\n    var variant = {};\n    if (evaluationVariant.key)\n        variant.key = evaluationVariant.key;\n    if (evaluationVariant.value)\n        variant.value = evaluationVariant.value;\n    if (evaluationVariant.payload)\n        variant.payload = evaluationVariant.payload;\n    if (experimentKey)\n        variant.expKey = experimentKey;\n    if (evaluationVariant.metadata)\n        variant.metadata = evaluationVariant.metadata;\n    return variant;\n};\n\n/**\n * A wrapper for an analytics provider which only sends one exposure event per\n * flag, per variant, per session. In other words, wrapping an analytics\n * provider in this class will prevent the same exposure event to be sent twice\n * in one session.\n */\nvar SessionAnalyticsProvider = /** @class */ (function () {\n    function SessionAnalyticsProvider(analyticsProvider) {\n        // In memory record of flagKey and variant value to in order to only set\n        // user properties and track an exposure event once per session unless the\n        // variant value changes\n        this.setProperties = {};\n        this.unsetProperties = {};\n        this.analyticsProvider = analyticsProvider;\n    }\n    SessionAnalyticsProvider.prototype.track = function (event) {\n        if (this.setProperties[event.key] == event.variant.value) {\n            return;\n        }\n        else {\n            this.setProperties[event.key] = event.variant.value;\n            delete this.unsetProperties[event.key];\n        }\n        this.analyticsProvider.track(event);\n    };\n    SessionAnalyticsProvider.prototype.setUserProperty = function (event) {\n        if (this.setProperties[event.key] == event.variant.value) {\n            return;\n        }\n        this.analyticsProvider.setUserProperty(event);\n    };\n    SessionAnalyticsProvider.prototype.unsetUserProperty = function (event) {\n        if (this.unsetProperties[event.key]) {\n            return;\n        }\n        else {\n            this.unsetProperties[event.key] = 'unset';\n            delete this.setProperties[event.key];\n        }\n        this.analyticsProvider.unsetUserProperty(event);\n    };\n    return SessionAnalyticsProvider;\n}());\n\nvar SessionExposureTrackingProvider = /** @class */ (function () {\n    function SessionExposureTrackingProvider(exposureTrackingProvider) {\n        this.tracked = {};\n        this.exposureTrackingProvider = exposureTrackingProvider;\n    }\n    SessionExposureTrackingProvider.prototype.track = function (exposure) {\n        var trackedExposure = this.tracked[exposure.flag_key];\n        if (trackedExposure && trackedExposure.variant === exposure.variant) {\n            return;\n        }\n        else {\n            this.tracked[exposure.flag_key] = exposure;\n            this.exposureTrackingProvider.track(exposure);\n        }\n    };\n    return SessionExposureTrackingProvider;\n}());\n\n/**\n * @packageDocumentation\n * @module experiment-js-client\n */\n// Configs which have been removed from the public API.\n// May be added back in the future.\nvar fetchBackoffTimeout = 10000;\nvar fetchBackoffAttempts = 8;\nvar fetchBackoffMinMillis = 500;\nvar fetchBackoffMaxMillis = 10000;\nvar fetchBackoffScalar = 1.5;\nvar flagPollerIntervalMillis = 60000;\nvar euServerUrl = 'https://api.lab.eu.amplitude.com';\nvar euFlagsServerUrl = 'https://flag.lab.eu.amplitude.com';\n/**\n * The default {@link Client} used to fetch variations from Experiment's\n * servers.\n *\n * @category Core Usage\n */\nvar ExperimentClient = /** @class */ (function () {\n    /**\n     * Creates a new ExperimentClient instance.\n     *\n     * In most cases you will want to use the `initialize` factory method in\n     * {@link Experiment}.\n     *\n     * @param apiKey The Client key for the Experiment project\n     * @param config See {@link ExperimentConfig} for config options\n     */\n    function ExperimentClient(apiKey, config) {\n        var _this = this;\n        var _a, _b;\n        this.engine = new EvaluationEngine();\n        this.poller = new Poller(function () { return _this.doFlags(); }, flagPollerIntervalMillis);\n        this.isRunning = false;\n        this.apiKey = apiKey;\n        // Merge configs with defaults and wrap providers\n        this.config = __assign(__assign(__assign({}, Defaults), config), { \n            // Set server URLs separately\n            serverUrl: (config === null || config === void 0 ? void 0 : config.serverUrl) ||\n                (((_a = config === null || config === void 0 ? void 0 : config.serverZone) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === 'eu'\n                    ? euServerUrl\n                    : Defaults.serverUrl), flagsServerUrl: (config === null || config === void 0 ? void 0 : config.flagsServerUrl) ||\n                (((_b = config === null || config === void 0 ? void 0 : config.serverZone) === null || _b === void 0 ? void 0 : _b.toLowerCase()) === 'eu'\n                    ? euFlagsServerUrl\n                    : Defaults.flagsServerUrl) });\n        // Transform initialVariants\n        if (this.config.initialVariants) {\n            for (var flagKey in this.config.initialVariants) {\n                this.config.initialVariants[flagKey] = transformVariantFromStorage(this.config.initialVariants[flagKey]);\n            }\n        }\n        if (this.config.userProvider) {\n            this.userProvider = this.config.userProvider;\n        }\n        if (this.config.analyticsProvider) {\n            this.analyticsProvider = new SessionAnalyticsProvider(this.config.analyticsProvider);\n        }\n        if (this.config.exposureTrackingProvider) {\n            this.exposureTrackingProvider = new SessionExposureTrackingProvider(this.config.exposureTrackingProvider);\n        }\n        // Setup Remote APIs\n        var httpClient = new WrapperClient(this.config.httpClient || FetchHttpClient);\n        this.flagApi = new SdkFlagApi(this.apiKey, this.config.flagsServerUrl, httpClient);\n        this.evaluationApi = new SdkEvaluationApi(this.apiKey, this.config.serverUrl, httpClient);\n        // Storage & Caching\n        var storage = new LocalStorage();\n        this.variants = getVariantStorage(this.apiKey, this.config.instanceName, storage);\n        this.flags = getFlagStorage(this.apiKey, this.config.instanceName, storage);\n        try {\n            this.flags.load();\n            this.variants.load();\n        }\n        catch (e) {\n            // catch localStorage undefined error\n        }\n        this.mergeInitialFlagsWithStorage();\n    }\n    /**\n     * Start the SDK by getting flag configurations from the server and fetching\n     * variants for the user. The promise returned by this function resolves when\n     * local flag configurations have been updated, and the {@link fetch()}\n     * result has been received (if the request was made).\n     *\n     * To force this function not to fetch variants, set the {@link fetchOnStart}\n     * configuration option to `false` when initializing the SDK.\n     *\n     * Finally, this function will start polling for flag configurations at a\n     * fixed interval. To disable polling, set the {@link pollOnStart}\n     * configuration option to `false` on initialization.\n     *\n     * @param user The user to set in the SDK.\n     * @see fetchOnStart\n     * @see pollOnStart\n     * @see fetch\n     * @see variant\n     */\n    ExperimentClient.prototype.start = function (user) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var flagsReadyPromise, fetchOnStart;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (this.isRunning) {\n                            return [2 /*return*/];\n                        }\n                        else {\n                            this.isRunning = true;\n                        }\n                        this.setUser(user);\n                        flagsReadyPromise = this.doFlags();\n                        fetchOnStart = (_a = this.config.fetchOnStart) !== null && _a !== void 0 ? _a : true;\n                        if (!fetchOnStart) return [3 /*break*/, 2];\n                        return [4 /*yield*/, Promise.all([this.fetch(user), flagsReadyPromise])];\n                    case 1:\n                        _b.sent();\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, flagsReadyPromise];\n                    case 3:\n                        _b.sent();\n                        _b.label = 4;\n                    case 4:\n                        if (this.config.pollOnStart) {\n                            this.poller.start();\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Stop the local flag configuration poller.\n     */\n    ExperimentClient.prototype.stop = function () {\n        if (!this.isRunning) {\n            return;\n        }\n        this.poller.stop();\n        this.isRunning = false;\n    };\n    /**\n     * Assign the given user to the SDK and asynchronously fetch all variants\n     * from the server. Subsequent calls may omit the user from the argument to\n     * use the user from the previous call.\n     *\n     * If an {@link ExperimentUserProvider} has been set, the argument user will\n     * be merged with the provider user, preferring user fields from the argument\n     * user and falling back on the provider for fields which are null or\n     * undefined.\n     *\n     * If configured, fetch retries the request in the background on failure.\n     * Variants received from a successful retry are stored in local storage for\n     * access.\n     *\n     * If you are using the `initialVariants` config option to preload this SDK\n     * from the server, you generally do not need to call `fetch`.\n     *\n     * @param user The user to fetch variants for.\n     * @param options Options for this specific fetch call.\n     * @returns Promise that resolves when the request for variants completes.\n     * @see ExperimentUser\n     * @see ExperimentUserProvider\n     */\n    ExperimentClient.prototype.fetch = function (user, options) {\n        if (user === void 0) { user = this.user; }\n        return __awaiter(this, void 0, void 0, function () {\n            var e_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.setUser(user || {});\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.fetchInternal(user, this.config.fetchTimeoutMillis, this.config.retryFetchOnFailure, options)];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _a.sent();\n                        console.error(e_1);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/, this];\n                }\n            });\n        });\n    };\n    /**\n     * Returns the variant for the provided key.\n     *\n     * Access the variant from {@link Source}, falling back  on the given\n     * fallback, then the configured fallbackVariant.\n     *\n     * If an {@link ExposureTrackingProvider} is configured and the\n     * {@link automaticExposureTracking} configuration option is `true`, this\n     * function will call the provider with an {@link Exposure} event. The\n     * exposure event does not count towards your event volume within Amplitude.\n     *\n     * @param key The key to get the variant for.\n     * @param fallback The highest priority fallback.\n     * @see ExperimentConfig\n     * @see ExposureTrackingProvider\n     */\n    ExperimentClient.prototype.variant = function (key, fallback) {\n        var _a, _b;\n        if (!this.apiKey) {\n            return { value: undefined };\n        }\n        var sourceVariant = this.variantAndSource(key, fallback);\n        if (this.config.automaticExposureTracking) {\n            this.exposureInternal(key, sourceVariant);\n        }\n        this.debug(\"[Experiment] variant for \".concat(key, \" is \").concat(((_a = sourceVariant.variant) === null || _a === void 0 ? void 0 : _a.key) || ((_b = sourceVariant.variant) === null || _b === void 0 ? void 0 : _b.value)));\n        return sourceVariant.variant || {};\n    };\n    /**\n     * Track an exposure event for the variant associated with the flag/experiment\n     * {@link key}.\n     *\n     * This method requires that an {@link ExposureTrackingProvider} be\n     * configured when this client is initialized, either manually, or through the\n     * Amplitude Analytics SDK integration from set up using\n     * {@link Experiment.initializeWithAmplitudeAnalytics}.\n     *\n     * @param key The flag/experiment key to track an exposure for.\n     * @see ExposureTrackingProvider\n     */\n    ExperimentClient.prototype.exposure = function (key) {\n        var sourceVariant = this.variantAndSource(key);\n        this.exposureInternal(key, sourceVariant);\n    };\n    /**\n     * Returns all variants for the user.\n     *\n     * The primary source of variants is based on the\n     * {@link Source} configured in the {@link ExperimentConfig}.\n     *\n     * @see Source\n     * @see ExperimentConfig\n     */\n    ExperimentClient.prototype.all = function () {\n        if (!this.apiKey) {\n            return {};\n        }\n        var evaluatedVariants = this.evaluate();\n        for (var flagKey in evaluatedVariants) {\n            var flag = this.flags.get(flagKey);\n            if (!isLocalEvaluationMode(flag)) {\n                delete evaluatedVariants[flagKey];\n            }\n        }\n        return __assign(__assign(__assign({}, this.secondaryVariants()), this.sourceVariants()), evaluatedVariants);\n    };\n    /**\n     * Clear all variants in the cache and storage.\n     */\n    ExperimentClient.prototype.clear = function () {\n        this.variants.clear();\n        try {\n            void this.variants.store();\n        }\n        catch (e) {\n            // catch localStorage undefined error\n        }\n    };\n    /**\n     * Get a copy of the internal {@link ExperimentUser} object if it is set.\n     *\n     * @returns a copy of the internal user object if set.\n     */\n    ExperimentClient.prototype.getUser = function () {\n        var _a;\n        if (!this.user) {\n            return this.user;\n        }\n        if ((_a = this.user) === null || _a === void 0 ? void 0 : _a.user_properties) {\n            var userPropertiesCopy = __assign({}, this.user.user_properties);\n            return __assign(__assign({}, this.user), { user_properties: userPropertiesCopy });\n        }\n        else {\n            return __assign({}, this.user);\n        }\n    };\n    /**\n     * Copy in and set the user within the experiment client.\n     *\n     * @param user the user to set within the experiment client.\n     */\n    ExperimentClient.prototype.setUser = function (user) {\n        var _a;\n        if (!user) {\n            this.user = null;\n            return;\n        }\n        if ((_a = this.user) === null || _a === void 0 ? void 0 : _a.user_properties) {\n            var userPropertiesCopy = __assign({}, user.user_properties);\n            this.user = __assign(__assign({}, user), { user_properties: userPropertiesCopy });\n        }\n        else {\n            this.user = __assign({}, user);\n        }\n    };\n    /**\n     * Get the user provider set by {@link setUserProvider} or null if the user\n     * provider has not been set.\n     *\n     * @returns The user provider set by {@link setUserProvider} or null.\n     * @deprecated use ExperimentConfig.userProvider instead\n     */\n    ExperimentClient.prototype.getUserProvider = function () {\n        return this.userProvider;\n    };\n    /**\n     * Sets a user provider that will inject identity information into the user\n     * for {@link fetch()} requests. The user provider will only set user fields\n     * in outgoing requests which are null or undefined.\n     *\n     * See {@link ExperimentUserProvider} for more details\n     * @param userProvider\n     * @deprecated use ExperimentConfig.userProvider instead\n     */\n    ExperimentClient.prototype.setUserProvider = function (userProvider) {\n        this.userProvider = userProvider;\n        return this;\n    };\n    ExperimentClient.prototype.mergeInitialFlagsWithStorage = function () {\n        var _this = this;\n        if (this.config.initialFlags) {\n            var initialFlags = JSON.parse(this.config.initialFlags);\n            initialFlags.forEach(function (flag) {\n                if (!_this.flags.get(flag.key)) {\n                    _this.flags.put(flag.key, flag);\n                }\n            });\n        }\n    };\n    ExperimentClient.prototype.evaluate = function (flagKeys) {\n        var e_2, _a;\n        var user = this.addContext(this.user);\n        var flags = topologicalSort(this.flags.getAll(), flagKeys);\n        var context = convertUserToContext(user);\n        var evaluationVariants = this.engine.evaluate(context, flags);\n        var variants = {};\n        try {\n            for (var _b = __values(Object.keys(evaluationVariants)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var flagKey = _c.value;\n                variants[flagKey] = convertEvaluationVariantToVariant(evaluationVariants[flagKey]);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return variants;\n    };\n    ExperimentClient.prototype.variantAndSource = function (key, fallback) {\n        var sourceVariant = {};\n        if (this.config.source === Source.LocalStorage) {\n            sourceVariant = this.localStorageVariantAndSource(key, fallback);\n        }\n        else if (this.config.source === Source.InitialVariants) {\n            sourceVariant = this.initialVariantsVariantAndSource(key, fallback);\n        }\n        var flag = this.flags.get(key);\n        if (isLocalEvaluationMode(flag) || (!sourceVariant.variant && flag)) {\n            sourceVariant = this.localEvaluationVariantAndSource(key, flag, fallback);\n        }\n        return sourceVariant;\n    };\n    /**\n     * This function assumes the flag exists and is local evaluation mode. For\n     * local evaluation, fallback order goes:\n     *\n     *  1. Local evaluation\n     *  2. Inline function fallback\n     *  3. Initial variants\n     *  4. Config fallback\n     *\n     * If there is a default variant and no fallback, return the default variant.\n     */\n    ExperimentClient.prototype.localEvaluationVariantAndSource = function (key, flag, fallback) {\n        var _a;\n        var defaultSourceVariant = {};\n        // Local evaluation\n        var variant = this.evaluate([flag.key])[key];\n        var source = VariantSource.LocalEvaluation;\n        var isLocalEvaluationDefault = (_a = variant === null || variant === void 0 ? void 0 : variant.metadata) === null || _a === void 0 ? void 0 : _a.default;\n        if (!isNullOrUndefined(variant) && !isLocalEvaluationDefault) {\n            return {\n                variant: convertVariant(variant),\n                source: source,\n                hasDefaultVariant: false,\n            };\n        }\n        else if (isLocalEvaluationDefault) {\n            defaultSourceVariant = {\n                variant: convertVariant(variant),\n                source: source,\n                hasDefaultVariant: true,\n            };\n        }\n        // Inline fallback\n        if (!isNullOrUndefined(fallback)) {\n            return {\n                variant: convertVariant(fallback),\n                source: VariantSource.FallbackInline,\n                hasDefaultVariant: defaultSourceVariant.hasDefaultVariant,\n            };\n        }\n        // Initial variants\n        var initialVariant = this.config.initialVariants[key];\n        if (!isNullOrUndefined(initialVariant)) {\n            return {\n                variant: convertVariant(initialVariant),\n                source: VariantSource.SecondaryInitialVariants,\n                hasDefaultVariant: defaultSourceVariant.hasDefaultVariant,\n            };\n        }\n        // Configured fallback, or default variant\n        var fallbackVariant = convertVariant(this.config.fallbackVariant);\n        var fallbackSourceVariant = {\n            variant: fallbackVariant,\n            source: VariantSource.FallbackConfig,\n            hasDefaultVariant: defaultSourceVariant.hasDefaultVariant,\n        };\n        if (!isNullUndefinedOrEmpty(fallbackVariant)) {\n            return fallbackSourceVariant;\n        }\n        return defaultSourceVariant;\n    };\n    /**\n     * For Source.LocalStorage, fallback order goes:\n     *\n     *  1. Local Storage\n     *  2. Inline function fallback\n     *  3. InitialFlags\n     *  4. Config fallback\n     *\n     * If there is a default variant and no fallback, return the default variant.\n     */\n    ExperimentClient.prototype.localStorageVariantAndSource = function (key, fallback) {\n        var _a;\n        var defaultSourceVariant = {};\n        // Local storage\n        var localStorageVariant = this.variants.get(key);\n        var isLocalStorageDefault = (_a = localStorageVariant === null || localStorageVariant === void 0 ? void 0 : localStorageVariant.metadata) === null || _a === void 0 ? void 0 : _a.default;\n        if (!isNullOrUndefined(localStorageVariant) && !isLocalStorageDefault) {\n            return {\n                variant: convertVariant(localStorageVariant),\n                source: VariantSource.LocalStorage,\n                hasDefaultVariant: false,\n            };\n        }\n        else if (isLocalStorageDefault) {\n            defaultSourceVariant = {\n                variant: convertVariant(localStorageVariant),\n                source: VariantSource.LocalStorage,\n                hasDefaultVariant: true,\n            };\n        }\n        // Inline fallback\n        if (!isNullOrUndefined(fallback)) {\n            return {\n                variant: convertVariant(fallback),\n                source: VariantSource.FallbackInline,\n                hasDefaultVariant: defaultSourceVariant.hasDefaultVariant,\n            };\n        }\n        // Initial variants\n        var initialVariant = this.config.initialVariants[key];\n        if (!isNullOrUndefined(initialVariant)) {\n            return {\n                variant: convertVariant(initialVariant),\n                source: VariantSource.SecondaryInitialVariants,\n                hasDefaultVariant: defaultSourceVariant.hasDefaultVariant,\n            };\n        }\n        // Configured fallback, or default variant\n        var fallbackVariant = convertVariant(this.config.fallbackVariant);\n        var fallbackSourceVariant = {\n            variant: fallbackVariant,\n            source: VariantSource.FallbackConfig,\n            hasDefaultVariant: defaultSourceVariant.hasDefaultVariant,\n        };\n        if (!isNullUndefinedOrEmpty(fallbackVariant)) {\n            return fallbackSourceVariant;\n        }\n        return defaultSourceVariant;\n    };\n    /**\n     * For Source.InitialVariants, fallback order goes:\n     *\n     *  1. Initial variants\n     *  2. Local storage\n     *  3. Inline function fallback\n     *  4. Config fallback\n     *\n     * If there is a default variant and no fallback, return the default variant.\n     */\n    ExperimentClient.prototype.initialVariantsVariantAndSource = function (key, fallback) {\n        var _a;\n        var defaultSourceVariant = {};\n        // Initial variants\n        var initialVariantsVariant = this.config.initialVariants[key];\n        if (!isNullOrUndefined(initialVariantsVariant)) {\n            return {\n                variant: convertVariant(initialVariantsVariant),\n                source: VariantSource.InitialVariants,\n                hasDefaultVariant: false,\n            };\n        }\n        // Local storage\n        var localStorageVariant = this.variants.get(key);\n        var isLocalStorageDefault = (_a = localStorageVariant === null || localStorageVariant === void 0 ? void 0 : localStorageVariant.metadata) === null || _a === void 0 ? void 0 : _a.default;\n        if (!isNullOrUndefined(localStorageVariant) && !isLocalStorageDefault) {\n            return {\n                variant: convertVariant(localStorageVariant),\n                source: VariantSource.LocalStorage,\n                hasDefaultVariant: false,\n            };\n        }\n        else if (isLocalStorageDefault) {\n            defaultSourceVariant = {\n                variant: convertVariant(localStorageVariant),\n                source: VariantSource.LocalStorage,\n                hasDefaultVariant: true,\n            };\n        }\n        // Inline fallback\n        if (!isNullOrUndefined(fallback)) {\n            return {\n                variant: convertVariant(fallback),\n                source: VariantSource.FallbackInline,\n                hasDefaultVariant: defaultSourceVariant.hasDefaultVariant,\n            };\n        }\n        // Configured fallback, or default variant\n        var fallbackVariant = convertVariant(this.config.fallbackVariant);\n        var fallbackSourceVariant = {\n            variant: fallbackVariant,\n            source: VariantSource.FallbackConfig,\n            hasDefaultVariant: defaultSourceVariant.hasDefaultVariant,\n        };\n        if (!isNullUndefinedOrEmpty(fallbackVariant)) {\n            return fallbackSourceVariant;\n        }\n        return defaultSourceVariant;\n    };\n    ExperimentClient.prototype.fetchInternal = function (user, timeoutMillis, retry, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var variants, e_3;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // Don't even try to fetch variants if API key is not set\n                        if (!this.apiKey) {\n                            throw Error('Experiment API key is empty');\n                        }\n                        this.debug(\"[Experiment] Fetch all: retry=\".concat(retry));\n                        // Proactively cancel retries if active in order to avoid unnecessary API\n                        // requests. A new failure will restart the retries.\n                        if (retry) {\n                            this.stopRetries();\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 4, , 5]);\n                        return [4 /*yield*/, this.doFetch(user, timeoutMillis, options)];\n                    case 2:\n                        variants = _a.sent();\n                        return [4 /*yield*/, this.storeVariants(variants, options)];\n                    case 3:\n                        _a.sent();\n                        return [2 /*return*/, variants];\n                    case 4:\n                        e_3 = _a.sent();\n                        if (retry && this.shouldRetryFetch(e_3)) {\n                            void this.startRetries(user, options);\n                        }\n                        throw e_3;\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ExperimentClient.prototype.doFetch = function (user, timeoutMillis, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var results, variants, _a, _b, key;\n            var e_4, _c;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0: return [4 /*yield*/, this.addContextOrWait(user, 10000)];\n                    case 1:\n                        user = _d.sent();\n                        this.debug('[Experiment] Fetch variants for user: ', user);\n                        return [4 /*yield*/, this.evaluationApi.getVariants(user, __assign({ timeoutMillis: timeoutMillis }, options))];\n                    case 2:\n                        results = _d.sent();\n                        variants = {};\n                        try {\n                            for (_a = __values(Object.keys(results)), _b = _a.next(); !_b.done; _b = _a.next()) {\n                                key = _b.value;\n                                variants[key] = convertEvaluationVariantToVariant(results[key]);\n                            }\n                        }\n                        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n                        finally {\n                            try {\n                                if (_b && !_b.done && (_c = _a.return)) _c.call(_a);\n                            }\n                            finally { if (e_4) throw e_4.error; }\n                        }\n                        this.debug('[Experiment] Received variants: ', variants);\n                        return [2 /*return*/, variants];\n                }\n            });\n        });\n    };\n    ExperimentClient.prototype.doFlags = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var flags;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.flagApi.getFlags({\n                            libraryName: 'experiment-js-client',\n                            libraryVersion: version,\n                            timeoutMillis: this.config.fetchTimeoutMillis,\n                        })];\n                    case 1:\n                        flags = _a.sent();\n                        this.flags.clear();\n                        this.flags.putAll(flags);\n                        try {\n                            this.flags.store();\n                        }\n                        catch (e) {\n                            // catch localStorage undefined error\n                        }\n                        this.mergeInitialFlagsWithStorage();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ExperimentClient.prototype.storeVariants = function (variants, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var failedFlagKeys, _loop_1, this_1, key, key;\n            return __generator(this, function (_a) {\n                failedFlagKeys = options && options.flagKeys ? options.flagKeys : [];\n                if (failedFlagKeys.length === 0) {\n                    this.variants.clear();\n                }\n                _loop_1 = function (key) {\n                    failedFlagKeys = failedFlagKeys.filter(function (flagKey) { return flagKey !== key; });\n                    this_1.variants.put(key, variants[key]);\n                };\n                this_1 = this;\n                for (key in variants) {\n                    _loop_1(key);\n                }\n                for (key in failedFlagKeys) {\n                    this.variants.remove(key);\n                }\n                try {\n                    this.variants.store();\n                }\n                catch (e) {\n                    // catch localStorage undefined error\n                }\n                this.debug('[Experiment] Stored variants: ', variants);\n                return [2 /*return*/];\n            });\n        });\n    };\n    ExperimentClient.prototype.startRetries = function (user, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                this.debug('[Experiment] Retry fetch');\n                this.retriesBackoff = new Backoff(fetchBackoffAttempts, fetchBackoffMinMillis, fetchBackoffMaxMillis, fetchBackoffScalar);\n                void this.retriesBackoff.start(function () { return __awaiter(_this, void 0, void 0, function () {\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0: return [4 /*yield*/, this.fetchInternal(user, fetchBackoffTimeout, false, options)];\n                            case 1:\n                                _a.sent();\n                                return [2 /*return*/];\n                        }\n                    });\n                }); });\n                return [2 /*return*/];\n            });\n        });\n    };\n    ExperimentClient.prototype.stopRetries = function () {\n        if (this.retriesBackoff) {\n            this.retriesBackoff.cancel();\n        }\n    };\n    ExperimentClient.prototype.addContext = function (user) {\n        var _a, _b;\n        var providedUser = (_a = this.userProvider) === null || _a === void 0 ? void 0 : _a.getUser();\n        var mergedUserProperties = __assign(__assign({}, user === null || user === void 0 ? void 0 : user.user_properties), providedUser === null || providedUser === void 0 ? void 0 : providedUser.user_properties);\n        return __assign(__assign(__assign({ library: \"experiment-js-client/\".concat(version) }, (_b = this.userProvider) === null || _b === void 0 ? void 0 : _b.getUser()), user), { user_properties: mergedUserProperties });\n    };\n    ExperimentClient.prototype.addContextOrWait = function (user, ms) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(this.userProvider instanceof DefaultUserProvider)) return [3 /*break*/, 2];\n                        if (!(this.userProvider.userProvider instanceof ConnectorUserProvider)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.userProvider.userProvider.identityReady(ms)];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/, this.addContext(user)];\n                }\n            });\n        });\n    };\n    ExperimentClient.prototype.sourceVariants = function () {\n        if (this.config.source == Source.LocalStorage) {\n            return this.variants.getAll();\n        }\n        else if (this.config.source == Source.InitialVariants) {\n            return this.config.initialVariants;\n        }\n    };\n    ExperimentClient.prototype.secondaryVariants = function () {\n        if (this.config.source == Source.LocalStorage) {\n            return this.config.initialVariants;\n        }\n        else if (this.config.source == Source.InitialVariants) {\n            return this.variants.getAll();\n        }\n    };\n    ExperimentClient.prototype.exposureInternal = function (key, sourceVariant) {\n        var _a, _b, _c, _d, _e, _f;\n        this.legacyExposureInternal(key, sourceVariant.variant, sourceVariant.source);\n        var exposure = { flag_key: key };\n        // Do not track exposure for fallback variants that are not associated with\n        // a default variant.\n        var fallback = isFallback(sourceVariant.source);\n        if (fallback && !sourceVariant.hasDefaultVariant) {\n            return;\n        }\n        if ((_a = sourceVariant.variant) === null || _a === void 0 ? void 0 : _a.expKey) {\n            exposure.experiment_key = (_b = sourceVariant.variant) === null || _b === void 0 ? void 0 : _b.expKey;\n        }\n        var metadata = (_c = sourceVariant.variant) === null || _c === void 0 ? void 0 : _c.metadata;\n        if (!fallback && !(metadata === null || metadata === void 0 ? void 0 : metadata.default)) {\n            if ((_d = sourceVariant.variant) === null || _d === void 0 ? void 0 : _d.key) {\n                exposure.variant = sourceVariant.variant.key;\n            }\n            else if ((_e = sourceVariant.variant) === null || _e === void 0 ? void 0 : _e.value) {\n                exposure.variant = sourceVariant.variant.value;\n            }\n        }\n        if (metadata)\n            exposure.metadata = metadata;\n        (_f = this.exposureTrackingProvider) === null || _f === void 0 ? void 0 : _f.track(exposure);\n    };\n    ExperimentClient.prototype.legacyExposureInternal = function (key, variant, source) {\n        var _a, _b, _c, _d, _e;\n        if (this.analyticsProvider) {\n            var user = this.addContext(this.getUser());\n            var event_1 = exposureEvent(user, key, variant, source);\n            if (isFallback(source) || !(variant === null || variant === void 0 ? void 0 : variant.value)) {\n                (_b = (_a = this.analyticsProvider) === null || _a === void 0 ? void 0 : _a.unsetUserProperty) === null || _b === void 0 ? void 0 : _b.call(_a, event_1);\n            }\n            else if (variant === null || variant === void 0 ? void 0 : variant.value) {\n                (_d = (_c = this.analyticsProvider) === null || _c === void 0 ? void 0 : _c.setUserProperty) === null || _d === void 0 ? void 0 : _d.call(_c, event_1);\n                (_e = this.analyticsProvider) === null || _e === void 0 ? void 0 : _e.track(event_1);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ExperimentClient.prototype.debug = function (message) {\n        var optionalParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            optionalParams[_i - 1] = arguments[_i];\n        }\n        if (this.config.debug) {\n            console.debug.apply(console, __spreadArray([message], __read(optionalParams), false));\n        }\n    };\n    ExperimentClient.prototype.shouldRetryFetch = function (e) {\n        if (e instanceof FetchError) {\n            return e.statusCode < 400 || e.statusCode >= 500 || e.statusCode === 429;\n        }\n        return true;\n    };\n    return ExperimentClient;\n}());\n\nvar instances = {};\n/**\n * Initializes a singleton {@link ExperimentClient} identified by the configured\n * instance name.\n *\n * @param apiKey The deployment API Key\n * @param config See {@link ExperimentConfig} for config options\n */\nvar initialize = function (apiKey, config) {\n    // Store instances by appending the instance name and api key. Allows for\n    // initializing multiple default instances for different api keys.\n    var instanceName = (config === null || config === void 0 ? void 0 : config.instanceName) || Defaults.instanceName;\n    var instanceKey = \"\".concat(instanceName, \".\").concat(apiKey);\n    var connector = AnalyticsConnector.getInstance(instanceName);\n    if (!instances[instanceKey]) {\n        config = __assign(__assign({}, config), { userProvider: new DefaultUserProvider(connector.applicationContextProvider, config === null || config === void 0 ? void 0 : config.userProvider) });\n        instances[instanceKey] = new ExperimentClient(apiKey, config);\n    }\n    return instances[instanceKey];\n};\n/**\n * Initialize a singleton {@link ExperimentClient} which automatically\n * integrates with the installed and initialized instance of the amplitude\n * analytics SDK.\n *\n * You must be using amplitude-js SDK version 8.17.0+ for this integration to\n * work.\n *\n * @param apiKey The deployment API Key\n * @param config See {@link ExperimentConfig} for config options\n */\nvar initializeWithAmplitudeAnalytics = function (apiKey, config) {\n    // Store instances by appending the instance name and api key. Allows for\n    // initializing multiple default instances for different api keys.\n    var instanceName = (config === null || config === void 0 ? void 0 : config.instanceName) || Defaults.instanceName;\n    var instanceKey = \"\".concat(instanceName, \".\").concat(apiKey);\n    var connector = AnalyticsConnector.getInstance(instanceName);\n    if (!instances[instanceKey]) {\n        config = __assign({ userProvider: new DefaultUserProvider(connector.applicationContextProvider, new ConnectorUserProvider(connector.identityStore)), exposureTrackingProvider: new ConnectorExposureTrackingProvider(connector.eventBridge) }, config);\n        instances[instanceKey] = new ExperimentClient(apiKey, config);\n        if (config.automaticFetchOnAmplitudeIdentityChange) {\n            connector.identityStore.addIdentityListener(function () {\n                instances[instanceKey].fetch();\n            });\n        }\n    }\n    return instances[instanceKey];\n};\n/**\n * Provides factory methods for storing singleton instances of {@link ExperimentClient}\n * @category Core Usage\n */\nvar Experiment = {\n    initialize: initialize,\n    initializeWithAmplitudeAnalytics: initializeWithAmplitudeAnalytics,\n};\n\n/**\n * A stub {@link Client} implementation that does nothing for all methods\n */\nvar StubExperimentClient = /** @class */ (function () {\n    function StubExperimentClient() {\n    }\n    StubExperimentClient.prototype.getUser = function () {\n        return {};\n    };\n    StubExperimentClient.prototype.start = function (user) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/];\n            });\n        });\n    };\n    StubExperimentClient.prototype.stop = function () { };\n    StubExperimentClient.prototype.setUser = function (user) { };\n    StubExperimentClient.prototype.fetch = function (user) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this];\n            });\n        });\n    };\n    StubExperimentClient.prototype.getUserProvider = function () {\n        return null;\n    };\n    StubExperimentClient.prototype.setUserProvider = function (uerProvider) {\n        return this;\n    };\n    StubExperimentClient.prototype.variant = function (key, fallback) {\n        return Defaults.fallbackVariant;\n    };\n    StubExperimentClient.prototype.all = function () {\n        return {};\n    };\n    StubExperimentClient.prototype.clear = function () { };\n    StubExperimentClient.prototype.exposure = function (key) { };\n    return StubExperimentClient;\n}());\n\nexport { AmplitudeAnalyticsProvider, AmplitudeUserProvider, Experiment, ExperimentClient, Source, StubExperimentClient };\n", "var ApplicationContextProviderImpl = /** @class */ (function () {\n    function ApplicationContextProviderImpl() {\n    }\n    ApplicationContextProviderImpl.prototype.getApplicationContext = function () {\n        return {\n            versionName: this.versionName,\n            language: getLanguage(),\n            platform: 'Web',\n            os: undefined,\n            deviceModel: undefined,\n        };\n    };\n    return ApplicationContextProviderImpl;\n}());\nvar getLanguage = function () {\n    return ((typeof navigator !== 'undefined' &&\n        ((navigator.languages && navigator.languages[0]) ||\n            navigator.language)) ||\n        '');\n};\n\nvar EventBridgeImpl = /** @class */ (function () {\n    function EventBridgeImpl() {\n        this.queue = [];\n    }\n    EventBridgeImpl.prototype.logEvent = function (event) {\n        if (!this.receiver) {\n            if (this.queue.length < 512) {\n                this.queue.push(event);\n            }\n        }\n        else {\n            this.receiver(event);\n        }\n    };\n    EventBridgeImpl.prototype.setEventReceiver = function (receiver) {\n        this.receiver = receiver;\n        if (this.queue.length > 0) {\n            this.queue.forEach(function (event) {\n                receiver(event);\n            });\n            this.queue = [];\n        }\n    };\n    return EventBridgeImpl;\n}());\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar isEqual = function (obj1, obj2) {\n    var primitive = ['string', 'number', 'boolean', 'undefined'];\n    var typeA = typeof obj1;\n    var typeB = typeof obj2;\n    if (typeA !== typeB) {\n        return false;\n    }\n    for (var _i = 0, primitive_1 = primitive; _i < primitive_1.length; _i++) {\n        var p = primitive_1[_i];\n        if (p === typeA) {\n            return obj1 === obj2;\n        }\n    }\n    // check null\n    if (obj1 == null && obj2 == null) {\n        return true;\n    }\n    else if (obj1 == null || obj2 == null) {\n        return false;\n    }\n    // if got here - objects\n    if (obj1.length !== obj2.length) {\n        return false;\n    }\n    //check if arrays\n    var isArrayA = Array.isArray(obj1);\n    var isArrayB = Array.isArray(obj2);\n    if (isArrayA !== isArrayB) {\n        return false;\n    }\n    if (isArrayA && isArrayB) {\n        //arrays\n        for (var i = 0; i < obj1.length; i++) {\n            if (!isEqual(obj1[i], obj2[i])) {\n                return false;\n            }\n        }\n    }\n    else {\n        //objects\n        var sorted1 = Object.keys(obj1).sort();\n        var sorted2 = Object.keys(obj2).sort();\n        if (!isEqual(sorted1, sorted2)) {\n            return false;\n        }\n        //compare object values\n        var result_1 = true;\n        Object.keys(obj1).forEach(function (key) {\n            if (!isEqual(obj1[key], obj2[key])) {\n                result_1 = false;\n            }\n        });\n        return result_1;\n    }\n    return true;\n};\n\nvar ID_OP_SET = '$set';\nvar ID_OP_UNSET = '$unset';\nvar ID_OP_CLEAR_ALL = '$clearAll';\n// Polyfill for Object.entries\nif (!Object.entries) {\n    Object.entries = function (obj) {\n        var ownProps = Object.keys(obj);\n        var i = ownProps.length;\n        var resArray = new Array(i);\n        while (i--) {\n            resArray[i] = [ownProps[i], obj[ownProps[i]]];\n        }\n        return resArray;\n    };\n}\nvar IdentityStoreImpl = /** @class */ (function () {\n    function IdentityStoreImpl() {\n        this.identity = { userProperties: {} };\n        this.listeners = new Set();\n    }\n    IdentityStoreImpl.prototype.editIdentity = function () {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var self = this;\n        var actingUserProperties = __assign({}, this.identity.userProperties);\n        var actingIdentity = __assign(__assign({}, this.identity), { userProperties: actingUserProperties });\n        return {\n            setUserId: function (userId) {\n                actingIdentity.userId = userId;\n                return this;\n            },\n            setDeviceId: function (deviceId) {\n                actingIdentity.deviceId = deviceId;\n                return this;\n            },\n            setUserProperties: function (userProperties) {\n                actingIdentity.userProperties = userProperties;\n                return this;\n            },\n            setOptOut: function (optOut) {\n                actingIdentity.optOut = optOut;\n                return this;\n            },\n            updateUserProperties: function (actions) {\n                var actingProperties = actingIdentity.userProperties || {};\n                for (var _i = 0, _a = Object.entries(actions); _i < _a.length; _i++) {\n                    var _b = _a[_i], action = _b[0], properties = _b[1];\n                    switch (action) {\n                        case ID_OP_SET:\n                            for (var _c = 0, _d = Object.entries(properties); _c < _d.length; _c++) {\n                                var _e = _d[_c], key = _e[0], value = _e[1];\n                                actingProperties[key] = value;\n                            }\n                            break;\n                        case ID_OP_UNSET:\n                            for (var _f = 0, _g = Object.keys(properties); _f < _g.length; _f++) {\n                                var key = _g[_f];\n                                delete actingProperties[key];\n                            }\n                            break;\n                        case ID_OP_CLEAR_ALL:\n                            actingProperties = {};\n                            break;\n                    }\n                }\n                actingIdentity.userProperties = actingProperties;\n                return this;\n            },\n            commit: function () {\n                self.setIdentity(actingIdentity);\n                return this;\n            },\n        };\n    };\n    IdentityStoreImpl.prototype.getIdentity = function () {\n        return __assign({}, this.identity);\n    };\n    IdentityStoreImpl.prototype.setIdentity = function (identity) {\n        var originalIdentity = __assign({}, this.identity);\n        this.identity = __assign({}, identity);\n        if (!isEqual(originalIdentity, this.identity)) {\n            this.listeners.forEach(function (listener) {\n                listener(identity);\n            });\n        }\n    };\n    IdentityStoreImpl.prototype.addIdentityListener = function (listener) {\n        this.listeners.add(listener);\n    };\n    IdentityStoreImpl.prototype.removeIdentityListener = function (listener) {\n        this.listeners.delete(listener);\n    };\n    return IdentityStoreImpl;\n}());\n\nvar safeGlobal = typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof global !== 'undefined'\n        ? global\n        : self;\n\nvar AnalyticsConnector = /** @class */ (function () {\n    function AnalyticsConnector() {\n        this.identityStore = new IdentityStoreImpl();\n        this.eventBridge = new EventBridgeImpl();\n        this.applicationContextProvider = new ApplicationContextProviderImpl();\n    }\n    AnalyticsConnector.getInstance = function (instanceName) {\n        if (!safeGlobal['analyticsConnectorInstances']) {\n            safeGlobal['analyticsConnectorInstances'] = {};\n        }\n        if (!safeGlobal['analyticsConnectorInstances'][instanceName]) {\n            safeGlobal['analyticsConnectorInstances'][instanceName] =\n                new AnalyticsConnector();\n        }\n        return safeGlobal['analyticsConnectorInstances'][instanceName];\n    };\n    return AnalyticsConnector;\n}());\n\nexport { AnalyticsConnector };\n", "/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nfunction __generator(thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nfunction __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n}\nfunction __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nvar EvaluationOperator = {\n    IS: 'is',\n    IS_NOT: 'is not',\n    CONTAINS: 'contains',\n    DOES_NOT_CONTAIN: 'does not contain',\n    LESS_THAN: 'less',\n    LESS_THAN_EQUALS: 'less or equal',\n    GREATER_THAN: 'greater',\n    GREATER_THAN_EQUALS: 'greater or equal',\n    VERSION_LESS_THAN: 'version less',\n    VERSION_LESS_THAN_EQUALS: 'version less or equal',\n    VERSION_GREATER_THAN: 'version greater',\n    VERSION_GREATER_THAN_EQUALS: 'version greater or equal',\n    SET_IS: 'set is',\n    SET_IS_NOT: 'set is not',\n    SET_CONTAINS: 'set contains',\n    SET_DOES_NOT_CONTAIN: 'set does not contain',\n    SET_CONTAINS_ANY: 'set contains any',\n    SET_DOES_NOT_CONTAIN_ANY: 'set does not contain any',\n    REGEX_MATCH: 'regex match',\n    REGEX_DOES_NOT_MATCH: 'regex does not match',\n};\n\nvar stringToUtf8ByteArray = function (str) {\n    var out = [];\n    var p = 0;\n    for (var i = 0; i < str.length; i++) {\n        var c = str.charCodeAt(i);\n        if (c < 128) {\n            out[p++] = c;\n        }\n        else if (c < 2048) {\n            out[p++] = (c >> 6) | 192;\n            out[p++] = (c & 63) | 128;\n        }\n        else if ((c & 0xfc00) == 0xd800 &&\n            i + 1 < str.length &&\n            (str.charCodeAt(i + 1) & 0xfc00) == 0xdc00) {\n            // Surrogate Pair\n            c = 0x10000 + ((c & 0x03ff) << 10) + (str.charCodeAt(++i) & 0x03ff);\n            out[p++] = (c >> 18) | 240;\n            out[p++] = ((c >> 12) & 63) | 128;\n            out[p++] = ((c >> 6) & 63) | 128;\n            out[p++] = (c & 63) | 128;\n        }\n        else {\n            out[p++] = (c >> 12) | 224;\n            out[p++] = ((c >> 6) & 63) | 128;\n            out[p++] = (c & 63) | 128;\n        }\n    }\n    return Uint8Array.from(out);\n};\n\nvar C1_32 = -0x3361d2af;\nvar C2_32 = 0x1b873593;\nvar R1_32 = 15;\nvar R2_32 = 13;\nvar M_32 = 5;\nvar N_32 = -0x19ab949c;\nvar hash32x86 = function (input, seed) {\n    if (seed === void 0) { seed = 0; }\n    var data = stringToUtf8ByteArray(input);\n    var length = data.length;\n    var nBlocks = length >> 2;\n    var hash = seed;\n    // body\n    for (var i = 0; i < nBlocks; i++) {\n        var index_1 = i << 2;\n        var k = readIntLe(data, index_1);\n        hash = mix32(k, hash);\n    }\n    // tail\n    var index = nBlocks << 2;\n    var k1 = 0;\n    switch (length - index) {\n        case 3:\n            k1 ^= data[index + 2] << 16;\n            k1 ^= data[index + 1] << 8;\n            k1 ^= data[index];\n            k1 = Math.imul(k1, C1_32);\n            k1 = rotateLeft(k1, R1_32);\n            k1 = Math.imul(k1, C2_32);\n            hash ^= k1;\n            break;\n        case 2:\n            k1 ^= data[index + 1] << 8;\n            k1 ^= data[index];\n            k1 = Math.imul(k1, C1_32);\n            k1 = rotateLeft(k1, R1_32);\n            k1 = Math.imul(k1, C2_32);\n            hash ^= k1;\n            break;\n        case 1:\n            k1 ^= data[index];\n            k1 = Math.imul(k1, C1_32);\n            k1 = rotateLeft(k1, R1_32);\n            k1 = Math.imul(k1, C2_32);\n            hash ^= k1;\n            break;\n    }\n    hash ^= length;\n    return fmix32(hash) >>> 0;\n};\nvar mix32 = function (k, hash) {\n    var kResult = k;\n    var hashResult = hash;\n    kResult = Math.imul(kResult, C1_32);\n    kResult = rotateLeft(kResult, R1_32);\n    kResult = Math.imul(kResult, C2_32);\n    hashResult ^= kResult;\n    hashResult = rotateLeft(hashResult, R2_32);\n    hashResult = Math.imul(hashResult, M_32);\n    return (hashResult + N_32) | 0;\n};\nvar fmix32 = function (hash) {\n    var hashResult = hash;\n    hashResult ^= hashResult >>> 16;\n    hashResult = Math.imul(hashResult, -0x7a143595);\n    hashResult ^= hashResult >>> 13;\n    hashResult = Math.imul(hashResult, -0x3d4d51cb);\n    hashResult ^= hashResult >>> 16;\n    return hashResult;\n};\nvar rotateLeft = function (x, n, width) {\n    if (width === void 0) { width = 32; }\n    if (n > width)\n        n = n % width;\n    var mask = (0xffffffff << (width - n)) >>> 0;\n    var r = (((x & mask) >>> 0) >>> (width - n)) >>> 0;\n    return ((x << n) | r) >>> 0;\n};\nvar readIntLe = function (data, index) {\n    if (index === void 0) { index = 0; }\n    var n = (data[index] << 24) |\n        (data[index + 1] << 16) |\n        (data[index + 2] << 8) |\n        data[index + 3];\n    return reverseBytes(n);\n};\nvar reverseBytes = function (n) {\n    return (((n & -0x1000000) >>> 24) |\n        ((n & 0x00ff0000) >>> 8) |\n        ((n & 0x0000ff00) << 8) |\n        ((n & 0x000000ff) << 24));\n};\n\nvar select = function (selectable, selector) {\n    var e_1, _a;\n    if (!selector || selector.length === 0) {\n        return undefined;\n    }\n    try {\n        for (var selector_1 = __values(selector), selector_1_1 = selector_1.next(); !selector_1_1.done; selector_1_1 = selector_1.next()) {\n            var selectorElement = selector_1_1.value;\n            if (!selectorElement || !selectable || typeof selectable !== 'object') {\n                return undefined;\n            }\n            selectable = selectable[selectorElement];\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (selector_1_1 && !selector_1_1.done && (_a = selector_1.return)) _a.call(selector_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    if (!selectable) {\n        return undefined;\n    }\n    else {\n        return selectable;\n    }\n};\n\n// major and minor should be non-negative numbers separated by a dot\nvar MAJOR_MINOR_REGEX = '(\\\\d+)\\\\.(\\\\d+)';\n// patch should be a non-negative number\nvar PATCH_REGEX = '(\\\\d+)';\n// prerelease is optional. If provided, it should be a hyphen followed by a\n// series of dot separated identifiers where an identifer can contain anything in [-0-9a-zA-Z]\nvar PRERELEASE_REGEX = '(-(([-\\\\w]+\\\\.?)*))?';\n// version pattern should be major.minor(.patchAndPreRelease) where .patchAndPreRelease is optional\nvar VERSION_PATTERN = \"^\".concat(MAJOR_MINOR_REGEX, \"(\\\\.\").concat(PATCH_REGEX).concat(PRERELEASE_REGEX, \")?$\");\nvar SemanticVersion = /** @class */ (function () {\n    function SemanticVersion(major, minor, patch, preRelease) {\n        if (preRelease === void 0) { preRelease = undefined; }\n        this.major = major;\n        this.minor = minor;\n        this.patch = patch;\n        this.preRelease = preRelease;\n    }\n    SemanticVersion.parse = function (version) {\n        if (!version) {\n            return undefined;\n        }\n        var matchGroup = new RegExp(VERSION_PATTERN).exec(version);\n        if (!matchGroup) {\n            return undefined;\n        }\n        var major = Number(matchGroup[1]);\n        var minor = Number(matchGroup[2]);\n        if (isNaN(major) || isNaN(minor)) {\n            return undefined;\n        }\n        var patch = Number(matchGroup[4]) || 0;\n        var preRelease = matchGroup[5] || undefined;\n        return new SemanticVersion(major, minor, patch, preRelease);\n    };\n    SemanticVersion.prototype.compareTo = function (other) {\n        if (this.major > other.major)\n            return 1;\n        if (this.major < other.major)\n            return -1;\n        if (this.minor > other.minor)\n            return 1;\n        if (this.minor < other.minor)\n            return -1;\n        if (this.patch > other.patch)\n            return 1;\n        if (this.patch < other.patch)\n            return -1;\n        if (this.preRelease && !other.preRelease)\n            return -1;\n        if (!this.preRelease && other.preRelease)\n            return 1;\n        if (this.preRelease && other.preRelease) {\n            if (this.preRelease > other.preRelease)\n                return 1;\n            if (this.preRelease < other.preRelease)\n                return -1;\n            return 0;\n        }\n        return 0;\n    };\n    return SemanticVersion;\n}());\n\nvar EvaluationEngine = /** @class */ (function () {\n    function EvaluationEngine() {\n    }\n    EvaluationEngine.prototype.evaluate = function (context, flags) {\n        var e_1, _a;\n        var results = {};\n        var target = {\n            context: context,\n            result: results,\n        };\n        try {\n            for (var flags_1 = __values(flags), flags_1_1 = flags_1.next(); !flags_1_1.done; flags_1_1 = flags_1.next()) {\n                var flag = flags_1_1.value;\n                // Evaluate flag and update results.\n                var variant = this.evaluateFlag(target, flag);\n                if (variant) {\n                    results[flag.key] = variant;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (flags_1_1 && !flags_1_1.done && (_a = flags_1.return)) _a.call(flags_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return results;\n    };\n    EvaluationEngine.prototype.evaluateFlag = function (target, flag) {\n        var e_2, _a;\n        var result;\n        try {\n            for (var _b = __values(flag.segments), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var segment = _c.value;\n                result = this.evaluateSegment(target, flag, segment);\n                if (result) {\n                    // Merge all metadata into the result\n                    var metadata = __assign(__assign(__assign({}, flag.metadata), segment.metadata), result.metadata);\n                    result = __assign(__assign({}, result), { metadata: metadata });\n                    break;\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return result;\n    };\n    EvaluationEngine.prototype.evaluateSegment = function (target, flag, segment) {\n        var e_3, _a, e_4, _b;\n        if (!segment.conditions) {\n            // Null conditions always match\n            var variantKey = this.bucket(target, segment);\n            if (variantKey !== undefined) {\n                return flag.variants[variantKey];\n            }\n            else {\n                return undefined;\n            }\n        }\n        try {\n            // Outer list logic is \"or\" (||)\n            for (var _c = __values(segment.conditions), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var conditions = _d.value;\n                var match = true;\n                try {\n                    for (var conditions_1 = (e_4 = void 0, __values(conditions)), conditions_1_1 = conditions_1.next(); !conditions_1_1.done; conditions_1_1 = conditions_1.next()) {\n                        var condition = conditions_1_1.value;\n                        match = this.matchCondition(target, condition);\n                        if (!match) {\n                            break;\n                        }\n                    }\n                }\n                catch (e_4_1) { e_4 = { error: e_4_1 }; }\n                finally {\n                    try {\n                        if (conditions_1_1 && !conditions_1_1.done && (_b = conditions_1.return)) _b.call(conditions_1);\n                    }\n                    finally { if (e_4) throw e_4.error; }\n                }\n                // On match, bucket the user.\n                if (match) {\n                    var variantKey = this.bucket(target, segment);\n                    if (variantKey !== undefined) {\n                        return flag.variants[variantKey];\n                    }\n                    else {\n                        return undefined;\n                    }\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return undefined;\n    };\n    EvaluationEngine.prototype.matchCondition = function (target, condition) {\n        var propValue = select(target, condition.selector);\n        // We need special matching for null properties and set type prop values\n        // and operators. All other values are matched as strings, since the\n        // filter values are always strings.\n        if (!propValue) {\n            return this.matchNull(condition.op, condition.values);\n        }\n        else if (this.isSetOperator(condition.op)) {\n            var propValueStringList = this.coerceStringArray(propValue);\n            if (!propValueStringList) {\n                return false;\n            }\n            return this.matchSet(propValueStringList, condition.op, condition.values);\n        }\n        else {\n            var propValueString = this.coerceString(propValue);\n            if (propValueString !== undefined) {\n                return this.matchString(propValueString, condition.op, condition.values);\n            }\n            else {\n                return false;\n            }\n        }\n    };\n    EvaluationEngine.prototype.getHash = function (key) {\n        return hash32x86(key);\n    };\n    EvaluationEngine.prototype.bucket = function (target, segment) {\n        var e_5, _a, e_6, _b;\n        if (!segment.bucket) {\n            // A null bucket means the segment is fully rolled out. Select the\n            // default variant.\n            return segment.variant;\n        }\n        // Select the bucketing value.\n        var bucketingValue = this.coerceString(select(target, segment.bucket.selector));\n        if (!bucketingValue || bucketingValue.length === 0) {\n            // A null or empty bucketing value cannot be bucketed. Select the\n            // default variant.\n            return segment.variant;\n        }\n        // Salt and has the value, and compute the allocation and distribution\n        // values.\n        var keyToHash = \"\".concat(segment.bucket.salt, \"/\").concat(bucketingValue);\n        var hash = this.getHash(keyToHash);\n        var allocationValue = hash % 100;\n        var distributionValue = Math.floor(hash / 100);\n        try {\n            for (var _c = __values(segment.bucket.allocations), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var allocation = _d.value;\n                var allocationStart = allocation.range[0];\n                var allocationEnd = allocation.range[1];\n                if (allocationValue >= allocationStart &&\n                    allocationValue < allocationEnd) {\n                    try {\n                        for (var _e = (e_6 = void 0, __values(allocation.distributions)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                            var distribution = _f.value;\n                            var distributionStart = distribution.range[0];\n                            var distributionEnd = distribution.range[1];\n                            if (distributionValue >= distributionStart &&\n                                distributionValue < distributionEnd) {\n                                return distribution.variant;\n                            }\n                        }\n                    }\n                    catch (e_6_1) { e_6 = { error: e_6_1 }; }\n                    finally {\n                        try {\n                            if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                        }\n                        finally { if (e_6) throw e_6.error; }\n                    }\n                }\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n        return segment.variant;\n    };\n    EvaluationEngine.prototype.matchNull = function (op, filterValues) {\n        var containsNone = this.containsNone(filterValues);\n        switch (op) {\n            case EvaluationOperator.IS:\n            case EvaluationOperator.CONTAINS:\n            case EvaluationOperator.LESS_THAN:\n            case EvaluationOperator.LESS_THAN_EQUALS:\n            case EvaluationOperator.GREATER_THAN:\n            case EvaluationOperator.GREATER_THAN_EQUALS:\n            case EvaluationOperator.VERSION_LESS_THAN:\n            case EvaluationOperator.VERSION_LESS_THAN_EQUALS:\n            case EvaluationOperator.VERSION_GREATER_THAN:\n            case EvaluationOperator.VERSION_GREATER_THAN_EQUALS:\n            case EvaluationOperator.SET_IS:\n            case EvaluationOperator.SET_CONTAINS:\n            case EvaluationOperator.SET_CONTAINS_ANY:\n                return containsNone;\n            case EvaluationOperator.IS_NOT:\n            case EvaluationOperator.DOES_NOT_CONTAIN:\n            case EvaluationOperator.SET_DOES_NOT_CONTAIN:\n            case EvaluationOperator.SET_DOES_NOT_CONTAIN_ANY:\n                return !containsNone;\n            default:\n                return false;\n        }\n    };\n    EvaluationEngine.prototype.matchSet = function (propValues, op, filterValues) {\n        switch (op) {\n            case EvaluationOperator.SET_IS:\n                return this.setEquals(propValues, filterValues);\n            case EvaluationOperator.SET_IS_NOT:\n                return !this.setEquals(propValues, filterValues);\n            case EvaluationOperator.SET_CONTAINS:\n                return this.matchesSetContainsAll(propValues, filterValues);\n            case EvaluationOperator.SET_DOES_NOT_CONTAIN:\n                return !this.matchesSetContainsAll(propValues, filterValues);\n            case EvaluationOperator.SET_CONTAINS_ANY:\n                return this.matchesSetContainsAny(propValues, filterValues);\n            case EvaluationOperator.SET_DOES_NOT_CONTAIN_ANY:\n                return !this.matchesSetContainsAny(propValues, filterValues);\n            default:\n                return false;\n        }\n    };\n    EvaluationEngine.prototype.matchString = function (propValue, op, filterValues) {\n        var _this = this;\n        switch (op) {\n            case EvaluationOperator.IS:\n                return this.matchesIs(propValue, filterValues);\n            case EvaluationOperator.IS_NOT:\n                return !this.matchesIs(propValue, filterValues);\n            case EvaluationOperator.CONTAINS:\n                return this.matchesContains(propValue, filterValues);\n            case EvaluationOperator.DOES_NOT_CONTAIN:\n                return !this.matchesContains(propValue, filterValues);\n            case EvaluationOperator.LESS_THAN:\n            case EvaluationOperator.LESS_THAN_EQUALS:\n            case EvaluationOperator.GREATER_THAN:\n            case EvaluationOperator.GREATER_THAN_EQUALS:\n                return this.matchesComparable(propValue, op, filterValues, function (value) { return _this.parseNumber(value); }, this.comparator);\n            case EvaluationOperator.VERSION_LESS_THAN:\n            case EvaluationOperator.VERSION_LESS_THAN_EQUALS:\n            case EvaluationOperator.VERSION_GREATER_THAN:\n            case EvaluationOperator.VERSION_GREATER_THAN_EQUALS:\n                return this.matchesComparable(propValue, op, filterValues, function (value) { return SemanticVersion.parse(value); }, this.versionComparator);\n            case EvaluationOperator.REGEX_MATCH:\n                return this.matchesRegex(propValue, filterValues);\n            case EvaluationOperator.REGEX_DOES_NOT_MATCH:\n                return !this.matchesRegex(propValue, filterValues);\n            default:\n                return false;\n        }\n    };\n    EvaluationEngine.prototype.matchesIs = function (propValue, filterValues) {\n        if (this.containsBooleans(filterValues)) {\n            var lower_1 = propValue.toLowerCase();\n            if (lower_1 === 'true' || lower_1 === 'false') {\n                return filterValues.some(function (value) { return value.toLowerCase() === lower_1; });\n            }\n        }\n        return filterValues.some(function (value) { return propValue === value; });\n    };\n    EvaluationEngine.prototype.matchesContains = function (propValue, filterValues) {\n        var e_7, _a;\n        try {\n            for (var filterValues_1 = __values(filterValues), filterValues_1_1 = filterValues_1.next(); !filterValues_1_1.done; filterValues_1_1 = filterValues_1.next()) {\n                var filterValue = filterValues_1_1.value;\n                if (propValue.toLowerCase().includes(filterValue.toLowerCase())) {\n                    return true;\n                }\n            }\n        }\n        catch (e_7_1) { e_7 = { error: e_7_1 }; }\n        finally {\n            try {\n                if (filterValues_1_1 && !filterValues_1_1.done && (_a = filterValues_1.return)) _a.call(filterValues_1);\n            }\n            finally { if (e_7) throw e_7.error; }\n        }\n        return false;\n    };\n    EvaluationEngine.prototype.matchesComparable = function (propValue, op, filterValues, typeTransformer, typeComparator) {\n        var _this = this;\n        var propValueTransformed = typeTransformer(propValue);\n        var filterValuesTransformed = filterValues\n            .map(function (filterValue) {\n            return typeTransformer(filterValue);\n        })\n            .filter(function (filterValue) {\n            return filterValue !== undefined;\n        });\n        if (propValueTransformed === undefined ||\n            filterValuesTransformed.length === 0) {\n            return filterValues.some(function (filterValue) {\n                return _this.comparator(propValue, op, filterValue);\n            });\n        }\n        else {\n            return filterValuesTransformed.some(function (filterValueTransformed) {\n                return typeComparator(propValueTransformed, op, filterValueTransformed);\n            });\n        }\n    };\n    EvaluationEngine.prototype.comparator = function (propValue, op, filterValue) {\n        switch (op) {\n            case EvaluationOperator.LESS_THAN:\n            case EvaluationOperator.VERSION_LESS_THAN:\n                return propValue < filterValue;\n            case EvaluationOperator.LESS_THAN_EQUALS:\n            case EvaluationOperator.VERSION_LESS_THAN_EQUALS:\n                return propValue <= filterValue;\n            case EvaluationOperator.GREATER_THAN:\n            case EvaluationOperator.VERSION_GREATER_THAN:\n                return propValue > filterValue;\n            case EvaluationOperator.GREATER_THAN_EQUALS:\n            case EvaluationOperator.VERSION_GREATER_THAN_EQUALS:\n                return propValue >= filterValue;\n            default:\n                return false;\n        }\n    };\n    EvaluationEngine.prototype.versionComparator = function (propValue, op, filterValue) {\n        var compareTo = propValue.compareTo(filterValue);\n        switch (op) {\n            case EvaluationOperator.LESS_THAN:\n            case EvaluationOperator.VERSION_LESS_THAN:\n                return compareTo < 0;\n            case EvaluationOperator.LESS_THAN_EQUALS:\n            case EvaluationOperator.VERSION_LESS_THAN_EQUALS:\n                return compareTo <= 0;\n            case EvaluationOperator.GREATER_THAN:\n            case EvaluationOperator.VERSION_GREATER_THAN:\n                return compareTo > 0;\n            case EvaluationOperator.GREATER_THAN_EQUALS:\n            case EvaluationOperator.VERSION_GREATER_THAN_EQUALS:\n                return compareTo >= 0;\n            default:\n                return false;\n        }\n    };\n    EvaluationEngine.prototype.matchesRegex = function (propValue, filterValues) {\n        return filterValues.some(function (filterValue) {\n            return Boolean(new RegExp(filterValue).exec(propValue));\n        });\n    };\n    EvaluationEngine.prototype.containsNone = function (filterValues) {\n        return filterValues.some(function (filterValue) {\n            return filterValue === '(none)';\n        });\n    };\n    EvaluationEngine.prototype.containsBooleans = function (filterValues) {\n        return filterValues.some(function (filterValue) {\n            switch (filterValue.toLowerCase()) {\n                case 'true':\n                case 'false':\n                    return true;\n                default:\n                    return false;\n            }\n        });\n    };\n    EvaluationEngine.prototype.parseNumber = function (value) {\n        var _a;\n        return (_a = Number(value)) !== null && _a !== void 0 ? _a : undefined;\n    };\n    EvaluationEngine.prototype.coerceString = function (value) {\n        if (!value) {\n            return undefined;\n        }\n        if (typeof value === 'object') {\n            return JSON.stringify(value);\n        }\n        return String(value);\n    };\n    EvaluationEngine.prototype.coerceStringArray = function (value) {\n        var _this = this;\n        if (Array.isArray(value)) {\n            var anyArray = value;\n            return anyArray\n                .map(function (e) { return _this.coerceString(e); })\n                .filter(Boolean);\n        }\n        var stringValue = String(value);\n        try {\n            var parsedValue = JSON.parse(stringValue);\n            if (Array.isArray(parsedValue)) {\n                var anyArray = value;\n                return anyArray\n                    .map(function (e) { return _this.coerceString(e); })\n                    .filter(Boolean);\n            }\n            else {\n                return undefined;\n            }\n        }\n        catch (_a) {\n            return undefined;\n        }\n    };\n    EvaluationEngine.prototype.isSetOperator = function (op) {\n        switch (op) {\n            case EvaluationOperator.SET_IS:\n            case EvaluationOperator.SET_IS_NOT:\n            case EvaluationOperator.SET_CONTAINS:\n            case EvaluationOperator.SET_DOES_NOT_CONTAIN:\n            case EvaluationOperator.SET_CONTAINS_ANY:\n            case EvaluationOperator.SET_DOES_NOT_CONTAIN_ANY:\n                return true;\n            default:\n                return false;\n        }\n    };\n    EvaluationEngine.prototype.setEquals = function (xa, ya) {\n        var xs = new Set(xa);\n        var ys = new Set(ya);\n        return xs.size === ys.size && __spreadArray([], __read(ys), false).every(function (y) { return xs.has(y); });\n    };\n    EvaluationEngine.prototype.matchesSetContainsAll = function (propValues, filterValues) {\n        var e_8, _a;\n        if (propValues.length < filterValues.length) {\n            return false;\n        }\n        try {\n            for (var filterValues_2 = __values(filterValues), filterValues_2_1 = filterValues_2.next(); !filterValues_2_1.done; filterValues_2_1 = filterValues_2.next()) {\n                var filterValue = filterValues_2_1.value;\n                if (!this.matchesIs(filterValue, propValues)) {\n                    return false;\n                }\n            }\n        }\n        catch (e_8_1) { e_8 = { error: e_8_1 }; }\n        finally {\n            try {\n                if (filterValues_2_1 && !filterValues_2_1.done && (_a = filterValues_2.return)) _a.call(filterValues_2);\n            }\n            finally { if (e_8) throw e_8.error; }\n        }\n        return true;\n    };\n    EvaluationEngine.prototype.matchesSetContainsAny = function (propValues, filterValues) {\n        var e_9, _a;\n        try {\n            for (var filterValues_3 = __values(filterValues), filterValues_3_1 = filterValues_3.next(); !filterValues_3_1.done; filterValues_3_1 = filterValues_3.next()) {\n                var filterValue = filterValues_3_1.value;\n                if (this.matchesIs(filterValue, propValues)) {\n                    return true;\n                }\n            }\n        }\n        catch (e_9_1) { e_9 = { error: e_9_1 }; }\n        finally {\n            try {\n                if (filterValues_3_1 && !filterValues_3_1.done && (_a = filterValues_3.return)) _a.call(filterValues_3);\n            }\n            finally { if (e_9) throw e_9.error; }\n        }\n        return false;\n    };\n    return EvaluationEngine;\n}());\n\nvar topologicalSort = function (flags, flagKeys) {\n    var e_1, _a;\n    var available = __assign({}, flags);\n    var result = [];\n    var startingKeys = flagKeys || Object.keys(available);\n    try {\n        for (var startingKeys_1 = __values(startingKeys), startingKeys_1_1 = startingKeys_1.next(); !startingKeys_1_1.done; startingKeys_1_1 = startingKeys_1.next()) {\n            var flagKey = startingKeys_1_1.value;\n            var traversal = parentTraversal(flagKey, available);\n            if (traversal) {\n                result.push.apply(result, __spreadArray([], __read(traversal), false));\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (startingKeys_1_1 && !startingKeys_1_1.done && (_a = startingKeys_1.return)) _a.call(startingKeys_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return result;\n};\nvar parentTraversal = function (flagKey, available, path) {\n    var e_2, _a;\n    if (path === void 0) { path = []; }\n    var flag = available[flagKey];\n    if (!flag) {\n        return undefined;\n    }\n    else if (!flag.dependencies || flag.dependencies.length === 0) {\n        delete available[flag.key];\n        return [flag];\n    }\n    path.push(flag.key);\n    var result = [];\n    var _loop_1 = function (parentKey) {\n        if (path.some(function (p) { return p === parentKey; })) {\n            throw Error(\"Detected a cycle between flags \".concat(path));\n        }\n        var traversal = parentTraversal(parentKey, available, path);\n        if (traversal) {\n            result.push.apply(result, __spreadArray([], __read(traversal), false));\n        }\n    };\n    try {\n        for (var _b = __values(flag.dependencies), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var parentKey = _c.value;\n            _loop_1(parentKey);\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    result.push(flag);\n    path.pop();\n    delete available[flag.key];\n    return result;\n};\n\n/**\n *  base64.ts\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n *\n * @author Dan Kogai (https://github.com/dankogai)\n */\nconst version = '3.7.5';\n/**\n * @deprecated use lowercase `version`.\n */\nconst VERSION = version;\nconst _hasatob = typeof atob === 'function';\nconst _hasbtoa = typeof btoa === 'function';\nconst _hasBuffer = typeof Buffer === 'function';\nconst _TD = typeof TextDecoder === 'function' ? new TextDecoder() : undefined;\nconst _TE = typeof TextEncoder === 'function' ? new TextEncoder() : undefined;\nconst b64ch = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\nconst b64chs = Array.prototype.slice.call(b64ch);\nconst b64tab = (a => {\n  let tab = {};\n  a.forEach((c, i) => tab[c] = i);\n  return tab;\n})(b64chs);\nconst b64re = /^(?:[A-Za-z\\d+\\/]{4})*?(?:[A-Za-z\\d+\\/]{2}(?:==)?|[A-Za-z\\d+\\/]{3}=?)?$/;\nconst _fromCC = String.fromCharCode.bind(String);\nconst _U8Afrom = typeof Uint8Array.from === 'function' ? Uint8Array.from.bind(Uint8Array) : it => new Uint8Array(Array.prototype.slice.call(it, 0));\nconst _mkUriSafe = src => src.replace(/=/g, '').replace(/[+\\/]/g, m0 => m0 == '+' ? '-' : '_');\nconst _tidyB64 = s => s.replace(/[^A-Za-z0-9\\+\\/]/g, '');\n/**\n * polyfill version of `btoa`\n */\nconst btoaPolyfill = bin => {\n  // console.log('polyfilled');\n  let u32,\n    c0,\n    c1,\n    c2,\n    asc = '';\n  const pad = bin.length % 3;\n  for (let i = 0; i < bin.length;) {\n    if ((c0 = bin.charCodeAt(i++)) > 255 || (c1 = bin.charCodeAt(i++)) > 255 || (c2 = bin.charCodeAt(i++)) > 255) throw new TypeError('invalid character found');\n    u32 = c0 << 16 | c1 << 8 | c2;\n    asc += b64chs[u32 >> 18 & 63] + b64chs[u32 >> 12 & 63] + b64chs[u32 >> 6 & 63] + b64chs[u32 & 63];\n  }\n  return pad ? asc.slice(0, pad - 3) + \"===\".substring(pad) : asc;\n};\n/**\n * does what `window.btoa` of web browsers do.\n * @param {String} bin binary string\n * @returns {string} Base64-encoded string\n */\nconst _btoa = _hasbtoa ? bin => btoa(bin) : _hasBuffer ? bin => Buffer.from(bin, 'binary').toString('base64') : btoaPolyfill;\nconst _fromUint8Array = _hasBuffer ? u8a => Buffer.from(u8a).toString('base64') : u8a => {\n  // cf. https://stackoverflow.com/questions/12710001/how-to-convert-uint8-array-to-base64-encoded-string/12713326#12713326\n  const maxargs = 0x1000;\n  let strs = [];\n  for (let i = 0, l = u8a.length; i < l; i += maxargs) {\n    strs.push(_fromCC.apply(null, u8a.subarray(i, i + maxargs)));\n  }\n  return _btoa(strs.join(''));\n};\n/**\n * converts a Uint8Array to a Base64 string.\n * @param {boolean} [urlsafe] URL-and-filename-safe a la RFC4648 \u00A75\n * @returns {string} Base64 string\n */\nconst fromUint8Array = (u8a, urlsafe = false) => urlsafe ? _mkUriSafe(_fromUint8Array(u8a)) : _fromUint8Array(u8a);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const utob = (src: string) => unescape(encodeURIComponent(src));\n// reverting good old fationed regexp\nconst cb_utob = c => {\n  if (c.length < 2) {\n    var cc = c.charCodeAt(0);\n    return cc < 0x80 ? c : cc < 0x800 ? _fromCC(0xc0 | cc >>> 6) + _fromCC(0x80 | cc & 0x3f) : _fromCC(0xe0 | cc >>> 12 & 0x0f) + _fromCC(0x80 | cc >>> 6 & 0x3f) + _fromCC(0x80 | cc & 0x3f);\n  } else {\n    var cc = 0x10000 + (c.charCodeAt(0) - 0xD800) * 0x400 + (c.charCodeAt(1) - 0xDC00);\n    return _fromCC(0xf0 | cc >>> 18 & 0x07) + _fromCC(0x80 | cc >>> 12 & 0x3f) + _fromCC(0x80 | cc >>> 6 & 0x3f) + _fromCC(0x80 | cc & 0x3f);\n  }\n};\nconst re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-8 string\n * @returns {string} UTF-16 string\n */\nconst utob = u => u.replace(re_utob, cb_utob);\n//\nconst _encode = _hasBuffer ? s => Buffer.from(s, 'utf8').toString('base64') : _TE ? s => _fromUint8Array(_TE.encode(s)) : s => _btoa(utob(s));\n/**\n * converts a UTF-8-encoded string to a Base64 string.\n * @param {boolean} [urlsafe] if `true` make the result URL-safe\n * @returns {string} Base64 string\n */\nconst encode = (src, urlsafe = false) => urlsafe ? _mkUriSafe(_encode(src)) : _encode(src);\n/**\n * converts a UTF-8-encoded string to URL-safe Base64 RFC4648 \u00A75.\n * @returns {string} Base64 string\n */\nconst encodeURI = src => encode(src, true);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const btou = (src: string) => decodeURIComponent(escape(src));\n// reverting good old fationed regexp\nconst re_btou = /[\\xC0-\\xDF][\\x80-\\xBF]|[\\xE0-\\xEF][\\x80-\\xBF]{2}|[\\xF0-\\xF7][\\x80-\\xBF]{3}/g;\nconst cb_btou = cccc => {\n  switch (cccc.length) {\n    case 4:\n      var cp = (0x07 & cccc.charCodeAt(0)) << 18 | (0x3f & cccc.charCodeAt(1)) << 12 | (0x3f & cccc.charCodeAt(2)) << 6 | 0x3f & cccc.charCodeAt(3),\n        offset = cp - 0x10000;\n      return _fromCC((offset >>> 10) + 0xD800) + _fromCC((offset & 0x3FF) + 0xDC00);\n    case 3:\n      return _fromCC((0x0f & cccc.charCodeAt(0)) << 12 | (0x3f & cccc.charCodeAt(1)) << 6 | 0x3f & cccc.charCodeAt(2));\n    default:\n      return _fromCC((0x1f & cccc.charCodeAt(0)) << 6 | 0x3f & cccc.charCodeAt(1));\n  }\n};\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-16 string\n * @returns {string} UTF-8 string\n */\nconst btou = b => b.replace(re_btou, cb_btou);\n/**\n * polyfill version of `atob`\n */\nconst atobPolyfill = asc => {\n  // console.log('polyfilled');\n  asc = asc.replace(/\\s+/g, '');\n  if (!b64re.test(asc)) throw new TypeError('malformed base64.');\n  asc += '=='.slice(2 - (asc.length & 3));\n  let u24,\n    bin = '',\n    r1,\n    r2;\n  for (let i = 0; i < asc.length;) {\n    u24 = b64tab[asc.charAt(i++)] << 18 | b64tab[asc.charAt(i++)] << 12 | (r1 = b64tab[asc.charAt(i++)]) << 6 | (r2 = b64tab[asc.charAt(i++)]);\n    bin += r1 === 64 ? _fromCC(u24 >> 16 & 255) : r2 === 64 ? _fromCC(u24 >> 16 & 255, u24 >> 8 & 255) : _fromCC(u24 >> 16 & 255, u24 >> 8 & 255, u24 & 255);\n  }\n  return bin;\n};\n/**\n * does what `window.atob` of web browsers do.\n * @param {String} asc Base64-encoded string\n * @returns {string} binary string\n */\nconst _atob = _hasatob ? asc => atob(_tidyB64(asc)) : _hasBuffer ? asc => Buffer.from(asc, 'base64').toString('binary') : atobPolyfill;\n//\nconst _toUint8Array = _hasBuffer ? a => _U8Afrom(Buffer.from(a, 'base64')) : a => _U8Afrom(_atob(a).split('').map(c => c.charCodeAt(0)));\n/**\n * converts a Base64 string to a Uint8Array.\n */\nconst toUint8Array = a => _toUint8Array(_unURI(a));\n//\nconst _decode = _hasBuffer ? a => Buffer.from(a, 'base64').toString('utf8') : _TD ? a => _TD.decode(_toUint8Array(a)) : a => btou(_atob(a));\nconst _unURI = a => _tidyB64(a.replace(/[-_]/g, m0 => m0 == '-' ? '+' : '/'));\n/**\n * converts a Base64 string to a UTF-8 string.\n * @param {String} src Base64 string.  Both normal and URL-safe are supported\n * @returns {string} UTF-8 string\n */\nconst decode = src => _decode(_unURI(src));\n/**\n * check if a value is a valid Base64 string\n * @param {String} src a value to check\n  */\nconst isValid = src => {\n  if (typeof src !== 'string') return false;\n  const s = src.replace(/\\s+/g, '').replace(/={0,2}$/, '');\n  return !/[^\\s0-9a-zA-Z\\+/]/.test(s) || !/[^\\s0-9a-zA-Z\\-_]/.test(s);\n};\n//\nconst _noEnum = v => {\n  return {\n    value: v,\n    enumerable: false,\n    writable: true,\n    configurable: true\n  };\n};\n/**\n * extend String.prototype with relevant methods\n */\nconst extendString = function () {\n  const _add = (name, body) => Object.defineProperty(String.prototype, name, _noEnum(body));\n  _add('fromBase64', function () {\n    return decode(this);\n  });\n  _add('toBase64', function (urlsafe) {\n    return encode(this, urlsafe);\n  });\n  _add('toBase64URI', function () {\n    return encode(this, true);\n  });\n  _add('toBase64URL', function () {\n    return encode(this, true);\n  });\n  _add('toUint8Array', function () {\n    return toUint8Array(this);\n  });\n};\n/**\n * extend Uint8Array.prototype with relevant methods\n */\nconst extendUint8Array = function () {\n  const _add = (name, body) => Object.defineProperty(Uint8Array.prototype, name, _noEnum(body));\n  _add('toBase64', function (urlsafe) {\n    return fromUint8Array(this, urlsafe);\n  });\n  _add('toBase64URI', function () {\n    return fromUint8Array(this, true);\n  });\n  _add('toBase64URL', function () {\n    return fromUint8Array(this, true);\n  });\n};\n/**\n * extend Builtin prototypes with relevant methods\n */\nconst extendBuiltins = () => {\n  extendString();\n  extendUint8Array();\n};\nconst gBase64 = {\n  version: version,\n  VERSION: VERSION,\n  atob: _atob,\n  atobPolyfill: atobPolyfill,\n  btoa: _btoa,\n  btoaPolyfill: btoaPolyfill,\n  fromBase64: decode,\n  toBase64: encode,\n  encode: encode,\n  encodeURI: encodeURI,\n  encodeURL: encodeURI,\n  utob: utob,\n  btou: btou,\n  decode: decode,\n  isValid: isValid,\n  fromUint8Array: fromUint8Array,\n  toUint8Array: toUint8Array,\n  extendString: extendString,\n  extendUint8Array: extendUint8Array,\n  extendBuiltins: extendBuiltins\n};\n\nvar FetchError = /** @class */ (function (_super) {\n    __extends(FetchError, _super);\n    function FetchError(statusCode, message) {\n        var _this = _super.call(this, message) || this;\n        _this.statusCode = statusCode;\n        Object.setPrototypeOf(_this, FetchError.prototype);\n        return _this;\n    }\n    return FetchError;\n}(Error));\n\nvar SdkEvaluationApi = /** @class */ (function () {\n    function SdkEvaluationApi(deploymentKey, serverUrl, httpClient) {\n        this.deploymentKey = deploymentKey;\n        this.serverUrl = serverUrl;\n        this.httpClient = httpClient;\n    }\n    SdkEvaluationApi.prototype.getVariants = function (user, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var userJsonBase64, headers, url, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        userJsonBase64 = gBase64.encodeURL(JSON.stringify(user));\n                        headers = {\n                            Authorization: \"Api-Key \".concat(this.deploymentKey),\n                            'X-Amp-Exp-User': userJsonBase64,\n                        };\n                        if (options === null || options === void 0 ? void 0 : options.flagKeys) {\n                            headers['X-Amp-Exp-Flag-Keys'] = gBase64.encodeURL(JSON.stringify(options.flagKeys));\n                        }\n                        if (options === null || options === void 0 ? void 0 : options.trackingOption) {\n                            headers['X-Amp-Exp-Track'] = options.trackingOption;\n                        }\n                        url = new URL(\"\".concat(this.serverUrl, \"/sdk/v2/vardata?v=0\"));\n                        if (options === null || options === void 0 ? void 0 : options.evaluationMode) {\n                            url.searchParams.append('eval_mode', options === null || options === void 0 ? void 0 : options.evaluationMode);\n                        }\n                        if (options === null || options === void 0 ? void 0 : options.deliveryMethod) {\n                            url.searchParams.append('delivery_method', options === null || options === void 0 ? void 0 : options.deliveryMethod);\n                        }\n                        return [4 /*yield*/, this.httpClient.request({\n                                requestUrl: url.toString(),\n                                method: 'GET',\n                                headers: headers,\n                                timeoutMillis: options === null || options === void 0 ? void 0 : options.timeoutMillis,\n                            })];\n                    case 1:\n                        response = _a.sent();\n                        if (response.status != 200) {\n                            throw new FetchError(response.status, \"Fetch error response: status=\".concat(response.status));\n                        }\n                        return [2 /*return*/, JSON.parse(response.body)];\n                }\n            });\n        });\n    };\n    return SdkEvaluationApi;\n}());\n\nvar SdkFlagApi = /** @class */ (function () {\n    function SdkFlagApi(deploymentKey, serverUrl, httpClient) {\n        this.deploymentKey = deploymentKey;\n        this.serverUrl = serverUrl;\n        this.httpClient = httpClient;\n    }\n    SdkFlagApi.prototype.getFlags = function (options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var headers, response, flagsArray;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        headers = {\n                            Authorization: \"Api-Key \".concat(this.deploymentKey),\n                        };\n                        if ((options === null || options === void 0 ? void 0 : options.libraryName) && (options === null || options === void 0 ? void 0 : options.libraryVersion)) {\n                            headers['X-Amp-Exp-Library'] = \"\".concat(options.libraryName, \"/\").concat(options.libraryVersion);\n                        }\n                        return [4 /*yield*/, this.httpClient.request({\n                                requestUrl: \"\".concat(this.serverUrl, \"/sdk/v2/flags\"),\n                                method: 'GET',\n                                headers: headers,\n                                timeoutMillis: options === null || options === void 0 ? void 0 : options.timeoutMillis,\n                            })];\n                    case 1:\n                        response = _a.sent();\n                        if (response.status != 200) {\n                            throw Error(\"Flags error response: status=\".concat(response.status));\n                        }\n                        flagsArray = JSON.parse(response.body);\n                        return [2 /*return*/, flagsArray.reduce(function (map, flag) {\n                                map[flag.key] = flag;\n                                return map;\n                            }, {})];\n                }\n            });\n        });\n    };\n    return SdkFlagApi;\n}());\n\nvar safeGlobal = typeof globalThis !== 'undefined' ? globalThis : global || self;\n\nvar Poller = /** @class */ (function () {\n    function Poller(action, ms) {\n        this.poller = undefined;\n        this.action = action;\n        this.ms = ms;\n    }\n    Poller.prototype.start = function () {\n        if (this.poller) {\n            return;\n        }\n        this.poller = safeGlobal.setInterval(this.action, this.ms);\n        void this.action();\n    };\n    Poller.prototype.stop = function () {\n        if (!this.poller) {\n            return;\n        }\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        safeGlobal.clearInterval(this.poller);\n        this.poller = undefined;\n    };\n    return Poller;\n}());\n\nexport { EvaluationEngine, EvaluationOperator, FetchError, Poller, SdkEvaluationApi, SdkFlagApi, safeGlobal, topologicalSort };\n", "// -- Text/Code Fuctions\n// Wrap Letters\nexport const wrapLetters = (element) => {\n  const processNode = (node) => {\n    if (node.nodeType === Node.TEXT_NODE) {\n      // Check if the parent node has the \"letter\" class\n      if (!node.parentNode.classList.contains('letter')) {\n        const codeText = node.textContent;\n        const fragment = document.createDocumentFragment();\n\n        for (let i = 0; i < codeText.length; i++) {\n          const span = document.createElement('span');\n          span.className = 'letter';\n          span.textContent = codeText[i];\n          fragment.appendChild(span);\n        }\n\n        node.parentNode.replaceChild(fragment, node);\n      }\n    } else if (node.nodeType === Node.ELEMENT_NODE) {\n      if (node.tagName !== 'BR') {\n        const childNodes = Array.from(node.childNodes);\n        childNodes.forEach(processNode);\n      }\n    }\n  };\n\n  $(element)\n    .contents()\n    .each(function () {\n      processNode(this);\n    });\n};\n\nconst revealLetters = (elements, letterDelay) => {\n  const codeTimeline = gsap.timeline(); // create a single timeline for all elements and letters\n\n  let globalLetterIndex = 0; // initialize a global letter index\n  // Iterate over each element passed\n  $(elements).each((elementIndex, element) => {\n    const letters = $(element).find('.letter').not('.line-numbers-row .code-letter');\n    const highlights = $(element).find('.word-highlight');\n\n    // Animate each letter in the current element\n    letters.each((letterIndex, letter) => {\n      codeTimeline.fromTo(\n        letter,\n        { visibility: 'hidden' },\n        { visibility: 'initial' },\n        globalLetterIndex * letterDelay,\n        '<'\n      );\n      globalLetterIndex++; // increment the global letter index\n    });\n    if (highlights.length) {\n      const firstHighlight = highlights[0];\n      const currentBgColor = window\n        .getComputedStyle(firstHighlight)\n        .getPropertyValue('background-color');\n      const currentBoxShadow = window\n        .getComputedStyle(firstHighlight)\n        .getPropertyValue('box-shadow');\n\n      const hexToRGBA = (hex, alpha) => {\n        const [r, g, b] = hex.match(/\\w\\w/g).map((x) => parseInt(x, 16));\n        return `rgba(${r}, ${g}, ${b}, ${alpha})`;\n      };\n\n      const rgbaToTransparent = (rgba) => {\n        const rgbaArray = rgba\n          .replace(/^rgba?\\(/, '')\n          .replace(/\\)$/, '')\n          .split(',');\n        return `rgba(${rgbaArray[0]}, ${rgbaArray[1]}, ${rgbaArray[2]}, 0)`;\n      };\n\n      const isHex = (color) => /^#(?:[0-9a-f]{3}){1,2}$/i.test(color);\n\n      const initialBackgroundColor = isHex(currentBgColor)\n        ? hexToRGBA(currentBgColor, 0)\n        : rgbaToTransparent(currentBgColor);\n\n      const initialBoxShadow = currentBoxShadow.replace(/rgba?\\([^)]+\\)/g, (match) => {\n        return isHex(match) ? hexToRGBA(match, 0) : rgbaToTransparent(match);\n      });\n\n      Array.from(highlights).forEach((element) => {\n        element.style.backgroundColor = initialBackgroundColor;\n        element.style.boxShadow = initialBoxShadow;\n      });\n\n      codeTimeline.to(\n        highlights,\n        {\n          backgroundColor: currentBgColor,\n          boxShadow: currentBoxShadow,\n          duration: 0.35,\n        },\n        '<'\n      );\n    }\n  });\n  return codeTimeline;\n};\n\n// --- Text Animations\n// Letter Animation\nexport const letterAnimation = (elements, letterType) => {\n  let letterDelay;\n  if (letterType === 'label') {\n    letterDelay = 0.03;\n  } else if (letterType === 'heading') {\n    letterDelay = 0.01;\n  } else if (typeof letterType === 'number') {\n    letterDelay = letterType;\n  } else {\n    letterDelay = 0.01;\n  }\n  wrapLetters(elements);\n  return revealLetters(elements, letterDelay);\n};\n\n// CodeAnimation\nexport const codeAnimation = (className) => {\n  const codeBlock = $(className).find('code');\n  const lineNumbers = codeBlock.find('.line-numbers-rows').eq(0).clone();\n  codeBlock.find('.line-numbers-rows').remove();\n  wrapLetters(codeBlock);\n  codeBlock.prepend(lineNumbers);\n  return revealLetters(codeBlock, 0.01);\n};\n\n// Typewrite\nexport const typeText = (element, text) => {\n  const codeTimeline = gsap.timeline(); // create a child timeline based on the defaults\n  codeTimeline.to(\n    element,\n    {\n      text: { value: text, ease: 'none', speed: 1 },\n    },\n    '<'\n  );\n  return codeTimeline;\n};\n\n// Code Files Change\nexport const codeFile = (element, index) => {\n  let tl = gsap.timeline();\n\n  let text = index === 0 ? 'PY' : '&#x1F525';\n  tl.set(element, { text: text });\n  return tl;\n};\n\n// ---- Graphs\n// Animate Stats\nconst animateCounter = ($element) => {\n  $($element).each(function () {\n    const Cont = { val: 0 };\n    const originalText = $(this).text();\n    const targetValue = parseFloat(originalText);\n    const isOriginalHalf = originalText % 1 >= 0.5 && originalText % 1 < 1;\n\n    if (!isNaN(targetValue)) {\n      // Hide the element before the animation starts\n      $(this).css('visibility', 'hidden');\n      const onUpdate = () => {\n        let formattedValue;\n\n        if (Math.abs(targetValue - Cont.val) <= 0.01) {\n          formattedValue = targetValue % 1 === 0 ? targetValue.toFixed(0) : targetValue.toFixed(2);\n        } else if (Cont.val >= 1) {\n          formattedValue = Math.floor(Cont.val).toFixed(0);\n        } else {\n          formattedValue = Cont.val.toFixed(2);\n        }\n\n        $(this).text(formattedValue);\n      };\n\n      TweenLite.to(Cont, 1, {\n        val: targetValue,\n        onUpdate: onUpdate,\n        onStart: () => $(this).css('visibility', 'visible'),\n      });\n    } else {\n      return;\n    }\n  });\n};\n// Animate Graph Head\nconst graphHeadAnimation = (graphClassPrefix) => {\n  const masterTimeline = gsap.timeline();\n  masterTimeline\n    .add(letterAnimation(`.graph${graphClassPrefix}_head .text-size-metadata`), 'label')\n    .add(() => animateCounter(`.graph${graphClassPrefix}_head .graph-number`), '<');\n\n  return masterTimeline;\n};\n\n// Graphs Inner Animations\nconst animateGraphRow = (targets, graphClassPrefix) => {\n  const masterTimeline = gsap.timeline();\n\n  $(targets).each(function (index) {\n    let row = $(this).find(`.graph${graphClassPrefix}_box`);\n    let label = $(this).find(`.graph${graphClassPrefix}_label div`);\n    let number = $(this).find(`.graph${graphClassPrefix}_row-num div`);\n\n    const codeTimeline = gsap.timeline();\n\n    codeTimeline\n      .from(row, { scaleX: 0, duration: 1 })\n      // Show the number element and call animateCounter\n      .add(() => {\n        animateCounter(number);\n      }, '<')\n      .add(letterAnimation(label, 'label'));\n\n    // Stagger animations using the add() method\n    masterTimeline.add(codeTimeline, index * 0.2);\n  });\n\n  return masterTimeline;\n};\n\nconst animateGraphChart = (target) => {\n  let tl = gsap.timeline();\n\n  tl.fromTo(\n    target,\n    {\n      scaleY: 0,\n    },\n    { scaleY: 1, duration: 1 },\n    '<'\n  );\n};\n\n// Graph Types Animations\nexport const animateHorizontalGraph = (target, graphType, trigger) => {\n  let triggerElement = $(trigger);\n  let tl = gsap.timeline({\n    ease: Power2.easeOut,\n    paused: true,\n    scrollTrigger: {\n      trigger: triggerElement,\n      start: '70% bottom',\n      onEnter: () => {\n        // Play the timeline when the trigger element enters the viewport\n        tl.play();\n      },\n    },\n  });\n  tl.add(graphHeadAnimation(graphType));\n  tl.add(animateGraphRow(target, graphType), '<');\n\n  return tl;\n};\n\nexport const animateChartGraph = (target, graphType, trigger) => {\n  let triggerElement = $(trigger);\n  let tl = gsap.timeline({\n    ease: Power2.easeOut,\n    paused: true,\n    scrollTrigger: {\n      trigger: triggerElement,\n      start: '70% bottom',\n      onEnter: () => {\n        // Play the timeline when the trigger element enters the viewport\n        tl.play();\n      },\n    },\n  });\n\n  let labels = $(target).find('.text-size-label');\n  let labelDot = $(trigger).find('.graphd_legend-dot');\n  let chart = $(target).find('.graph-charts');\n\n  tl.add(graphHeadAnimation(graphType));\n  tl.add(letterAnimation(labels, 'label'), '<')\n    .add(animateGraphChart(chart), '<')\n    .fromTo(labelDot, { scale: 0.5, opacity: 0 }, { scale: 1, opacity: 1 }, '<');\n\n  return tl;\n};\n\nexport const animateBoxGraph = (target, graphType, trigger) => {\n  let triggerElement = $(trigger);\n  let tl = gsap.timeline({\n    ease: Power2.easeOut,\n    paused: true,\n    scrollTrigger: {\n      trigger: triggerElement,\n      start: '70% bottom',\n      onEnter: () => {\n        // Play the timeline when the trigger element enters the viewport\n        tl.play();\n      },\n    },\n  });\n\n  let labels = $(target).find('.text-size-label');\n  let box = $(target).find('.graphc_item');\n  tl.add(graphHeadAnimation(graphType));\n  tl.fromTo(\n    box,\n    {\n      scale: 0,\n      opacity: 0,\n    },\n    {\n      scale: 1,\n      opacity: 1,\n      stagger: 0.2,\n    }\n  ).add(letterAnimation(labels, 'label'));\n\n  return tl;\n};\n", "export function SniffEmailForAmplitude() {\n  const interval = setInterval(() => {\n    const inputs = document.querySelectorAll('input[type=email]');\n    if (inputs.length) {\n      sniffEmail(inputs);\n      clearInterval(interval);\n    }\n  }, 1000);\n}\n\nlet lastFire = '';\nfunction sniffEmail(inputs) {\n  for (let input of inputs) {\n    if (input.classList.contains('emailCheck')) {\n      continue;\n    }\n    let formParent = input.parentElement;\n    while (formParent && formParent.nodeName !== 'FORM' && formParent.nodeName !== 'BODY') {\n      formParent = formParent.parentElement;\n    }\n    const { formId } = formParent.dataset;\n\n    const debouncedAmpCall = debounce((input, formId) => {\n      if (!isValid(input)) {\n        return;\n      }\n      lastFire = input.value;\n      amplitude.track('emailInput', { email: input.value, formId });\n    }, 3000);\n    input.addEventListener('input', (ev) => {\n      if (ev.target.value === lastFire) {\n        return;\n      }\n      if (isValid(ev.target)) {\n        debouncedAmpCall(ev.target, formId);\n      }\n    });\n    input.classList.add('emailCheck');\n  }\n}\n\nfunction isValid(el) {\n  return el.checkValidity() && !el.classList.contains('error') && el.value !== '';\n}\n\nconst debounce = (callback, wait) => {\n  let timeoutId = null;\n  return (...args) => {\n    window.clearTimeout(timeoutId);\n    timeoutId = window.setTimeout(() => {\n      callback(...args);\n    }, wait);\n  };\n};\n", "// Sets up a carousel given tabs, card, and some functions to run on leave and enter.\n// Only starts the carousel when the first tab scrolls into view.\nexport function tabCarousel({ tabs, cards, onCardLeave, onTabLeave, onCardShow, onTabShow }) {\n  if (tabs.length !== cards.length) {\n    throw new Error(`Cards length: ${cards.length} did not match tabs length: ${tabs.length}`);\n  }\n\n  let hasManuallyClicked = false;\n  let curIdx = 0;\n\n  async function showCard(curIdx) {\n    const prevCardIdx = curIdx === 0 ? cards.length - 1 : curIdx - 1;\n\n    await Promise.all([onCardLeave(cards.eq(prevCardIdx)), onTabLeave(tabs.eq(prevCardIdx))]);\n\n    // Wait until the previous card and tab are hidden before moving to the next one.\n    await Promise.all([onCardShow(cards.eq(curIdx)), onTabShow(tabs.eq(curIdx))]);\n  }\n\n  async function startAnimation() {\n    while (!hasManuallyClicked) {\n      await showCard(curIdx);\n      curIdx += 1;\n      if (curIdx === cards.length) {\n        curIdx = 0;\n      }\n    }\n  }\n\n  tabs.each((idx, tabEl) => {\n    tabEl.onclick = () => {\n      // Don't wait for promises to resolve, do everything simultaneously.\n      onCardLeave(cards.eq(curIdx));\n      onTabLeave(tabs.eq(curIdx));\n      onCardShow(cards.eq(idx));\n      onTabShow(tabs.eq(idx));\n      hasManuallyClicked = true;\n      curIdx = idx;\n    };\n  });\n\n  // Wait for scroll into view before you show the animation\n  const intersectionObserver = new IntersectionObserver(\n    (entries) => {\n      if (entries[0].intersectionRatio <= 0) return;\n      startAnimation();\n      intersectionObserver.unobserve(tabs[0]);\n    },\n    { threshold: 1.0 }\n  );\n  intersectionObserver.observe(tabs[0]);\n}\n\n// Uses swiper to make a carousel. Used as the mobile version of the carousel.\nexport function swiperCarousel({ animateOnSlide, sliderSelector, onInit, duration }) {\n  function handleSwiperSlide({ activeIndex, slides }) {\n    if (slides.length === 0) {\n      return;\n    }\n    animateOnSlide($(slides[activeIndex]));\n  }\n\n  new Swiper(sliderSelector, {\n    slidesPerView: 1,\n    spaceBetween: 24,\n    speed: 250,\n    autoplay: {\n      delay: duration,\n    },\n    observer: true,\n    on: {\n      init: (swiperInstance) => {\n        onInit();\n        handleSwiperSlide(swiperInstance);\n      },\n      transitionEnd: (swiperInstance) => {\n        handleSwiperSlide(swiperInstance);\n      },\n    },\n    pagination: {\n      el: '.swiper-navigation',\n      type: 'bullets',\n      clickable: true,\n      bulletActiveClass: 'w-active',\n      bulletClass: 'w-slider-dot',\n    },\n  });\n}\n", "export async function wait(ms = 15) {\n  await new Promise((resolve) =>\n    setTimeout(\n      () =>\n        requestAnimationFrame(() => {\n          resolve();\n        }),\n      ms\n    )\n  );\n}\n\n/**\n * Checks every 15ms for a condition, up to a default of 1000 times, or 15s.\n */\nexport async function waitUntil(condition, maxChecks = 1000) {\n  let timesChecked = 0;\n  while (!condition() && timesChecked < maxChecks) {\n    timesChecked = timesChecked + 1;\n    await wait();\n  }\n}\n"],
  "mappings": "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",
  "names": ["window", "undefined", "VERSION", "regexes", "version", "UAParser", "ua", "$", "ApplicationContextProviderImpl", "EventBridgeImpl", "__assign", "IdentityStoreImpl", "self", "AnalyticsConnector", "d", "b", "__assign", "SemanticVersion", "version", "EvaluationEngine", "__assign", "parentKey", "FetchError", "SdkEvaluationApi", "SdkFlagApi", "safeGlobal", "Poller", "AmplitudeUserProvider", "AmplitudeAnalyticsProvider", "__assign", "__awaiter", "__generator", "__values", "__read", "__spreadArray", "e", "n", "t", "fetch", "safeGlobal", "__awaiter", "__generator", "WrapperClient", "Source", "VariantSource", "version", "ConnectorUserProvider", "ConnectorExposureTrackingProvider", "DefaultUserProvider", "__assign", "LocalStorage", "LoadStoreCache", "__values", "Backoff", "_a", "SessionAnalyticsProvider", "SessionExposureTrackingProvider", "ExperimentClient", "key", "__spreadArray", "__read", "StubExperimentClient", "element", "input", "formId", "isValid", "wait", "curIdx", "copyTextToClipboard", "navReveal", "cardAnimation"]
}
