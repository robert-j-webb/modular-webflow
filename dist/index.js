"use strict";(()=>{var sr=Object.create;var rt=Object.defineProperty;var lr=Object.getOwnPropertyDescriptor;var ur=Object.getOwnPropertyNames;var cr=Object.getPrototypeOf,fr=Object.prototype.hasOwnProperty;var dr=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var hr=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of ur(e))!fr.call(r,n)&&n!==t&&rt(r,n,{get:()=>e[n],enumerable:!(i=lr(e,n))||i.enumerable});return r};var vr=(r,e,t)=>(t=r!=null?sr(cr(r)):{},hr(e||!r||!r.__esModule?rt(t,"default",{value:r,enumerable:!0}):t,r));var Ut=dr((me,Oe)=>{(function(r,e){"use strict";var t="0.7.33",i="",n="?",a="function",o="undefined",l="object",d="string",u="major",s="model",c="name",f="type",h="vendor",v="version",w="architecture",b="console",m="mobile",g="tablet",C="smarttv",F="wearable",V="embedded",q=350,G="Amazon",D="Apple",ae="ASUS",oe="BlackBerry",Y="Browser",ge="Chrome",ir="Edge",p="Firefox",A="Google",I="Huawei",z="LG",E="Microsoft",Q="Motorola",se="Opera",re="Samsung",Ke="Sharp",be="Sony",Pe="Xiaomi",Re="Zebra",Xe="Facebook",nr=function(S,T){var x={};for(var O in S)T[O]&&T[O].length%2===0?x[O]=T[O].concat(S[O]):x[O]=S[O];return x},we=function(S){for(var T={},x=0;x<S.length;x++)T[S[x].toUpperCase()]=S[x];return T},Je=function(S,T){return typeof S===d?fe(T).indexOf(fe(S))!==-1:!1},fe=function(S){return S.toLowerCase()},ar=function(S){return typeof S===d?S.replace(/[^\d\.]/g,i).split(".")[0]:e},Ue=function(S,T){if(typeof S===d)return S=S.replace(/^\s\s*/,i),typeof T===o?S:S.substring(0,q)},de=function(S,T){for(var x=0,O,_,xe,N,he,K;x<T.length&&!he;){var et=T[x],tt=T[x+1];for(O=_=0;O<et.length&&!he;)if(he=et[O++].exec(S),he)for(xe=0;xe<tt.length;xe++)K=he[++_],N=tt[xe],typeof N===l&&N.length>0?N.length===2?typeof N[1]==a?this[N[0]]=N[1].call(this,K):this[N[0]]=N[1]:N.length===3?typeof N[1]===a&&!(N[1].exec&&N[1].test)?this[N[0]]=K?N[1].call(this,K,N[2]):e:this[N[0]]=K?K.replace(N[1],N[2]):e:N.length===4&&(this[N[0]]=K?N[3].call(this,K.replace(N[1],N[2])):e):this[N]=K||e;x+=2}},Le=function(S,T){for(var x in T)if(typeof T[x]===l&&T[x].length>0){for(var O=0;O<T[x].length;O++)if(Je(T[x][O],S))return x===n?e:x}else if(Je(T[x],S))return x===n?e:x;return S},or={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ye={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ze={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[c,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[c,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[c,v],[/opios[\/ ]+([\w\.]+)/i],[v,[c,se+" Mini"]],[/\bopr\/([\w\.]+)/i],[v,[c,se]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[c,v],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[c,"UC"+Y]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[v,[c,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[v,[c,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[c,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[c,"IE"]],[/yabrowser\/([\w\.]+)/i],[v,[c,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[c,/(.+)/,"$1 Secure "+Y],v],[/\bfocus\/([\w\.]+)/i],[v,[c,p+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[c,se+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[c,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[c,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[c,se+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[c,"MIUI "+Y]],[/fxios\/([-\w\.]+)/i],[v,[c,p]],[/\bqihu|(qi?ho?o?|360)browser/i],[[c,"360 "+Y]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[c,/(.+)/,"$1 "+Y],v],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[c,v],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[c],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[c,Xe],v],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[c,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[c,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[c,ge+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[c,ge+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[c,"Android "+Y]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[c,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[c,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,c],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[c,[v,Le,or]],[/(webkit|khtml)\/([\w\.]+)/i],[c,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[c,"Netscape"],v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[c,p+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[c,v],[/(cobalt)\/([\w\.]+)/i],[c,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[w,"amd64"]],[/(ia32(?=;))/i],[[w,fe]],[/((?:i[346]|x)86)[;\)]/i],[[w,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[w,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[w,"armhf"]],[/windows (ce|mobile); ppc;/i],[[w,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[w,/ower/,i,fe]],[/(sun4\w)[;\)]/i],[[w,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[w,fe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[s,[h,re],[f,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[s,[h,re],[f,m]],[/((ipod|iphone)\d+,\d+)/i],[s,[h,D],[f,m]],[/(ipad\d+,\d+)/i],[s,[h,D],[f,g]],[/\((ip(?:hone|od)[\w ]*);/i],[s,[h,D],[f,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[s,[h,D],[f,g]],[/(macintosh);/i],[s,[h,D]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[s,[h,I],[f,g]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[s,[h,I],[f,m]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[s,/_/g," "],[h,Pe],[f,m]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[s,/_/g," "],[h,Pe],[f,g]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[s,[h,"OPPO"],[f,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[s,[h,"Vivo"],[f,m]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[s,[h,"Realme"],[f,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[s,[h,Q],[f,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[s,[h,Q],[f,g]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[s,[h,z],[f,g]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[s,[h,z],[f,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[s,[h,"Lenovo"],[f,g]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[s,/_/g," "],[h,"Nokia"],[f,m]],[/(pixel c)\b/i],[s,[h,A],[f,g]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[s,[h,A],[f,m]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[s,[h,be],[f,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[s,"Xperia Tablet"],[h,be],[f,g]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[s,[h,"OnePlus"],[f,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[s,[h,G],[f,g]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[s,/(.+)/g,"Fire Phone $1"],[h,G],[f,m]],[/(playbook);[-\w\),; ]+(rim)/i],[s,h,[f,g]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[s,[h,oe],[f,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[s,[h,ae],[f,g]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[s,[h,ae],[f,m]],[/(nexus 9)/i],[s,[h,"HTC"],[f,g]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[s,/_/g," "],[f,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[s,[h,"Acer"],[f,g]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[s,[h,"Meizu"],[f,m]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[s,[h,Ke],[f,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,s,[f,m]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,s,[f,g]],[/(surface duo)/i],[s,[h,E],[f,g]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[s,[h,"Fairphone"],[f,m]],[/(u304aa)/i],[s,[h,"AT&T"],[f,m]],[/\bsie-(\w*)/i],[s,[h,"Siemens"],[f,m]],[/\b(rct\w+) b/i],[s,[h,"RCA"],[f,g]],[/\b(venue[\d ]{2,7}) b/i],[s,[h,"Dell"],[f,g]],[/\b(q(?:mv|ta)\w+) b/i],[s,[h,"Verizon"],[f,g]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[s,[h,"Barnes & Noble"],[f,g]],[/\b(tm\d{3}\w+) b/i],[s,[h,"NuVision"],[f,g]],[/\b(k88) b/i],[s,[h,"ZTE"],[f,g]],[/\b(nx\d{3}j) b/i],[s,[h,"ZTE"],[f,m]],[/\b(gen\d{3}) b.+49h/i],[s,[h,"Swiss"],[f,m]],[/\b(zur\d{3}) b/i],[s,[h,"Swiss"],[f,g]],[/\b((zeki)?tb.*\b) b/i],[s,[h,"Zeki"],[f,g]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],s,[f,g]],[/\b(ns-?\w{0,9}) b/i],[s,[h,"Insignia"],[f,g]],[/\b((nxa|next)-?\w{0,9}) b/i],[s,[h,"NextBook"],[f,g]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],s,[f,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],s,[f,m]],[/\b(ph-1) /i],[s,[h,"Essential"],[f,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[s,[h,"Envizen"],[f,g]],[/\b(trio[-\w\. ]+) b/i],[s,[h,"MachSpeed"],[f,g]],[/\btu_(1491) b/i],[s,[h,"Rotor"],[f,g]],[/(shield[\w ]+) b/i],[s,[h,"Nvidia"],[f,g]],[/(sprint) (\w+)/i],[h,s,[f,m]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[h,E],[f,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[s,[h,Re],[f,g]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[s,[h,Re],[f,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,s,[f,b]],[/droid.+; (shield) bui/i],[s,[h,"Nvidia"],[f,b]],[/(playstation [345portablevi]+)/i],[s,[h,be],[f,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[s,[h,E],[f,b]],[/smart-tv.+(samsung)/i],[h,[f,C]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[h,re],[f,C]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,z],[f,C]],[/(apple) ?tv/i],[h,[s,D+" TV"],[f,C]],[/crkey/i],[[s,ge+"cast"],[h,A],[f,C]],[/droid.+aft(\w)( bui|\))/i],[s,[h,G],[f,C]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[s,[h,Ke],[f,C]],[/(bravia[\w ]+)( bui|\))/i],[s,[h,be],[f,C]],[/(mitv-\w{5}) bui/i],[s,[h,Pe],[f,C]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,Ue],[s,Ue],[f,C]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,C]],[/((pebble))app/i],[h,s,[f,F]],[/droid.+; (glass) \d/i],[s,[h,A],[f,F]],[/droid.+; (wt63?0{2,3})\)/i],[s,[h,Re],[f,F]],[/(quest( 2)?)/i],[s,[h,Xe],[f,F]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[f,V]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[s,[f,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[s,[f,g]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,g]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,m]],[/(android[-\w\. ]{0,9});.+buil/i],[s,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[c,ir+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[c,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,v],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[c,[v,Le,Ye]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[c,"Windows"],[v,Le,Ye]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[c,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[c,"Mac OS"],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[c,v],[/\(bb(10);/i],[v,[c,oe]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[c,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[c,p+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[c,"webOS"]],[/crkey\/([\d\.]+)/i],[v,[c,ge+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[c,"Chromium OS"],v],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[c,v],[/(sunos) ?([\w\.\d]*)/i],[[c,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[c,v]]},H=function(S,T){if(typeof S===l&&(T=S,S=e),!(this instanceof H))return new H(S,T).getResult();var x=S||(typeof r!==o&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:i),O=T?nr(Ze,T):Ze;return this.getBrowser=function(){var _={};return _[c]=e,_[v]=e,de.call(_,x,O.browser),_.major=ar(_.version),_},this.getCPU=function(){var _={};return _[w]=e,de.call(_,x,O.cpu),_},this.getDevice=function(){var _={};return _[h]=e,_[s]=e,_[f]=e,de.call(_,x,O.device),_},this.getEngine=function(){var _={};return _[c]=e,_[v]=e,de.call(_,x,O.engine),_},this.getOS=function(){var _={};return _[c]=e,_[v]=e,de.call(_,x,O.os),_},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return x},this.setUA=function(_){return x=typeof _===d&&_.length>q?Ue(_,q):_,this},this.setUA(x),this};H.VERSION=t,H.BROWSER=we([c,v,u]),H.CPU=we([w]),H.DEVICE=we([s,h,f,b,m,C,g,F,V]),H.ENGINE=H.OS=we([c,v]),typeof me!==o?(typeof Oe!==o&&Oe.exports&&(me=Oe.exports=H),me.UAParser=H):typeof define===a&&define.amd?define(function(){return H}):typeof r!==o&&(r.UAParser=H);var le=typeof r!==o&&(r.jQuery||r.Zepto);if(le&&!le.ua){var Se=new H;le.ua=Se.getResult(),le.ua.get=function(){return Se.getUA()},le.ua.set=function(S){Se.setUA(S);var T=Se.getResult();for(var x in T)le.ua[x]=T[x]}}})(typeof window=="object"?window:me)});var Me=function(r,e){return Me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},Me(r,e)};function ut(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Me(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Z=function(){return Z=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Z.apply(this,arguments)};function ct(r,e,t,i){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(s){try{u(i.next(s))}catch(c){o(c)}}function d(s){try{u(i.throw(s))}catch(c){o(c)}}function u(s){s.done?a(s.value):n(s.value).then(l,d)}u((i=i.apply(r,e||[])).next())})}function ft(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,n,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(s){return d([u,s])}}function d(u){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(i=1,n&&(a=u[0]&2?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(s){u=[6,s],n=0}finally{i=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function j(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Be(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,a=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a}function qe(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return r.concat(a||Array.prototype.slice.call(e))}var y={IS:"is",IS_NOT:"is not",CONTAINS:"contains",DOES_NOT_CONTAIN:"does not contain",LESS_THAN:"less",LESS_THAN_EQUALS:"less or equal",GREATER_THAN:"greater",GREATER_THAN_EQUALS:"greater or equal",VERSION_LESS_THAN:"version less",VERSION_LESS_THAN_EQUALS:"version less or equal",VERSION_GREATER_THAN:"version greater",VERSION_GREATER_THAN_EQUALS:"version greater or equal",SET_IS:"set is",SET_IS_NOT:"set is not",SET_CONTAINS:"set contains",SET_DOES_NOT_CONTAIN:"set does not contain",SET_CONTAINS_ANY:"set contains any",SET_DOES_NOT_CONTAIN_ANY:"set does not contain any",REGEX_MATCH:"regex match",REGEX_DOES_NOT_MATCH:"regex does not match"},pr=function(r){for(var e=[],t=0,i=0;i<r.length;i++){var n=r.charCodeAt(i);n<128?e[t++]=n:n<2048?(e[t++]=n>>6|192,e[t++]=n&63|128):(n&64512)==55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)==56320?(n=65536+((n&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=n>>18|240,e[t++]=n>>12&63|128,e[t++]=n>>6&63|128,e[t++]=n&63|128):(e[t++]=n>>12|224,e[t++]=n>>6&63|128,e[t++]=n&63|128)}return Uint8Array.from(e)},_e=-862048943,Ae=461845907,Te=15,yr=13,mr=5,gr=-430675100,br=function(r,e){e===void 0&&(e=0);for(var t=pr(r),i=t.length,n=i>>2,a=e,o=0;o<n;o++){var l=o<<2,d=xr(t,l);a=wr(d,a)}var u=n<<2,s=0;switch(i-u){case 3:s^=t[u+2]<<16,s^=t[u+1]<<8,s^=t[u],s=Math.imul(s,_e),s=pe(s,Te),s=Math.imul(s,Ae),a^=s;break;case 2:s^=t[u+1]<<8,s^=t[u],s=Math.imul(s,_e),s=pe(s,Te),s=Math.imul(s,Ae),a^=s;break;case 1:s^=t[u],s=Math.imul(s,_e),s=pe(s,Te),s=Math.imul(s,Ae),a^=s;break}return a^=i,Sr(a)>>>0},wr=function(r,e){var t=r,i=e;return t=Math.imul(t,_e),t=pe(t,Te),t=Math.imul(t,Ae),i^=t,i=pe(i,yr),i=Math.imul(i,mr),i+gr|0},Sr=function(r){var e=r;return e^=e>>>16,e=Math.imul(e,-2048144789),e^=e>>>13,e=Math.imul(e,-1028477387),e^=e>>>16,e},pe=function(r,e,t){t===void 0&&(t=32),e>t&&(e=e%t);var i=4294967295<<t-e>>>0,n=(r&i)>>>0>>>t-e>>>0;return(r<<e|n)>>>0},xr=function(r,e){e===void 0&&(e=0);var t=r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3];return Er(t)},Er=function(r){return(r&-16777216)>>>24|(r&16711680)>>>8|(r&65280)<<8|(r&255)<<24},it=function(r,e){var t,i;if(!(!e||e.length===0)){try{for(var n=j(e),a=n.next();!a.done;a=n.next()){var o=a.value;if(!o||!r||typeof r!="object")return;r=r[o]}}catch(l){t={error:l}}finally{try{a&&!a.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}if(r)return r}},_r="(\\d+)\\.(\\d+)",Ar="(\\d+)",Tr="(-(([-\\w]+\\.?)*))?",kr="^".concat(_r,"(\\.").concat(Ar).concat(Tr,")?$"),Ir=function(){function r(e,t,i,n){n===void 0&&(n=void 0),this.major=e,this.minor=t,this.patch=i,this.preRelease=n}return r.parse=function(e){if(e){var t=new RegExp(kr).exec(e);if(t){var i=Number(t[1]),n=Number(t[2]);if(!(isNaN(i)||isNaN(n))){var a=Number(t[4])||0,o=t[5]||void 0;return new r(i,n,a,o)}}}},r.prototype.compareTo=function(e){return this.major>e.major?1:this.major<e.major?-1:this.minor>e.minor?1:this.minor<e.minor?-1:this.patch>e.patch?1:this.patch<e.patch||this.preRelease&&!e.preRelease?-1:!this.preRelease&&e.preRelease?1:this.preRelease&&e.preRelease?this.preRelease>e.preRelease?1:this.preRelease<e.preRelease?-1:0:0},r}(),dt=function(){function r(){}return r.prototype.evaluate=function(e,t){var i,n,a={},o={context:e,result:a};try{for(var l=j(t),d=l.next();!d.done;d=l.next()){var u=d.value,s=this.evaluateFlag(o,u);s&&(a[u.key]=s)}}catch(c){i={error:c}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}return a},r.prototype.evaluateFlag=function(e,t){var i,n,a;try{for(var o=j(t.segments),l=o.next();!l.done;l=o.next()){var d=l.value;if(a=this.evaluateSegment(e,t,d),a){var u=Z(Z(Z({},t.metadata),d.metadata),a.metadata);a=Z(Z({},a),{metadata:u});break}}}catch(s){i={error:s}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},r.prototype.evaluateSegment=function(e,t,i){if(!i.conditions){var n=this.bucket(e,i);return n!==void 0?t.variants[n]:void 0}var a=this.evaluateConditions(e,i.conditions);if(a){var n=this.bucket(e,i);return n!==void 0?t.variants[n]:void 0}},r.prototype.evaluateConditions=function(e,t){var i,n,a,o;try{for(var l=j(t),d=l.next();!d.done;d=l.next()){var u=d.value,s=!0;try{for(var c=(a=void 0,j(u)),f=c.next();!f.done;f=c.next()){var h=f.value;if(s=this.matchCondition(e,h),!s)break}}catch(v){a={error:v}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}if(s)return!0}}catch(v){i={error:v}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}return!1},r.prototype.matchCondition=function(e,t){var i=it(e,t.selector);if(i)if(this.isSetOperator(t.op)){var n=this.coerceStringArray(i);return n?this.matchSet(n,t.op,t.values):!1}else{var a=this.coerceString(i);return a!==void 0?this.matchString(a,t.op,t.values):!1}else return this.matchNull(t.op,t.values)},r.prototype.getHash=function(e){return br(e)},r.prototype.bucket=function(e,t){var i,n,a,o;if(!t.bucket)return t.variant;var l=this.coerceString(it(e,t.bucket.selector));if(!l||l.length===0)return t.variant;var d="".concat(t.bucket.salt,"/").concat(l),u=this.getHash(d),s=u%100,c=Math.floor(u/100);try{for(var f=j(t.bucket.allocations),h=f.next();!h.done;h=f.next()){var v=h.value,w=v.range[0],b=v.range[1];if(s>=w&&s<b)try{for(var m=(a=void 0,j(v.distributions)),g=m.next();!g.done;g=m.next()){var C=g.value,F=C.range[0],V=C.range[1];if(c>=F&&c<V)return C.variant}}catch(q){a={error:q}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}}}catch(q){i={error:q}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(i)throw i.error}}return t.variant},r.prototype.matchNull=function(e,t){var i=this.containsNone(t);switch(e){case y.IS:case y.CONTAINS:case y.LESS_THAN:case y.LESS_THAN_EQUALS:case y.GREATER_THAN:case y.GREATER_THAN_EQUALS:case y.VERSION_LESS_THAN:case y.VERSION_LESS_THAN_EQUALS:case y.VERSION_GREATER_THAN:case y.VERSION_GREATER_THAN_EQUALS:case y.SET_IS:case y.SET_CONTAINS:case y.SET_CONTAINS_ANY:return i;case y.IS_NOT:case y.DOES_NOT_CONTAIN:case y.SET_DOES_NOT_CONTAIN:case y.SET_DOES_NOT_CONTAIN_ANY:return!i;default:return!1}},r.prototype.matchSet=function(e,t,i){switch(t){case y.SET_IS:return this.setEquals(e,i);case y.SET_IS_NOT:return!this.setEquals(e,i);case y.SET_CONTAINS:return this.matchesSetContainsAll(e,i);case y.SET_DOES_NOT_CONTAIN:return!this.matchesSetContainsAll(e,i);case y.SET_CONTAINS_ANY:return this.matchesSetContainsAny(e,i);case y.SET_DOES_NOT_CONTAIN_ANY:return!this.matchesSetContainsAny(e,i);default:return!1}},r.prototype.matchString=function(e,t,i){var n=this;switch(t){case y.IS:return this.matchesIs(e,i);case y.IS_NOT:return!this.matchesIs(e,i);case y.CONTAINS:return this.matchesContains(e,i);case y.DOES_NOT_CONTAIN:return!this.matchesContains(e,i);case y.LESS_THAN:case y.LESS_THAN_EQUALS:case y.GREATER_THAN:case y.GREATER_THAN_EQUALS:return this.matchesComparable(e,t,i,function(a){return n.parseNumber(a)},this.comparator);case y.VERSION_LESS_THAN:case y.VERSION_LESS_THAN_EQUALS:case y.VERSION_GREATER_THAN:case y.VERSION_GREATER_THAN_EQUALS:return this.matchesComparable(e,t,i,function(a){return Ir.parse(a)},this.versionComparator);case y.REGEX_MATCH:return this.matchesRegex(e,i);case y.REGEX_DOES_NOT_MATCH:return!this.matchesRegex(e,i);default:return!1}},r.prototype.matchesIs=function(e,t){if(this.containsBooleans(t)){var i=e.toLowerCase();if(i==="true"||i==="false")return t.some(function(n){return n.toLowerCase()===i})}return t.some(function(n){return e===n})},r.prototype.matchesContains=function(e,t){var i,n;try{for(var a=j(t),o=a.next();!o.done;o=a.next()){var l=o.value;if(e.toLowerCase().includes(l.toLowerCase()))return!0}}catch(d){i={error:d}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return!1},r.prototype.matchesComparable=function(e,t,i,n,a){var o=this,l=n(e),d=i.map(function(u){return n(u)}).filter(function(u){return u!==void 0});return l===void 0||d.length===0?i.some(function(u){return o.comparator(e,t,u)}):d.some(function(u){return a(l,t,u)})},r.prototype.comparator=function(e,t,i){switch(t){case y.LESS_THAN:case y.VERSION_LESS_THAN:return e<i;case y.LESS_THAN_EQUALS:case y.VERSION_LESS_THAN_EQUALS:return e<=i;case y.GREATER_THAN:case y.VERSION_GREATER_THAN:return e>i;case y.GREATER_THAN_EQUALS:case y.VERSION_GREATER_THAN_EQUALS:return e>=i;default:return!1}},r.prototype.versionComparator=function(e,t,i){var n=e.compareTo(i);switch(t){case y.LESS_THAN:case y.VERSION_LESS_THAN:return n<0;case y.LESS_THAN_EQUALS:case y.VERSION_LESS_THAN_EQUALS:return n<=0;case y.GREATER_THAN:case y.VERSION_GREATER_THAN:return n>0;case y.GREATER_THAN_EQUALS:case y.VERSION_GREATER_THAN_EQUALS:return n>=0;default:return!1}},r.prototype.matchesRegex=function(e,t){return t.some(function(i){return!!new RegExp(i).exec(e)})},r.prototype.containsNone=function(e){return e.some(function(t){return t==="(none)"})},r.prototype.containsBooleans=function(e){return e.some(function(t){switch(t.toLowerCase()){case"true":case"false":return!0;default:return!1}})},r.prototype.parseNumber=function(e){var t;return(t=Number(e))!==null&&t!==void 0?t:void 0},r.prototype.coerceString=function(e){if(e!=null)return typeof e=="object"?JSON.stringify(e):String(e)},r.prototype.coerceStringArray=function(e){var t=this;if(Array.isArray(e)){var i=e;return i.map(function(l){return t.coerceString(l)}).filter(Boolean)}var n=String(e);try{var a=JSON.parse(n);if(Array.isArray(a)){var i=e;return i.map(function(d){return t.coerceString(d)}).filter(Boolean)}else{var o=this.coerceString(n);return o?[o]:void 0}}catch{var o=this.coerceString(n);return o?[o]:void 0}},r.prototype.isSetOperator=function(e){switch(e){case y.SET_IS:case y.SET_IS_NOT:case y.SET_CONTAINS:case y.SET_DOES_NOT_CONTAIN:case y.SET_CONTAINS_ANY:case y.SET_DOES_NOT_CONTAIN_ANY:return!0;default:return!1}},r.prototype.setEquals=function(e,t){var i=new Set(e),n=new Set(t);return i.size===n.size&&qe([],Be(n),!1).every(function(a){return i.has(a)})},r.prototype.matchesSetContainsAll=function(e,t){var i,n;if(e.length<t.length)return!1;try{for(var a=j(t),o=a.next();!o.done;o=a.next()){var l=o.value;if(!this.matchesIs(l,e))return!1}}catch(d){i={error:d}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return!0},r.prototype.matchesSetContainsAny=function(e,t){var i,n;try{for(var a=j(t),o=a.next();!o.done;o=a.next()){var l=o.value;if(this.matchesIs(l,e))return!0}}catch(d){i={error:d}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return!1},r}(),ht=function(r,e){var t,i,n=Z({},r),a=[],o=e||Object.keys(n);try{for(var l=j(o),d=l.next();!d.done;d=l.next()){var u=d.value,s=vt(u,n);s&&a.push.apply(a,qe([],Be(s),!1))}}catch(c){t={error:c}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(t)throw t.error}}return a},vt=function(r,e,t){var i,n;t===void 0&&(t=[]);var a=e[r];if(a){if(!a.dependencies||a.dependencies.length===0)return delete e[a.key],[a]}else return;t.push(a.key);var o=[],l=function(c){if(t.some(function(h){return h===c}))throw Error("Detected a cycle between flags ".concat(t));var f=vt(c,e,t);f&&o.push.apply(o,qe([],Be(f),!1))};try{for(var d=j(a.dependencies),u=d.next();!u.done;u=d.next()){var s=u.value;l(s)}}catch(c){i={error:c}}finally{try{u&&!u.done&&(n=d.return)&&n.call(d)}finally{if(i)throw i.error}}return o.push(a),t.pop(),delete e[a.key],o},pt="3.7.5",Nr=pt,Cr=typeof atob=="function",Or=typeof btoa=="function",ce=typeof Buffer=="function",nt=typeof TextDecoder=="function"?new TextDecoder:void 0,at=typeof TextEncoder=="function"?new TextEncoder:void 0,Pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ve=Array.prototype.slice.call(Pr),Ee=(r=>{let e={};return r.forEach((t,i)=>e[t]=i),e})(ve),Rr=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,M=String.fromCharCode.bind(String),ot=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):r=>new Uint8Array(Array.prototype.slice.call(r,0)),yt=r=>r.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),mt=r=>r.replace(/[^A-Za-z0-9\+\/]/g,""),gt=r=>{let e,t,i,n,a="",o=r.length%3;for(let l=0;l<r.length;){if((t=r.charCodeAt(l++))>255||(i=r.charCodeAt(l++))>255||(n=r.charCodeAt(l++))>255)throw new TypeError("invalid character found");e=t<<16|i<<8|n,a+=ve[e>>18&63]+ve[e>>12&63]+ve[e>>6&63]+ve[e&63]}return o?a.slice(0,o-3)+"===".substring(o):a},He=Or?r=>btoa(r):ce?r=>Buffer.from(r,"binary").toString("base64"):gt,Fe=ce?r=>Buffer.from(r).toString("base64"):r=>{let t=[];for(let i=0,n=r.length;i<n;i+=4096)t.push(M.apply(null,r.subarray(i,i+4096)));return He(t.join(""))},ke=(r,e=!1)=>e?yt(Fe(r)):Fe(r),Ur=r=>{if(r.length<2){var e=r.charCodeAt(0);return e<128?r:e<2048?M(192|e>>>6)+M(128|e&63):M(224|e>>>12&15)+M(128|e>>>6&63)+M(128|e&63)}else{var e=65536+(r.charCodeAt(0)-55296)*1024+(r.charCodeAt(1)-56320);return M(240|e>>>18&7)+M(128|e>>>12&63)+M(128|e>>>6&63)+M(128|e&63)}},Lr=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,bt=r=>r.replace(Lr,Ur),st=ce?r=>Buffer.from(r,"utf8").toString("base64"):at?r=>Fe(at.encode(r)):r=>He(bt(r)),ue=(r,e=!1)=>e?yt(st(r)):st(r),lt=r=>ue(r,!0),Mr=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Fr=r=>{switch(r.length){case 4:var e=(7&r.charCodeAt(0))<<18|(63&r.charCodeAt(1))<<12|(63&r.charCodeAt(2))<<6|63&r.charCodeAt(3),t=e-65536;return M((t>>>10)+55296)+M((t&1023)+56320);case 3:return M((15&r.charCodeAt(0))<<12|(63&r.charCodeAt(1))<<6|63&r.charCodeAt(2));default:return M((31&r.charCodeAt(0))<<6|63&r.charCodeAt(1))}},wt=r=>r.replace(Mr,Fr),St=r=>{if(r=r.replace(/\s+/g,""),!Rr.test(r))throw new TypeError("malformed base64.");r+="==".slice(2-(r.length&3));let e,t="",i,n;for(let a=0;a<r.length;)e=Ee[r.charAt(a++)]<<18|Ee[r.charAt(a++)]<<12|(i=Ee[r.charAt(a++)])<<6|(n=Ee[r.charAt(a++)]),t+=i===64?M(e>>16&255):n===64?M(e>>16&255,e>>8&255):M(e>>16&255,e>>8&255,e&255);return t},Ve=Cr?r=>atob(mt(r)):ce?r=>Buffer.from(r,"base64").toString("binary"):St,xt=ce?r=>ot(Buffer.from(r,"base64")):r=>ot(Ve(r).split("").map(e=>e.charCodeAt(0))),Et=r=>xt(_t(r)),Dr=ce?r=>Buffer.from(r,"base64").toString("utf8"):nt?r=>nt.decode(xt(r)):r=>wt(Ve(r)),_t=r=>mt(r.replace(/[-_]/g,e=>e=="-"?"+":"/")),De=r=>Dr(_t(r)),$r=r=>{if(typeof r!="string")return!1;let e=r.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},At=r=>({value:r,enumerable:!1,writable:!0,configurable:!0}),Tt=function(){let r=(e,t)=>Object.defineProperty(String.prototype,e,At(t));r("fromBase64",function(){return De(this)}),r("toBase64",function(e){return ue(this,e)}),r("toBase64URI",function(){return ue(this,!0)}),r("toBase64URL",function(){return ue(this,!0)}),r("toUint8Array",function(){return Et(this)})},kt=function(){let r=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,At(t));r("toBase64",function(e){return ke(this,e)}),r("toBase64URI",function(){return ke(this,!0)}),r("toBase64URL",function(){return ke(this,!0)})},Br=()=>{Tt(),kt()},$e={version:pt,VERSION:Nr,atob:Ve,atobPolyfill:St,btoa:He,btoaPolyfill:gt,fromBase64:De,toBase64:ue,encode:ue,encodeURI:lt,encodeURL:lt,utob:bt,btou:wt,decode:De,isValid:$r,fromUint8Array:ke,toUint8Array:Et,extendString:Tt,extendUint8Array:kt,extendBuiltins:Br},je=function(r){ut(e,r);function e(t,i){var n=r.call(this,i)||this;return n.statusCode=t,Object.setPrototypeOf(n,e.prototype),n}return e}(Error),Ie=function(r){ut(e,r);function e(t){var i=r.call(this,t)||this;return Object.setPrototypeOf(i,e.prototype),i}return e}(Error),It=function(){function r(e,t,i){this.deploymentKey=e,this.serverUrl=t,this.httpClient=i}return r.prototype.getVariants=function(e,t){return ct(this,void 0,void 0,function(){var i,n,a,o;return ft(this,function(l){switch(l.label){case 0:return i=$e.encodeURL(JSON.stringify(e)),n={Authorization:"Api-Key ".concat(this.deploymentKey),"X-Amp-Exp-User":i},t!=null&&t.flagKeys&&(n["X-Amp-Exp-Flag-Keys"]=$e.encodeURL(JSON.stringify(t.flagKeys))),t!=null&&t.trackingOption&&(n["X-Amp-Exp-Track"]=t.trackingOption),a=new URL("".concat(this.serverUrl,"/sdk/v2/vardata?v=0")),t!=null&&t.evaluationMode&&a.searchParams.append("eval_mode",t==null?void 0:t.evaluationMode),t!=null&&t.deliveryMethod&&a.searchParams.append("delivery_method",t==null?void 0:t.deliveryMethod),[4,this.httpClient.request({requestUrl:a.toString(),method:"GET",headers:n,timeoutMillis:t==null?void 0:t.timeoutMillis})];case 1:if(o=l.sent(),o.status!=200)throw new je(o.status,"Fetch error response: status=".concat(o.status));return[2,JSON.parse(o.body)]}})})},r}(),Nt=function(){function r(e,t,i){this.deploymentKey=e,this.serverUrl=t,this.httpClient=i}return r.prototype.getFlags=function(e){return ct(this,void 0,void 0,function(){var t,i,n;return ft(this,function(a){switch(a.label){case 0:return t={Authorization:"Api-Key ".concat(this.deploymentKey)},e!=null&&e.libraryName&&(e!=null&&e.libraryVersion)&&(t["X-Amp-Exp-Library"]="".concat(e.libraryName,"/").concat(e.libraryVersion)),e!=null&&e.user&&(t["X-Amp-Exp-User"]=$e.encodeURL(JSON.stringify(e.user))),[4,this.httpClient.request({requestUrl:"".concat(this.serverUrl,"/sdk/v2/flags")+(e!=null&&e.deliveryMethod?"?delivery_method=".concat(e.deliveryMethod):""),method:"GET",headers:t,timeoutMillis:e==null?void 0:e.timeoutMillis})];case 1:if(i=a.sent(),i.status!=200)throw Error("Flags error response: status=".concat(i.status));return n=JSON.parse(i.body),[2,n.reduce(function(o,l){return o[l.key]=l,o},{})]}})})},r}(),P=typeof globalThis!="undefined"?globalThis:global||self,ee=function(){if(typeof globalThis!="undefined")return globalThis;if(typeof window!="undefined")return window;if(typeof self!="undefined")return self;if(typeof global!="undefined")return global},Ct=function(){var r=ee();if(r)try{var e="EXP_test";return r.localStorage.setItem(e,e),r.localStorage.removeItem(e),!0}catch{return!1}return!1},Ot=function(){function r(e,t){this.poller=void 0,this.action=e,this.ms=t}return r.prototype.start=function(){this.poller||(this.poller=P.setInterval(this.action,this.ms),this.action())},r.prototype.stop=function(){this.poller&&(P.clearInterval(this.poller),this.poller=void 0)},r}();var qr=function(){function r(){}return r.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:Hr(),platform:"Web",os:void 0,deviceModel:void 0}},r}(),Hr=function(){return typeof navigator!="undefined"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},Vr=function(){function r(){this.queue=[]}return r.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},r.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(t){e(t)}),this.queue=[])},r}(),te=function(){return te=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},te.apply(this,arguments)};function Ne(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pt(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,a=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a}var Ce=function(r,e){var t,i,n=["string","number","boolean","undefined"],a=typeof r,o=typeof e;if(a!==o)return!1;try{for(var l=Ne(n),d=l.next();!d.done;d=l.next()){var u=d.value;if(u===a)return r===e}}catch(b){t={error:b}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(t)throw t.error}}if(r==null&&e==null)return!0;if(r==null||e==null||r.length!==e.length)return!1;var s=Array.isArray(r),c=Array.isArray(e);if(s!==c)return!1;if(s&&c){for(var f=0;f<r.length;f++)if(!Ce(r[f],e[f]))return!1}else{var h=Object.keys(r).sort(),v=Object.keys(e).sort();if(!Ce(h,v))return!1;var w=!0;return Object.keys(r).forEach(function(b){Ce(r[b],e[b])||(w=!1)}),w}return!0},jr="$set",Gr="$unset",zr="$clearAll";Object.entries||(Object.entries=function(r){for(var e=Object.keys(r),t=e.length,i=new Array(t);t--;)i[t]=[e[t],r[e[t]]];return i});var Qr=function(){function r(){this.identity={userProperties:{}},this.listeners=new Set}return r.prototype.editIdentity=function(){var e=this,t=te({},this.identity.userProperties),i=te(te({},this.identity),{userProperties:t});return{setUserId:function(n){return i.userId=n,this},setDeviceId:function(n){return i.deviceId=n,this},setUserProperties:function(n){return i.userProperties=n,this},setOptOut:function(n){return i.optOut=n,this},updateUserProperties:function(n){var a,o,l,d,u,s,c=i.userProperties||{};try{for(var f=Ne(Object.entries(n)),h=f.next();!h.done;h=f.next()){var v=Pt(h.value,2),w=v[0],b=v[1];switch(w){case jr:try{for(var m=(l=void 0,Ne(Object.entries(b))),g=m.next();!g.done;g=m.next()){var C=Pt(g.value,2),F=C[0],V=C[1];c[F]=V}}catch(D){l={error:D}}finally{try{g&&!g.done&&(d=m.return)&&d.call(m)}finally{if(l)throw l.error}}break;case Gr:try{for(var q=(u=void 0,Ne(Object.keys(b))),G=q.next();!G.done;G=q.next()){var F=G.value;delete c[F]}}catch(D){u={error:D}}finally{try{G&&!G.done&&(s=q.return)&&s.call(q)}finally{if(u)throw u.error}}break;case zr:c={};break}}}catch(D){a={error:D}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}return i.userProperties=c,this},commit:function(){return e.setIdentity(i),this}}},r.prototype.getIdentity=function(){return te({},this.identity)},r.prototype.setIdentity=function(e){var t=te({},this.identity);this.identity=te({},e),Ce(t,this.identity)||this.listeners.forEach(function(i){i(e)})},r.prototype.addIdentityListener=function(e){this.listeners.add(e)},r.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},r}(),ye=typeof globalThis!="undefined"?globalThis:typeof global!="undefined"?global:self,Rt=function(){function r(){this.identityStore=new Qr,this.eventBridge=new Vr,this.applicationContextProvider=new qr}return r.getInstance=function(e){return ye.analyticsConnectorInstances||(ye.analyticsConnectorInstances={}),ye.analyticsConnectorInstances[e]||(ye.analyticsConnectorInstances[e]=new r),ye.analyticsConnectorInstances[e]},r}();var Ht=vr(Ut()),Bi=function(){function r(e){this.amplitudeInstance=e}return r.prototype.getUser=function(){var e,t,i,n,a,o,l,d,u,s;return{device_id:(t=(e=this.amplitudeInstance)===null||e===void 0?void 0:e.options)===null||t===void 0?void 0:t.deviceId,user_id:(n=(i=this.amplitudeInstance)===null||i===void 0?void 0:i.options)===null||n===void 0?void 0:n.userId,version:(o=(a=this.amplitudeInstance)===null||a===void 0?void 0:a.options)===null||o===void 0?void 0:o.versionName,language:(d=(l=this.amplitudeInstance)===null||l===void 0?void 0:l.options)===null||d===void 0?void 0:d.language,platform:(s=(u=this.amplitudeInstance)===null||u===void 0?void 0:u.options)===null||s===void 0?void 0:s.platform,os:this.getOs(),device_model:this.getDeviceModel()}},r.prototype.getOs=function(){var e,t,i,n,a,o;return[(i=(t=(e=this.amplitudeInstance)===null||e===void 0?void 0:e._ua)===null||t===void 0?void 0:t.browser)===null||i===void 0?void 0:i.name,(o=(a=(n=this.amplitudeInstance)===null||n===void 0?void 0:n._ua)===null||a===void 0?void 0:a.browser)===null||o===void 0?void 0:o.major].filter(function(l){return l!=null}).join(" ")},r.prototype.getDeviceModel=function(){var e,t,i;return(i=(t=(e=this.amplitudeInstance)===null||e===void 0?void 0:e._ua)===null||t===void 0?void 0:t.os)===null||i===void 0?void 0:i.name},r}(),qi=function(){function r(e){this.amplitudeInstance=e}return r.prototype.track=function(e){this.amplitudeInstance.logEvent(e.name,e.properties)},r.prototype.setUserProperty=function(e){var t,i;this.amplitudeInstance.setUserProperties((t={},t[e.userProperty]=(i=e.variant)===null||i===void 0?void 0:i.value,t))},r.prototype.unsetUserProperty=function(e){var t;this.amplitudeInstance._logEvent("$identify",null,null,{$unset:(t={},t[e.userProperty]="-",t)})},r}(),k=function(){return k=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},k.apply(this,arguments)};function U(r,e,t,i){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(s){try{u(i.next(s))}catch(c){o(c)}}function d(s){try{u(i.throw(s))}catch(c){o(c)}}function u(s){s.done?a(s.value):n(s.value).then(l,d)}u((i=i.apply(r,e||[])).next())})}function L(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,n,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(s){return d([u,s])}}function d(u){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(i=1,n&&(a=u[0]&2?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(s){u=[6,s],n=0}finally{i=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function J(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ie(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,a=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a}function ze(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return r.concat(a||Array.prototype.slice.call(e))}var Lt=function(r,e){var t,i;e===void 0&&(e=!1);var n=Qe(r,e),a=void 0,o=P.document.cookie.split("; ");try{for(var l=J(o),d=l.next();!d.done;d=l.next()){var u=d.value,s=ie(u.split("=",2),2),c=s[0],f=s[1];c===n&&(a=decodeURIComponent(f))}}catch(b){t={error:b}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(t)throw t.error}}if(a)try{if(e){var h=atob(a);return JSON.parse(decodeURIComponent(h))}var v=a.split("."),w=void 0;return v.length>=2&&v[1]&&(w=atob(v[1])),{deviceId:v[0],userId:w}}catch{return}},Wr=function(r){var e=Qe(r,!0);try{var t=P.localStorage.getItem(e);if(!t)return;var i=JSON.parse(t);return typeof i!="object"?void 0:i}catch{return}},Kr=function(r){var e=Qe(r,!0);try{var t=P.sessionStorage.getItem(e);if(!t)return;var i=JSON.parse(t);return typeof i!="object"?void 0:i}catch{return}},Qe=function(r,e){if(e)return(r==null?void 0:r.length)<10?void 0:"AMP_".concat(r.substring(0,10));if(!((r==null?void 0:r.length)<6))return"amp_".concat(r.substring(0,6))},Xr=function(){function r(e,t,i){this.type="integration",this.apiKey=e,this.identityStore=t.identityStore,this.eventBridge=t.eventBridge,this.contextProvider=t.applicationContextProvider,this.timeoutMillis=i,this.loadPersistedState(),i<=0&&(this.setup=void 0)}return r.prototype.setup=function(e,t){return U(this,void 0,void 0,function(){return L(this,function(i){return e!=null&&e.automaticFetchOnAmplitudeIdentityChange&&this.identityStore.addIdentityListener(function(){t==null||t.fetch()}),[2,this.waitForConnectorIdentity(this.timeoutMillis)]})})},r.prototype.getUser=function(){var e=this.identityStore.getIdentity();return{user_id:e.userId,device_id:e.deviceId,user_properties:e.userProperties,version:this.contextProvider.versionName}},r.prototype.track=function(e){return this.eventBridge.receiver?(this.eventBridge.logEvent({eventType:e.eventType,eventProperties:e.eventProperties}),!0):!1},r.prototype.loadPersistedState=function(){if(!this.apiKey||this.apiKey.startsWith("client-"))return!1;var e=Lt(this.apiKey,!0);return e?(this.commitIdentityToConnector(e),!0):(e=Lt(this.apiKey,!1),e?(this.commitIdentityToConnector(e),!0):(e=Wr(this.apiKey),e?(this.commitIdentityToConnector(e),!0):(e=Kr(this.apiKey),e?(this.commitIdentityToConnector(e),!0):!1)))},r.prototype.commitIdentityToConnector=function(e){var t=this.identityStore.editIdentity();t.setDeviceId(e.deviceId),e.userId&&t.setUserId(e.userId),t.commit()},r.prototype.waitForConnectorIdentity=function(e){return U(this,void 0,void 0,function(){var t,i=this;return L(this,function(n){return t=this.identityStore.getIdentity(),!t.userId&&!t.deviceId?[2,Promise.race([new Promise(function(a){var o=function(){a(),i.identityStore.removeIdentityListener(o)};i.identityStore.addIdentityListener(o)}),new Promise(function(a,o){P.setTimeout(o,e,"Timed out waiting for Amplitude Analytics SDK to initialize.")})])]:[2]})})},r}();function Jr(r,e){return e=e||{},new Promise(function(t,i){var n=new XMLHttpRequest,a=[],o=[],l={},d=function(){return{ok:(n.status/100|0)==2,statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(JSON.parse(n.responseText))},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:d,headers:{keys:function(){return a},entries:function(){return o},get:function(s){return l[s.toLowerCase()]},has:function(s){return s.toLowerCase()in l}}}};for(var u in n.open(e.method||"get",r,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(s,c,f){a.push(c=c.toLowerCase()),o.push([c,f]),l[c]=l[c]?l[c]+","+f:f}),t(d())},n.onerror=i,n.withCredentials=e.credentials=="include",e.headers)n.setRequestHeader(u,e.headers[u]);n.send(e.body||null)})}var Yr=P.fetch||Jr,Zr=function(r,e){return e==null||e<=0?r:new Promise(function(t,i){P.setTimeout(function(){i(new Ie("Request timeout after "+e+" milliseconds"))},e),r.then(t,i)})},ei=function(r,e,t,i,n){var a=function(){return U(void 0,void 0,void 0,function(){var o,l,d;return L(this,function(u){switch(u.label){case 0:return[4,Yr(r,{method:e,headers:t,body:i})];case 1:return o=u.sent(),d={status:o.status},[4,o.text()];case 2:return l=(d.body=u.sent(),d),[2,l]}})})};return Zr(a(),n)},ti=function(){function r(e){this.client=e}return r.prototype.request=function(e){return U(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return[4,this.client.request(e.requestUrl,e.method,e.headers,null,e.timeoutMillis)];case 1:return[2,t.sent()]}})})},r}(),Vt={request:ei},X;(function(r){r.LocalStorage="localStorage",r.InitialVariants="initialVariants"})(X||(X={}));var R;(function(r){r.LocalStorage="storage",r.InitialVariants="initial",r.SecondaryLocalStorage="secondary-storage",r.SecondaryInitialVariants="secondary-initial",r.FallbackInline="fallback-inline",r.FallbackConfig="fallback-config",r.LocalEvaluation="local-evaluation"})(R||(R={}));var Mt=function(r){return!r||r===R.FallbackInline||r===R.FallbackConfig||r===R.SecondaryInitialVariants},ne={debug:!1,instanceName:"$default_instance",fallbackVariant:{},initialVariants:{},initialFlags:void 0,source:X.LocalStorage,serverUrl:"https://api.lab.amplitude.com",flagsServerUrl:"https://flag.lab.amplitude.com",serverZone:"US",fetchTimeoutMillis:1e4,retryFetchOnFailure:!0,throwOnError:!1,automaticExposureTracking:!0,pollOnStart:!0,flagConfigPollingIntervalMillis:3e5,fetchOnStart:!0,automaticFetchOnAmplitudeIdentityChange:!1,userProvider:null,analyticsProvider:null,exposureTrackingProvider:null,httpClient:Vt},Ft="1.16.2",ri=512,ii=function(){function r(e,t){var i=this,n;this.isReady=new Promise(function(o){i.resolve=o}),this.config=e,this.client=t;var a=(n=e.instanceName)!==null&&n!==void 0?n:ne.instanceName;this.queue=new ai(a),this.cache=new ni(a)}return r.prototype.ready=function(){return this.integration?this.isReady:Promise.resolve()},r.prototype.setIntegration=function(e){var t=this;this.integration&&this.integration.teardown&&this.integration.teardown(),this.integration=e,e.setup?this.integration.setup(this.config,this.client).then(function(){t.queue.setTracker(t.integration.track.bind(e)),t.resolve()},function(){t.queue.setTracker(t.integration.track.bind(e)),t.resolve()}):(this.queue.setTracker(this.integration.track.bind(e)),this.resolve())},r.prototype.getUser=function(){return this.integration?this.integration.getUser():{}},r.prototype.track=function(e){if(this.cache.shouldTrack(e)){var t=this.getExposureEvent(e);this.queue.push(t)}},r.prototype.getExposureEvent=function(e){var t,i,n,a={eventType:"$exposure",eventProperties:e};return!((t=e.metadata)===null||t===void 0)&&t.exposureEvent?a={eventType:(i=e.metadata)===null||i===void 0?void 0:i.exposureEvent,eventProperties:e}:((n=e.metadata)===null||n===void 0?void 0:n.deliveryMethod)==="web"&&(a={eventType:"$impression",eventProperties:e}),a},r}(),ni=function(){function r(e){this.isSessionStorageAvailable=oi(),this.inMemoryCache={},this.storageKey="EXP_sent_v2_".concat(e),this.isSessionStorageAvailable&&P.sessionStorage.removeItem("EXP_sent_".concat(e))}return r.prototype.shouldTrack=function(e){var t;if(((t=e.metadata)===null||t===void 0?void 0:t.deliveryMethod)==="web")return!0;this.loadCache();var i=this.inMemoryCache[e.flag_key],n=!1;return(!i||i.variant!==e.variant)&&(n=!0,this.inMemoryCache[e.flag_key]=e),this.storeCache(),n},r.prototype.loadCache=function(){if(this.isSessionStorageAvailable){var e=P.sessionStorage.getItem(this.storageKey);this.inMemoryCache=e?JSON.parse(e):{}}},r.prototype.storeCache=function(){this.isSessionStorageAvailable&&P.sessionStorage.setItem(this.storageKey,JSON.stringify(this.inMemoryCache))},r}(),ai=function(){function r(e,t){t===void 0&&(t=ri),this.isLocalStorageAvailable=Ct(),this.inMemoryQueue=[],this.storageKey="EXP_unsent_".concat(e),this.maxQueueSize=t}return r.prototype.push=function(e){this.loadQueue(),this.inMemoryQueue.push(e),this.flush(),this.storeQueue()},r.prototype.setTracker=function(e){var t=this;this.tracker=e,this.poller=P.setInterval(function(){t.loadFlushStore()},1e3),this.loadFlushStore()},r.prototype.flush=function(){var e,t;if(this.tracker&&this.inMemoryQueue.length!==0){try{for(var i=J(this.inMemoryQueue),n=i.next();!n.done;n=i.next()){var a=n.value;try{if(!this.tracker(a))return}catch{return}}}catch(o){e={error:o}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this.inMemoryQueue=[],this.poller&&(P.clearInterval(this.poller),this.poller=void 0)}},r.prototype.loadQueue=function(){if(this.isLocalStorageAvailable){var e=P.localStorage.getItem(this.storageKey);this.inMemoryQueue=e?JSON.parse(e):[]}},r.prototype.storeQueue=function(){this.isLocalStorageAvailable&&(this.inMemoryQueue.length>this.maxQueueSize&&(this.inMemoryQueue=this.inMemoryQueue.slice(this.inMemoryQueue.length-this.maxQueueSize)),P.localStorage.setItem(this.storageKey,JSON.stringify(this.inMemoryQueue)))},r.prototype.loadFlushStore=function(){this.loadQueue(),this.flush(),this.storeQueue()},r}(),oi=function(){var r=ee();if(r)try{var e="EXP_test";return r.sessionStorage.setItem(e,e),r.sessionStorage.removeItem(e),!0}catch{return!1}return!1},We=function(){function r(){this.globalScope=ee()}return r.prototype.get=function(e){var t;return(t=this.globalScope)===null||t===void 0?void 0:t.localStorage.getItem(e)},r.prototype.put=function(e,t){var i;(i=this.globalScope)===null||i===void 0||i.localStorage.setItem(e,t)},r.prototype.delete=function(e){var t;(t=this.globalScope)===null||t===void 0||t.localStorage.removeItem(e)},r}(),si=function(r,e,t){var i=r.substring(r.length-6),n="amp-exp-".concat(e,"-").concat(i);return new jt(n,t,Gt)},li=function(r,e,t){t===void 0&&(t=new We);var i=r.substring(r.length-6),n="amp-exp-".concat(e,"-").concat(i,"-flags");return new jt(n,t)},jt=function(){function r(e,t,i){this.cache={},this.namespace=e,this.storage=t,this.transformer=i}return r.prototype.get=function(e){return this.cache[e]},r.prototype.getAll=function(){return k({},this.cache)},r.prototype.put=function(e,t){this.cache[e]=t},r.prototype.putAll=function(e){var t,i;try{for(var n=J(Object.keys(e)),a=n.next();!a.done;a=n.next()){var o=a.value;this.cache[o]=e[o]}}catch(l){t={error:l}}finally{try{a&&!a.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}},r.prototype.remove=function(e){delete this.cache[e]},r.prototype.clear=function(){this.cache={}},r.prototype.load=function(){var e,t,i=this.storage.get(this.namespace),n;try{n=JSON.parse(i)||{}}catch{return}var a={};try{for(var o=J(Object.keys(n)),l=o.next();!l.done;l=o.next()){var d=l.value;try{var u=void 0;this.transformer?u=this.transformer(n[d]):u=n[d],u&&(a[d]=u)}catch{}}}catch(s){e={error:s}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}this.clear(),this.putAll(a)},r.prototype.store=function(e){e===void 0&&(e=this.cache),this.storage.put(this.namespace,JSON.stringify(e))},r}(),Gt=function(r){if(typeof r=="string")return{key:r,value:r};if(typeof r=="object"){var e=r.key,t=r.value,i=r.payload,n=r.metadata,a=r.expKey;n&&n.experimentKey?a=n.experimentKey:a&&(n=n||{},n.experimentKey=a);var o={};return e?o.key=e:t&&(o.key=t),t&&(o.value=t),n&&(o.metadata=n),i&&(o.payload=i),a&&(o.expKey=a),o}},zt=function(){function r(){this.globalScope=ee()}return r.prototype.get=function(e){var t;return(t=this.globalScope)===null||t===void 0?void 0:t.sessionStorage.getItem(e)},r.prototype.put=function(e,t){var i;(i=this.globalScope)===null||i===void 0||i.sessionStorage.setItem(e,t)},r.prototype.delete=function(e){var t;(t=this.globalScope)===null||t===void 0||t.sessionStorage.removeItem(e)},r}(),ui=function(r,e,t,i){var n,a="[Experiment] Exposure",o=t==null?void 0:t.value,l="[Experiment] ".concat(e);return{name:a,user:r,key:e,variant:t,userProperty:l,properties:{key:e,variant:o,source:i},userProperties:(n={},n[l]=o,n)}},W=function(r){return r==null},Ge=function(r){return W(r)?!0:r&&Object.keys(r).length===0},ci=function(r){var e,t;if(!r||typeof r!="object")return{};var i={};try{for(var n=J(Object.entries(r)),a=n.next();!a.done;a=n.next()){var o=ie(a.value,2),l=o[0],d=o[1];W(d)||(i[l]=d)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return i},Dt=function(r){var e;return((e=r==null?void 0:r.metadata)===null||e===void 0?void 0:e.evaluationMode)==="local"},fi=function(){function r(e,t,i,n){this.started=!1,this.done=!1,this.attempts=e,this.min=t,this.max=i,this.scalar=n}return r.prototype.start=function(e){return U(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:if(!this.started)this.started=!0;else throw Error("Backoff already started");return[4,this.backoff(e,0,this.min)];case 1:return t.sent(),[2]}})})},r.prototype.cancel=function(){this.done=!0,clearTimeout(this.timeoutHandle)},r.prototype.backoff=function(e,t,i){return U(this,void 0,void 0,function(){var n=this;return L(this,function(a){return this.done?[2]:(this.timeoutHandle=P.setTimeout(function(){return U(n,void 0,void 0,function(){var o,l;return L(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,e()];case 1:return d.sent(),[3,3];case 2:return d.sent(),o=t+1,o<this.attempts&&(l=Math.min(i*this.scalar,this.max),this.backoff(e,o,l)),[3,3];case 3:return[2]}})})},i),[2])})})},r}(),di=function(r){var e,t,i,n;if(!r)return{};var a={user:r},o=ee();o&&(a.page={url:o.location.href});var l={};if(!r.groups)return a;try{for(var d=J(Object.keys(r.groups)),u=d.next();!u.done;u=d.next()){var s=u.value,c=r.groups[s];if(c.length>0&&c[0]){var f=c[0],h={group_name:f},v=(n=(i=r.group_properties)===null||i===void 0?void 0:i[s])===null||n===void 0?void 0:n[f];v&&Object.keys(v).length>0&&(h.group_properties=v),l[s]=h}}}catch(w){e={error:w}}finally{try{u&&!u.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}return Object.keys(l).length>0&&(a.groups=l),delete a.user.groups,delete a.user.group_properties,a},B=function(r){return r==null?{}:typeof r=="string"?{key:r,value:r}:r},$t=function(r){if(!r)return{};var e=void 0;r.metadata&&(e=r.metadata.experimentKey);var t={};return r.key&&(t.key=r.key),r.value&&(t.value=r.value),r.payload&&(t.payload=r.payload),e&&(t.expKey=e),r.metadata&&(t.metadata=r.metadata),t},hi=function(){function r(e){this.setProperties={},this.unsetProperties={},this.analyticsProvider=e}return r.prototype.track=function(e){this.setProperties[e.key]!=e.variant.value&&(this.setProperties[e.key]=e.variant.value,delete this.unsetProperties[e.key],this.analyticsProvider.track(e))},r.prototype.setUserProperty=function(e){this.setProperties[e.key]!=e.variant.value&&this.analyticsProvider.setUserProperty(e)},r.prototype.unsetUserProperty=function(e){this.unsetProperties[e.key]||(this.unsetProperties[e.key]="unset",delete this.setProperties[e.key],this.analyticsProvider.unsetUserProperty(e))},r}(),vi=function(){function r(e){this.tracked={},this.exposureTrackingProvider=e}return r.prototype.track=function(e){var t=this.tracked[e.flag_key];t&&t.variant===e.variant||(this.tracked[e.flag_key]=e,this.exposureTrackingProvider.track(e))},r}(),pi=1e4,yi=8,mi=500,gi=1e4,bi=1.5,Bt=6e4,wi="https://api.lab.eu.amplitude.com",Si="https://flag.lab.eu.amplitude.com",xi=function(){function r(e,t){var i=this,n,a,o,l;this.engine=new dt,this.isRunning=!1,this.apiKey=e,t=ci(t),this.config=k(k(k({},ne),t),{serverUrl:(t==null?void 0:t.serverUrl)||(((n=t==null?void 0:t.serverZone)===null||n===void 0?void 0:n.toLowerCase())==="eu"?wi:ne.serverUrl),flagsServerUrl:(t==null?void 0:t.flagsServerUrl)||(((a=t==null?void 0:t.serverZone)===null||a===void 0?void 0:a.toLowerCase())==="eu"?Si:ne.flagsServerUrl),flagConfigPollingIntervalMillis:t.flagConfigPollingIntervalMillis<Bt?Bt:(o=t.flagConfigPollingIntervalMillis)!==null&&o!==void 0?o:ne.flagConfigPollingIntervalMillis});var d=(l=this.config)===null||l===void 0?void 0:l.internalInstanceNameSuffix;if(this.isWebExperiment=d==="web",this.poller=new Ot(function(){return i.doFlags()},this.config.flagConfigPollingIntervalMillis),this.config.initialVariants)for(var u in this.config.initialVariants)this.config.initialVariants[u]=Gt(this.config.initialVariants[u]);this.config.userProvider&&(this.userProvider=this.config.userProvider),this.config.analyticsProvider&&(this.analyticsProvider=new hi(this.config.analyticsProvider)),this.config.exposureTrackingProvider&&(this.exposureTrackingProvider=new vi(this.config.exposureTrackingProvider)),this.integrationManager=new ii(this.config,this);var s=new ti(this.config.httpClient||Vt);this.flagApi=new Nt(this.apiKey,this.config.flagsServerUrl,s),this.evaluationApi=new It(this.apiKey,this.config.serverUrl,s);var c,f=d?"".concat(this.config.instanceName,"-").concat(d):this.config.instanceName;this.isWebExperiment?c=new zt:c=new We,this.variants=si(this.apiKey,f,c),this.flags=li(this.apiKey,f,c);try{this.flags.load(),this.variants.load()}catch{}this.mergeInitialFlagsWithStorage()}return r.prototype.start=function(e){return U(this,void 0,void 0,function(){var t,i,n,a;return L(this,function(o){switch(o.label){case 0:if(this.isRunning)return[2];this.isRunning=!0,this.setUser(e),o.label=1;case 1:return o.trys.push([1,6,,7]),t=this.doFlags(),i=(a=this.config.fetchOnStart)!==null&&a!==void 0?a:!0,i?[4,Promise.all([this.fetch(e),t])]:[3,3];case 2:return o.sent(),[3,5];case 3:return[4,t];case 4:o.sent(),o.label=5;case 5:return[3,7];case 6:if(n=o.sent(),this.config.throwOnError)throw n;return[3,7];case 7:return this.config.pollOnStart&&this.poller.start(),[2]}})})},r.prototype.stop=function(){this.isRunning&&(this.poller.stop(),this.isRunning=!1)},r.prototype.fetch=function(){return U(this,arguments,void 0,function(e,t){var i;return e===void 0&&(e=this.user),L(this,function(n){switch(n.label){case 0:this.setUser(e||{}),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fetchInternal(e,this.config.fetchTimeoutMillis,this.config.retryFetchOnFailure,t)];case 2:return n.sent(),[3,4];case 3:if(i=n.sent(),this.config.throwOnError)throw i;return this.config.debug&&(i instanceof Ie?console.debug(i):console.error(i)),[3,4];case 4:return[2,this]}})})},r.prototype.variant=function(e,t){var i,n;if(!this.apiKey)return{value:void 0};var a=this.variantAndSource(e,t);return this.config.automaticExposureTracking&&this.exposureInternal(e,a),this.debug("[Experiment] variant for ".concat(e," is ").concat(((i=a.variant)===null||i===void 0?void 0:i.key)||((n=a.variant)===null||n===void 0?void 0:n.value))),a.variant||{}},r.prototype.exposure=function(e){var t=this.variantAndSource(e);this.exposureInternal(e,t)},r.prototype.all=function(){if(!this.apiKey)return{};var e=this.evaluate();for(var t in e){var i=this.flags.get(t);Dt(i)||delete e[t]}return k(k(k({},this.secondaryVariants()),this.sourceVariants()),e)},r.prototype.clear=function(){this.variants.clear();try{this.variants.store()}catch{}},r.prototype.getUser=function(){var e;if(!this.user)return this.user;if(!((e=this.user)===null||e===void 0)&&e.user_properties){var t=k({},this.user.user_properties);return k(k({},this.user),{user_properties:t})}else return k({},this.user)},r.prototype.setUser=function(e){var t;if(!e){this.user=null;return}if(!((t=this.user)===null||t===void 0)&&t.user_properties){var i=k({},e.user_properties);this.user=k(k({},e),{user_properties:i})}else this.user=k({},e)},r.prototype.getUserProvider=function(){return this.userProvider},r.prototype.setUserProvider=function(e){return this.userProvider=e,this},r.prototype.mergeInitialFlagsWithStorage=function(){var e=this;if(this.config.initialFlags){var t=JSON.parse(this.config.initialFlags);t.forEach(function(i){e.flags.get(i.key)||e.flags.put(i.key,i)})}},r.prototype.evaluate=function(e){var t,i,n=this.addContext(this.user),a=ht(this.flags.getAll(),e),o=di(n),l=this.engine.evaluate(o,a),d={};try{for(var u=J(Object.keys(l)),s=u.next();!s.done;s=u.next()){var c=s.value;d[c]=$t(l[c])}}catch(f){t={error:f}}finally{try{s&&!s.done&&(i=u.return)&&i.call(u)}finally{if(t)throw t.error}}return d},r.prototype.variantAndSource=function(e,t){var i={};this.config.source===X.LocalStorage?i=this.localStorageVariantAndSource(e,t):this.config.source===X.InitialVariants&&(i=this.initialVariantsVariantAndSource(e,t));var n=this.flags.get(e);return(Dt(n)||!i.variant&&n)&&(i=this.localEvaluationVariantAndSource(e,n,t)),i},r.prototype.localEvaluationVariantAndSource=function(e,t,i){var n,a={},o=this.evaluate([t.key])[e],l=R.LocalEvaluation,d=(n=o==null?void 0:o.metadata)===null||n===void 0?void 0:n.default;if(!W(o)&&!d)return{variant:B(o),source:l,hasDefaultVariant:!1};if(d&&(a={variant:B(o),source:l,hasDefaultVariant:!0}),!W(i))return{variant:B(i),source:R.FallbackInline,hasDefaultVariant:a.hasDefaultVariant};var u=this.config.initialVariants[e];if(!W(u))return{variant:B(u),source:R.SecondaryInitialVariants,hasDefaultVariant:a.hasDefaultVariant};var s=B(this.config.fallbackVariant),c={variant:s,source:R.FallbackConfig,hasDefaultVariant:a.hasDefaultVariant};return Ge(s)?a:c},r.prototype.localStorageVariantAndSource=function(e,t){var i,n={},a=this.variants.get(e),o=(i=a==null?void 0:a.metadata)===null||i===void 0?void 0:i.default;if(!W(a)&&!o)return{variant:B(a),source:R.LocalStorage,hasDefaultVariant:!1};if(o&&(n={variant:B(a),source:R.LocalStorage,hasDefaultVariant:!0}),!W(t))return{variant:B(t),source:R.FallbackInline,hasDefaultVariant:n.hasDefaultVariant};var l=this.config.initialVariants[e];if(!W(l))return{variant:B(l),source:R.SecondaryInitialVariants,hasDefaultVariant:n.hasDefaultVariant};var d=B(this.config.fallbackVariant),u={variant:d,source:R.FallbackConfig,hasDefaultVariant:n.hasDefaultVariant};return Ge(d)?n:u},r.prototype.initialVariantsVariantAndSource=function(e,t){var i,n={},a=this.config.initialVariants[e];if(!W(a))return{variant:B(a),source:R.InitialVariants,hasDefaultVariant:!1};var o=this.variants.get(e),l=(i=o==null?void 0:o.metadata)===null||i===void 0?void 0:i.default;if(!W(o)&&!l)return{variant:B(o),source:R.LocalStorage,hasDefaultVariant:!1};if(l&&(n={variant:B(o),source:R.LocalStorage,hasDefaultVariant:!0}),!W(t))return{variant:B(t),source:R.FallbackInline,hasDefaultVariant:n.hasDefaultVariant};var d=B(this.config.fallbackVariant),u={variant:d,source:R.FallbackConfig,hasDefaultVariant:n.hasDefaultVariant};return Ge(d)?n:u},r.prototype.fetchInternal=function(e,t,i,n){return U(this,void 0,void 0,function(){var a,o;return L(this,function(l){switch(l.label){case 0:if(!this.apiKey)throw Error("Experiment API key is empty");this.debug("[Experiment] Fetch all: retry=".concat(i)),i&&this.stopRetries(),l.label=1;case 1:return l.trys.push([1,4,,5]),[4,this.doFetch(e,t,n)];case 2:return a=l.sent(),[4,this.storeVariants(a,n)];case 3:return l.sent(),[2,a];case 4:throw o=l.sent(),i&&this.shouldRetryFetch(o)&&this.startRetries(e,n),o;case 5:return[2]}})})},r.prototype.cleanUserPropsForFetch=function(e){var t=k({},e);return delete t.cookie,t},r.prototype.doFetch=function(e,t,i){return U(this,void 0,void 0,function(){var n,a,o,l,d,u,s;return L(this,function(c){switch(c.label){case 0:return[4,this.addContextOrWait(e)];case 1:return e=c.sent(),e=this.cleanUserPropsForFetch(e),this.debug("[Experiment] Fetch variants for user: ",e),[4,this.evaluationApi.getVariants(e,k({timeoutMillis:t},i))];case 2:n=c.sent(),a={};try{for(o=J(Object.keys(n)),l=o.next();!l.done;l=o.next())d=l.value,a[d]=$t(n[d])}catch(f){u={error:f}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(u)throw u.error}}return this.debug("[Experiment] Received variants: ",a),[2,a]}})})},r.prototype.doFlags=function(){return U(this,void 0,void 0,function(){var e,t,i;return L(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),e=void 0,this.isWebExperiment?[4,this.addContextOrWait(this.getUser())]:[3,2];case 1:e=n.sent(),n.label=2;case 2:return[4,this.flagApi.getFlags({libraryName:"experiment-js-client",libraryVersion:Ft,timeoutMillis:this.config.fetchTimeoutMillis,deliveryMethod:this.isWebExperiment?"web":void 0,user:e!=null&&e.user_id||e!=null&&e.device_id?{user_id:e==null?void 0:e.user_id,device_id:e==null?void 0:e.device_id}:void 0})];case 3:return t=n.sent(),this.flags.clear(),this.flags.putAll(t),[3,5];case 4:if(i=n.sent(),i instanceof Ie){if(this.config.debug&&console.debug(i),this.config.throwOnError)throw i}else throw i;return[3,5];case 5:try{this.flags.store()}catch{}return this.mergeInitialFlagsWithStorage(),[2]}})})},r.prototype.storeVariants=function(e,t){return U(this,void 0,void 0,function(){var i,n,a,o,o;return L(this,function(l){i=t&&t.flagKeys?t.flagKeys:[],i.length===0&&this.variants.clear(),n=function(d){i=i.filter(function(u){return u!==d}),a.variants.put(d,e[d])},a=this;for(o in e)n(o);for(o in i)this.variants.remove(o);try{this.variants.store()}catch{}return this.debug("[Experiment] Stored variants: ",e),[2]})})},r.prototype.startRetries=function(e,t){return U(this,void 0,void 0,function(){var i=this;return L(this,function(n){return this.debug("[Experiment] Retry fetch"),this.retriesBackoff=new fi(yi,mi,gi,bi),this.retriesBackoff.start(function(){return U(i,void 0,void 0,function(){return L(this,function(a){switch(a.label){case 0:return[4,this.fetchInternal(e,pi,!1,t)];case 1:return a.sent(),[2]}})})}),[2]})})},r.prototype.stopRetries=function(){this.retriesBackoff&&this.retriesBackoff.cancel()},r.prototype.addContext=function(e){var t,i=(t=this.userProvider)===null||t===void 0?void 0:t.getUser(),n=this.integrationManager.getUser(),a=k(k(k({},i==null?void 0:i.user_properties),n.user_properties),e==null?void 0:e.user_properties);return k(k(k(k({library:"experiment-js-client/".concat(Ft)},i),n),e),{user_properties:a})},r.prototype.addContextOrWait=function(e){return U(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return[4,this.integrationManager.ready()];case 1:return t.sent(),[2,this.addContext(e)]}})})},r.prototype.sourceVariants=function(){if(this.config.source==X.LocalStorage)return this.variants.getAll();if(this.config.source==X.InitialVariants)return this.config.initialVariants},r.prototype.secondaryVariants=function(){if(this.config.source==X.LocalStorage)return this.config.initialVariants;if(this.config.source==X.InitialVariants)return this.variants.getAll()},r.prototype.exposureInternal=function(e,t){var i,n,a,o,l,d,u,s,c,f=(a=(n=(i=t.variant)===null||i===void 0?void 0:i.metadata)===null||n===void 0?void 0:n.trackExposure)!==null&&a!==void 0?a:!0;if(f){this.legacyExposureInternal(e,t.variant,t.source);var h={flag_key:e},v=Mt(t.source);if(!(v&&!t.hasDefaultVariant)){!((o=t.variant)===null||o===void 0)&&o.expKey&&(h.experiment_key=(l=t.variant)===null||l===void 0?void 0:l.expKey);var w=(d=t.variant)===null||d===void 0?void 0:d.metadata;if(!v&&!(w!=null&&w.default)&&(!((u=t.variant)===null||u===void 0)&&u.key?h.variant=t.variant.key:!((s=t.variant)===null||s===void 0)&&s.value&&(h.variant=t.variant.value)),w&&(h.metadata=w),this.isWebExperiment){var b=ee();if(b!=null&&b.location)try{var m=b.location.href;h.metadata.url=m.split("?")[0]||""}catch{}}(c=this.exposureTrackingProvider)===null||c===void 0||c.track(h),this.integrationManager.track(h)}}},r.prototype.legacyExposureInternal=function(e,t,i){var n,a,o,l,d;if(this.analyticsProvider){var u=this.addContext(this.getUser()),s=ui(u,e,t,i);Mt(i)||!(t!=null&&t.value)?(a=(n=this.analyticsProvider)===null||n===void 0?void 0:n.unsetUserProperty)===null||a===void 0||a.call(n,s):t!=null&&t.value&&((l=(o=this.analyticsProvider)===null||o===void 0?void 0:o.setUserProperty)===null||l===void 0||l.call(o,s),(d=this.analyticsProvider)===null||d===void 0||d.track(s))}},r.prototype.debug=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this.config.debug&&console.debug.apply(console,ze([e],ie(t),!1))},r.prototype.shouldRetryFetch=function(e){return e instanceof je?e.statusCode<400||e.statusCode>=500||e.statusCode===429:!0},r.prototype.addPlugin=function(e){e.type==="integration"&&this.integrationManager.setIntegration(e)},r}(),Ei=function(){function r(e,t){var i,n,a;this.globalScope=ee(),this.userAgent=typeof((i=this.globalScope)===null||i===void 0?void 0:i.navigator)!="undefined"?(n=this.globalScope)===null||n===void 0?void 0:n.navigator.userAgent:void 0,this.ua=new Ht.UAParser(this.userAgent).getResult(),this.localStorage=new We,this.sessionStorage=new zt,this.userProvider=e,this.apiKey=t,this.storageKey="EXP_".concat((a=this.apiKey)===null||a===void 0?void 0:a.slice(0,10),"_DEFAULT_USER_PROVIDER")}return r.prototype.getUser=function(){var e,t,i,n,a,o=((e=this.userProvider)===null||e===void 0?void 0:e.getUser())||{};return k({language:this.getLanguage(),platform:"Web",os:this.getOs(this.ua),device_model:this.getDeviceModel(this.ua),device_category:(i=(t=this.ua.device)===null||t===void 0?void 0:t.type)!==null&&i!==void 0?i:"desktop",referring_url:(a=(n=this.globalScope)===null||n===void 0?void 0:n.document)===null||a===void 0?void 0:a.referrer.replace(/\/$/,""),cookie:this.getCookie(),browser:this.getBrowser(this.ua),landing_url:this.getLandingUrl(),first_seen:this.getFirstSeen(),url_param:this.getUrlParam(),user_agent:this.userAgent},o)},r.prototype.getLanguage=function(){return typeof navigator!="undefined"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},r.prototype.getOs=function(e){var t,i;return[(t=e.browser)===null||t===void 0?void 0:t.name,(i=e.browser)===null||i===void 0?void 0:i.major].filter(function(n){return n!=null}).join(" ")},r.prototype.getDeviceModel=function(e){var t;return(t=e.os)===null||t===void 0?void 0:t.name},r.prototype.getBrowser=function(e){var t,i=(t=e.browser)===null||t===void 0?void 0:t.name;return i!=null&&i.includes("Chrom")&&(i="Chrome"),i!=null&&i.includes("Firefox")&&(i="Firefox"),i!=null&&i.includes("Safari")&&(i="Safari"),i!=null&&i.includes("Edge")&&(i="Edge"),i!=null&&i.includes("Opera")&&(i="Opera"),i},r.prototype.getCookie=function(){var e,t,i,n,a;if(!((t=(e=this.globalScope)===null||e===void 0?void 0:e.document)===null||t===void 0)&&t.cookie)return Object.fromEntries((a=(n=(i=this.globalScope)===null||i===void 0?void 0:i.document)===null||n===void 0?void 0:n.cookie)===null||a===void 0?void 0:a.split("; ").map(function(o){return o.split("=")}))},r.prototype.getLandingUrl=function(){var e,t;try{var i=JSON.parse(this.sessionStorage.get(this.storageKey)||"{}");return i.landing_url||(i.landing_url=(t=(e=this.globalScope)===null||e===void 0?void 0:e.location)===null||t===void 0?void 0:t.href.replace(/\/$/,""),this.sessionStorage.put(this.storageKey,JSON.stringify(i))),i.landing_url}catch{return}},r.prototype.getFirstSeen=function(){try{var e=JSON.parse(this.localStorage.get(this.storageKey)||"{}");return e.first_seen||(e.first_seen=(Date.now()/1e3).toString(),this.localStorage.put(this.storageKey,JSON.stringify(e))),e.first_seen}catch{return}},r.prototype.getUrlParam=function(){var e,t,i;if(this.globalScope){var n={};try{var a=new URL(this.globalScope.location.href);try{for(var o=J(a.searchParams),l=o.next();!l.done;l=o.next()){var d=ie(l.value,2),u=d[0],s=d[1];n[u]=ze(ze([],ie((i=n[u])!==null&&i!==void 0?i:[]),!1),ie(s.split(",")),!1)}}catch(c){e={error:c}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}catch{return}return Object.entries(n).reduce(function(c,f){var h=ie(f,2),v=h[0],w=h[1];return c[v]=w.length==1?w[0]:w,c},{})}},r}();P.experimentInstances={};var qt=P.experimentInstances,_i=function(r,e){return Wt(r,e)},Ai=function(r,e){var t=function(){return new Xr(r,Rt.getInstance(Qt(e)),1e4)};return Wt(r,e,t)},Qt=function(r){return(r==null?void 0:r.instanceName)||ne.instanceName},Ti=function(r,e){var t=Qt(e),i=e==null?void 0:e.internalInstanceNameSuffix;return i?"".concat(t,".").concat(r,".").concat(i):"".concat(t,".").concat(r)},ki=function(r,e){return new xi(r,k(k({},e),{userProvider:new Ei(e==null?void 0:e.userProvider,r)}))},Wt=function(r,e,t){var i=Ti(r,e),n=qt[i];return n||(n=ki(r,e),t&&n.addPlugin(t()),qt[i]=n,n)},Kt={initialize:_i,initializeWithAmplitudeAnalytics:Ai},Hi=function(){function r(){}return r.prototype.getUser=function(){return{}},r.prototype.start=function(e){return U(this,void 0,void 0,function(){return L(this,function(t){return[2]})})},r.prototype.stop=function(){},r.prototype.setUser=function(e){},r.prototype.fetch=function(e,t){return U(this,void 0,void 0,function(){return L(this,function(i){return[2,this]})})},r.prototype.getUserProvider=function(){return null},r.prototype.setUserProvider=function(e){return this},r.prototype.variant=function(e,t){return ne.fallbackVariant},r.prototype.all=function(){return{}},r.prototype.clear=function(){},r.prototype.exposure=function(e){},r}();var Ii=r=>{let e=t=>{if(t.nodeType===Node.TEXT_NODE){if(!t.parentNode.classList.contains("letter")){let i=t.textContent,n=document.createDocumentFragment();for(let a=0;a<i.length;a++){let o=document.createElement("span");o.className="letter",o.textContent=i[a],n.appendChild(o)}t.parentNode.replaceChild(n,t)}}else t.nodeType===Node.ELEMENT_NODE&&t.tagName!=="BR"&&Array.from(t.childNodes).forEach(e)};$(r).contents().each(function(){e(this)})},Ni=(r,e)=>{let t=gsap.timeline(),i=0;return $(r).each((n,a)=>{let o=$(a).find(".letter").not(".line-numbers-row .code-letter"),l=$(a).find(".word-highlight");if(o.each((d,u)=>{t.fromTo(u,{visibility:"hidden"},{visibility:"initial"},i*e,"<"),i++}),l.length){let d=l[0],u=window.getComputedStyle(d).getPropertyValue("background-color"),s=window.getComputedStyle(d).getPropertyValue("box-shadow"),c=(b,m)=>{let[g,C,F]=b.match(/\w\w/g).map(V=>parseInt(V,16));return`rgba(${g}, ${C}, ${F}, ${m})`},f=b=>{let m=b.replace(/^rgba?\(/,"").replace(/\)$/,"").split(",");return`rgba(${m[0]}, ${m[1]}, ${m[2]}, 0)`},h=b=>/^#(?:[0-9a-f]{3}){1,2}$/i.test(b),v=h(u)?c(u,0):f(u),w=s.replace(/rgba?\([^)]+\)/g,b=>h(b)?c(b,0):f(b));Array.from(l).forEach(b=>{b.style.backgroundColor=v,b.style.boxShadow=w}),t.to(l,{backgroundColor:u,boxShadow:s,duration:.35},"<")}}),t};var Xt=r=>{let e=$(r).find("code"),t=e.find(".line-numbers-rows").eq(0).clone();return e.find(".line-numbers-rows").remove(),Ii(e),e.prepend(t),Ni(e,.01)};function Zt(){let r=setInterval(()=>{let e=document.querySelectorAll("input[type=email]");e.length&&(Ci(e),clearInterval(r))},1e3)}var Jt="";function Ci(r){for(let e of r){if(e.classList.contains("emailCheck"))continue;let t=e.parentElement;for(;t&&t.nodeName!=="FORM"&&t.nodeName!=="BODY";)t=t.parentElement;let{formId:i}=t.dataset,n=Oi((a,o)=>{Yt(a)&&(Jt=a.value,amplitude.track("emailInput",{email:a.value,formId:o}))},3e3);e.addEventListener("input",a=>{a.target.value!==Jt&&Yt(a.target)&&n(a.target,i)}),e.classList.add("emailCheck")}}function Yt(r){return r.checkValidity()&&!r.classList.contains("error")&&r.value!==""}var Oi=(r,e)=>{let t=null;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>{r(...i)},e)}};function er({tabs:r,cards:e,onCardLeave:t,onTabLeave:i,onCardShow:n,onTabShow:a}){if(r.length!==e.length)throw new Error(`Cards length: ${e.length} did not match tabs length: ${r.length}`);let o=!1,l=0;async function d(c){let f=c===0?e.length-1:c-1;await Promise.all([t(e.eq(f)),i(r.eq(f))]),await Promise.all([n(e.eq(c)),a(r.eq(c))])}async function u(){for(;!o;)await d(l),l+=1,l===e.length&&(l=0)}r.each((c,f)=>{f.onclick=()=>{t(e.eq(l)),i(r.eq(l)),n(e.eq(c)),a(r.eq(c)),o=!0,l=c}});let s=new IntersectionObserver(c=>{c[0].intersectionRatio<=0||(u(),s.unobserve(r[0]))},{threshold:1});s.observe(r[0])}function tr({animateOnSlide:r,sliderSelector:e,onInit:t,duration:i}){function n({activeIndex:a,slides:o}){o.length!==0&&r($(o[a]))}new Swiper(e,{slidesPerView:1,spaceBetween:24,speed:250,autoplay:{delay:i},observer:!0,on:{init:a=>{t(),n(a)},transitionEnd:a=>{n(a)}},pagination:{el:".swiper-navigation",type:"bullets",clickable:!0,bulletActiveClass:"w-active",bulletClass:"w-slider-dot"}})}async function Pi(r=15){await new Promise(e=>setTimeout(()=>requestAnimationFrame(()=>{e()}),r))}async function rr(r,e=1e3){let t=0;for(;!r()&&t<e;)t=t+1,await Pi()}document.documentElement.classList.add("js-enabled");document.querySelectorAll("h1,h2,h3").forEach(r=>{let e=r.innerText.toLowerCase().split(" ").map(i=>i.replace(/\W/g,"")).join("-");r.style.position="relative";let t=document.createElement("div");t.style.position="absolute",t.style.top="-90px",t.style.left="0",t.id=e,r.appendChild(t)});$(document).ready(function(){if(gsap.registerPlugin(ScrollTrigger),window.location.hash){let p=document.getElementById(window.location.hash.replace("#",""));setTimeout(()=>{window.scrollTo({top:p.getBoundingClientRect().top+window.scrollY})},100)}let r=$(".curl_copy"),e;if(r){let p=function(A){var I=document.createElement("textarea");I.value=A,I.style.position="fixed",I.style.left="-999999px",I.style.top="-999999px",document.body.appendChild(I),I.focus(),I.select();try{var z=document.execCommand("copy");clearTimeout(e),$("#copy-icon").hide(),$("#copy-success").show(),$(".curl_copy-tip-text").text("Copied!"),e=setTimeout(()=>{$("#copy-icon").show(),$("#copy-success").hide(),$(".curl_copy-tip-text").text("Copy")},4e3)}catch{}document.body.removeChild(I)};var ge=p;r.on("click",function(A){A.preventDefault();let I=$(this).find("[data-copy]").text();p(I),amplitude.track("copyMojoDownload")})}window.location.pathname!=="/team"&&($("img").each(function(){$(this).parent().hasClass("latest-blog_visual")||$(this).removeAttr("loading")}),ScrollTrigger.refresh());function t(){let p=document.querySelectorAll("*");for(let A of p){if(A.tagName.toLowerCase()==="body"||A.tagName.toLowerCase()==="html")continue;let I=window.getComputedStyle(A);(I.overflow==="auto"||I.overflow==="scroll"||I.overflowX==="auto"||I.overflowX==="scroll"||I.overflowY==="auto"||I.overflowY==="scroll")&&(A.classList.add("no-scrollbar"),A.classList.add("swiper-no-swiping"))}}t(),$(".dashboard_inner[code-animation]").each(function(){let p=$(this).find(".dashboard_code-block");p.hide(),ScrollTrigger.create({trigger:$(this),once:!0,start:"50% bottom",invalidateOnRefresh:!0,toggleActions:"play null null null",onEnter:()=>{p.show(),Xt($(this))}})});var i=!1,n=!1;let a=".navbar_part.links",o=".navbar_link",l=".navbar_menu-btn",d=$(".navbar_ham-line"),u="Close";function s(){return gsap.timeline({paused:!0,onComplete:()=>{f()}}).fromTo(d.eq(0),{y:"0px",rotate:"0deg"},{y:"7px",rotate:"45deg"},"<").fromTo(d.eq(1),{opacity:1},{opacity:0},"<").fromTo(d.eq(2),{y:"0px",rotate:"0deg"},{y:"-7px",rotate:"-45deg"},"<").fromTo(".navbar_menu-close",{x:"0.4rem",opacity:0},{x:"0",opacity:1},"<").fromTo(a,{display:"none"},{display:"flex"},"<").fromTo(a,{yPercent:-100},{yPercent:0},"<").fromTo([o,".navbar_link-icon"],{y:"100%",opacity:0},{y:"0%",opacity:1,stagger:{each:.05}},"-=0.2").fromTo(o,{pointerEvents:"none"},{pointerEvents:"auto"},"<")}let c,f=()=>{i?$("html, body").scrollTop(c).removeClass("overflow-hidden"):(c=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden")),i=!i},h;ScrollTrigger.matchMedia({"(max-width: 991px)":function(){h=s()}}),$(".navbar_menu-btn").on("click",v);function v(){h&&w()}function w(){b(),i?($(".navbar_menu-btn").removeClass("open"),h.timeScale(1.5).reverse(),f()):($(".navbar_menu-btn").addClass("open"),h.timeScale(1).play())}function b(){u=i?"Menu":"Close"}if($(".navbar_dropdown").on("click",function(){$(window).width()<992&&($(".navbar_dropdown").removeClass("is-active"),$(this).addClass("is-active"))}),$(".tabs.max-tab").length){let z=function(E){return new Promise(Q=>{E.addClass("active"),Q()})};var ir=z;let p="tab-active",A=".tabs_block-progress-line";er({tabs:$(".tabs.max-tab .tabs_block-link-menu .tabs_block-link"),cards:$(".tabs.max-tab .max-products .max-products_grid-cell"),onCardLeave:E=>{E.removeClass("active")},onTabLeave:E=>{E.removeClass(p),E.find(A).stop(),E.find(A).css("width","0")},onCardShow:z,onTabShow:E=>new Promise(Q=>{E.addClass(p),E.find(A).animate({width:"100%"},4e3,Q)})}),tr({sliderSelector:".tabs_slider.max-tab",animateOnSlide(E){E.find(A).stop(!0,!0).css("width","0").animate({width:"100%"},4e3);let Q=$(".tabs_slider.max-tab .max-products .max-products_grid-cell");Q.removeClass("active"),Q.eq(E.index()).addClass("active")},onInit(){},duration:4e3})}Zt();function m(p,A){return()=>{amplitude.track(A,{href:window.location.href,location:p.dataset.analyticsLocation})}}setTimeout(()=>{[...document.querySelectorAll("a")].filter(p=>p.href==="https://docs.modular.com/").forEach(p=>{p.onclick=m(p,"DownloadMaxClicked")})},100),setTimeout(()=>{[...document.querySelectorAll("a")].filter(p=>p.href==="https://modular.com/enterprise#form").forEach(p=>{p.onclick=m(p,"ContactSalesClicked")})},200),setTimeout(()=>{[...document.querySelectorAll("[data-analytics-onclick]")].forEach(p=>{p.onclick=m(p,p.dataset.analyticsOnclick)})},300);let g=new Date;function C(p){if(!g)return;let A=Math.round(new Date().getTime()-g.getTime())/1e3;amplitude.track("TimeOnPage",{duration:`${Math.round(A)}`,minutes:`${Math.round(A/60)}`,pathname:p})}function F(){let{documentElement:p}=document,{body:A}=document;return Math.round((p.scrollTop||A.scrollTop)/((p.scrollHeight||A.scrollHeight)-p.clientHeight)*100)}let V=0;setInterval(()=>{let p=F();p>V&&(V=p)},500),window.addEventListener("beforeunload",()=>{let{pathname:p}=window.location;C(p),amplitude.track("MaxScrollPercentage",{maxScroll:V,pathname:p})});async function q(){try{let A=new URL(window.location.href).host==="modular-prod-dev.webflow.io"?"client-ejPfaOrUEtTflNBKKrNtLWx5IB1QbAmy":"client-fhQfFdzMgOCoCAWmoV0W8KvnbhFe2dUu",I=Kt.initializeWithAmplitudeAnalytics(A);await I.fetch(),Object.entries(I.variants.getAll()).forEach(([z,E])=>{if(E.payload){I.exposure(z);let Q=E.payload.hide?`.${E.payload.hide} { display: none !important; }
`:"",se=E.payload.hide?`.${E.payload.show} { display: flex !important; }`:"",re=document.createElement("style");re.type="text/css",re.innerHTML=Q+se,document.getElementsByTagName("head")[0].appendChild(re)}})}catch{}document.querySelector(".section_hp-hero")&&(document.querySelector(".section_hp-hero").style.opacity=1)}rr(()=>window.amplitude).then(()=>{let p=location.href.indexOf("www.modular.com")!==0,A=window.sessionReplay.plugin({sampleRate:p?.1:0});window.amplitude.add(A),window.amplitude.init(p?"3878a0571d1575870a7d0a5f7e644d23":"d8bf208ebdc1b1000d38da8b826a74c4"),q()});function G(p=""){return`curl -ssL https://magic.modular.com/${p} | bash`}let D="mod-id",ae=Ri(D),oe=null;if(ae&&!ae.startsWith("www-"))oe=ae;else{let p=crypto.randomUUID().replace(/^..../,"fed1");oe=p,document.cookie=`${D}=${p}; expires=Fri, 31 Dec 9999 23:59:59 GMT; SameSite=Lax; Secure;Path=/;`}let Y=setInterval(()=>{let p=amplitude.getDeviceId(),A=document.querySelector(".inject-install > pre"),I=G(p||oe);if(A){for(let E of document.querySelectorAll(".inject-install"))E.querySelector("code").style.textOverflow="ellipsis",E.querySelector("code").style.overflow="hidden",E.querySelector("code").innerHTML=E.querySelector("code").innerText=`<span class="line"><br/>${I}</span>`;p&&clearInterval(Y)}let z=document.querySelectorAll('[fs-copyclip-element="copy-this"]');for(let E of z)E&&E.innerText&&E.innerText.includes("curl -ssL https://magic.modular.com | bash")&&(E.innerText=I)},250);Ui()});function Ri(r){let e=r+"=",i=decodeURIComponent(document.cookie).split(";");for(let n=0;n<i.length;n++){let a=i[n];for(;a.charAt(0)===" ";)a=a.substring(1);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return""}function Ui(){let r=document.getElementById("contactForm");r&&r.addEventListener("submit",async function(e){e.preventDefault(),$(".contact-form").parent().css("display","none"),$(".contact-form_success").css("display","flex");let t=new FormData(r);t.append("oid","00Da500001MRD5G"),t.append("retURL","https://www.modular.com/company/talk-to-us");try{await fetch("https://webto.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8&orgId=00Da500001MRD5G",{method:"POST",body:t,mode:"no-cors"}),window.history.replaceState({},"",window.location.href.split("?")[0])}catch(i){console.error("Error submitting form:",i),alert("There was an error submitting your request. Please try again.")}})}})();
